
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Tutorial completo en español: http://www.nongnu.org/emacs-man-es/ . Mucho más que un editor [no un procesador]. Lo que sigue es un pequeño manual de &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/emacs/">Emacs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-22T06:45:00+01:00" pubdate data-updated="true">22-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Tutorial completo en español: <a href="http://www.nongnu.org/emacs-man-es/">http://www.nongnu.org/emacs-man-es/</a> . Mucho más que un editor [no un procesador]. Lo que sigue es un pequeño manual de primeros auxilios.</p>

<p>Cuando Emacs abre un archivo lo abre en un buffer. Cuando leemos un fichero, lo que hacemos es copiar su contenido a una zona de memoria [a un buffer] y durante la edición lo que modificamos es esa zona de memoria, el fichero como tal permanece inalterado hasta que explícitamente demos la orden de grabar en el disco las modificaciones. Cuando emacs se inicia se abren dos búffers que no están asociados a ningún fichero: <em>scratch</em> y <em>messages</em> [En ambos el nombre empieza y acaba por un asterisco, lo que indica que no es un búffer asociado a un fichero]</p>

<p>Significado de algunas teclas en la terminologia de emacs:</p>

<pre><code>Alt = M (meta)

Crtl= C (control)

SPC (Barra espacio)

RET (intro)

RETRO (retroceso)
</code></pre>

<blockquote><p>$ emacs -nw (Lanzar emacs en consola. Para crear un alias: alias emacs=&#8217;emacs -nw&#8217;)</p>

<p>$ emacs -nw &#8211;debug-ini (Modo debuger para comprobar errores de sintaxis en ~/.emacs)</p></blockquote>

<p>Teclas de socorro:</p>

<pre><code>C-g (Cancelar algo: un comando, una combinación de teclas...)

C-x u (Deshacer)
</code></pre>

<p>Movimiento por el texto:</p>

<pre><code>C-a (ir al comienzo de una línea)

C-e (ir al final de una línea)

C-f (un caracter hacia adelante)

C-b (un caracter hacia atrás)

M-f (una palabra hacia adelante)

M-b (una palabra hacia atrás)

C-n (ir ala siguiente línea)

C-p (ir a la línea anterior)

M-a (Ir al inicio de la frase)

M-e (Ir al final de la frase)

C-v (Pagina siguiente)

M 8 C-v (baja 8 lineas la pantalla, NO 8 PÁGINAS)

M-v (Pagina anterior)

M 8 M-v (Sube 8 lineas la pantalla, NO 8 PÁGINAS)

M-&lt; (Ir al principio del texto)

M-&gt; (Ir al final del texto)

M-g g (Ir a la linea)

C-l (Redibuja la pantalla. La primera vez que se pulsa, coloca la linea del cursor en el centro, la segunda arriba y la tercera abajo)
</code></pre>

<p>Salir:</p>

<pre><code>C-x C-c (Salir de Emacs)

C-x C-s (Guardar sin salir)

C-x C-w (Salir y guardar como)

C-x s (Guardar todos los ficheros abiertos. Preguntará.)
</code></pre>

<p>Copiar, cortar, pegar</p>

<pre><code>C-Esp (Inicio del marcado de texto)

C-h (Marcar todo el buffer, "Seleccionar todo")

M-w (Copiar)

C-w (Cortar)

C-y (Pegar)

C-x C-t (Copiar linea)

M-h (Selecciona un párrafo)
</code></pre>

<p>Buscar:</p>

<pre><code>C-s (busca hacia adelante)

C-r (busca hacia atras)

C-s C-s (repite la busqueda)
</code></pre>

<p>Borrar:</p>

<pre><code>M-d (Palabra despues del cursor)

M 3 M-d (Borra 3 palabras)

C-k (del cursor a fin de linea)

M 3 C-k (Borra 3 lineas)

M-k (todo el párrafo)

M 3 M-k (Borra 3 párrafos)
</code></pre>

<p>Ventanas:</p>

<pre><code>C-x 2 (división horizontal de la ventana en dos) 

C-x 3 (división vertical de la ventana en dos)

C-x 1 (Deja solo la ventana activa abierta)

C-x o (cambiar de ventana)

C-x 0 (Eliminar ventana actual) 

C-x } (alarga la ventana activa en dirección horizontal)

C-x { (La acorta en dirección horizontal)

C-x ^ (La alarga en dirección vertical)
</code></pre>

<p>Buffers:</p>

<pre><code>C-x k (cierra la buffer actual. Pide confirmación)

C-x b (Cambiar de buffer)

C-x C-b (Listar buffers. Cada archivo se abre en un buffer)

C-x flechas derecha/izquierda (cambiar al siguiente/anterior)
</code></pre>

<p>Marcas:</p>

<pre><code>C-x r m (Solicita nombre para la linea marcada)

C-x r b (Ir a la linea marcada con el nombre que entremos, en este caso la "b")

C-x r l (Lista todas las marcas)
</code></pre>

<p>Imprimir:</p>

<pre><code>C-u M-x ps-print-buffer-with-faces (Imprimir a ps. Luego con ps2pdf pasar a pdf)

M-x  print-buffer (Imprimir archivo con numeración y cabeceras)

M-x  lpr-buffer (Imprimir sin numeración ni cabeceras)

M-x  print-region (Imprimir trozo seleccionado con numeración y cabeceras)

M-x  lpr-region  (Imprimir trozo seleccionado sin numeración ni cabeceras)
</code></pre>

<p>Varios:</p>

<pre><code>C-x C-f (brir un archivo)

C-o (Inserta linea en blanco a continuación del cursor)

M-x tetris (Otros juegos: dunnet, snake, doctor, zone...)

M-x help-with-tutorial-spec-language (abre buffer con los idiomas disponibles para el manual)

C-x d (Abre un directorio que se especifique)

C-x RET f (Entrar codificación de caracteres: latin-1-unix [latin1], utf-8-unix [utf8]..)

C-x custom (Personalizar numerosos aspectos de emacs) 
</code></pre>

<p>Entrar comandos de shell e insertar:</p>

<pre><code>C-z (Suspende la sesion emacs y entra en la shell. Volver a emacs con fg o con %emacs)

M-! (Muestra en el mini buffer un mensaje para entrar un comando y lo abre un una ventana)

C-u M-! (Inserta la salida del comando en la posición del cursor)

M-x shell (Salir a la shell. C-x k para volver a edición)

C-x i (Insertar archivo en la posición del cursor)

C-c C-l (Mostrar historial de comandos)
</code></pre>

<p>ayuda:</p>

<pre><code>C-h w (Muestra el atajo de la función que entremos)

F10 (Abre la ayuda general)

C-h k (Muestra información sobre un atajo)

C-h a (Todas las opciones de un comando)

C-h b (Ver todos los atajos)
</code></pre>

<p>Modo comando:</p>

<pre><code>M-x recover file (levantar respaldo del archivo)

M-x apropos INTRO print (Muestra información de "print")

M-x list-faces-display (Ver lista y muestra de los estilos disponibles)

M-x set-foreground-color (Pedirá color en inglés para las fuentes.

M-x set-background-color (Pedirá color para el fondo)

M-x w3m-browser-url (Pedirá url para conectar. Precisa w3m-el)

M-x browse-url-firefox (Abrir una url con firefox)

M-x global-linum-mode (Mostras/esconder números de linea)

M-x global-visual-line-mode (Cortar/no cortar palabras al final de la pantalla)

M-x global-hl-line-mode (Resaltar la linea donde está el cursor)

M-x calendar (Mostrar mes actual, el anterior y el posterior)

M-x command-history  (History de comandos entrados)

M-x calculator (Calculadora muy elemental)
</code></pre>

<p>Para hacer permanente cualquiera de las opciones anteriores, colocarla en ~/.emacs de la siguiente forma:</p>

<pre><code>(global-set-key (kbd "&lt;f7&gt;") 'global-linum-mode)
</code></pre>

<p>Para mostrar u ocultar los numeros de linea pulsando F7</p>

<p>1.-</p>

<p>Abrir navegador de archivos. Precisa tenerlo instalado</p>

<p>Instalar nav:</p>

<p>Descarga de <a href="http://code.google.com/p/emacs-nav/">http://code.google.com/p/emacs-nav/</a>. Una vez descomprimido copiar el directorio en ~/.emacs.d/ y renombrar como nav</p>

<blockquote><p>$ emacs .emacs</p></blockquote>

<p>Completar configuración y que se abra pulsado F8, añadir las siguientes lineas:</p>

<pre><code>(add-to-list 'load-path "/home/USER/.emacs.d/nav/")

(require 'nav)

(nav-disable-overeager-window-splitting)

(global-set-key [f8] 'nav-toggle)
</code></pre>

<p>Abrir con M-x nav</p>

<p>2.-</p>

<p>Añadir una &#8220;lista negra&#8221; de bufferes a los que no interesar acceder (scratch, messages&#8230;).</p>

<p>Añadir a .emacs las siguientes lineas:</p>

<pre><code>(require 'iswitchb)

(iswitchb-mode)

(add-to-list 'iswitchb-buffer-ignore "^ ")

(add-to-list 'iswitchb-buffer-ignore "*Messages*")

(add-to-list 'iswitchb-buffer-ignore "*ECB")

(add-to-list 'iswitchb-buffer-ignore "*Buffer")

(add-to-list 'iswitchb-buffer-ignore "*Completions")

(add-to-list 'iswitchb-buffer-ignore "*scratch*")

(add-to-list 'iswitchb-buffer-ignore "*ftp ")

(add-to-list 'iswitchb-buffer-ignore "*bsh")

(add-to-list 'iswitchb-buffer-ignore "*jde-log")

(add-to-list 'iswitchb-buffer-ignore "^[tT][aA][gG][sS]$")
</code></pre>

<p>Al pulsar C-x b (Listar buffers abiertos) El buffer que aparece en primer lugar, resaltado en otro color, es el que se mostrará al pulsar Enter. Si queremos cambiar a otro buffer pulsar C-s para rotar el orden de los elementos de la lista.</p>

<p>3.-</p>

<p>Escuchar música con emms.</p>

<p>Instalar emms en el sistema mediante repositorio y descargar <a href="http://www.gnu.org/software/emms/">http://www.gnu.org/software/emms/</a> , descomprimir y mover el directorio a ~/.emacs.d/l. En .emacs colocar las lineas:</p>

<pre><code>(add-to-list 'load-path "~/emms/")

(require 'emms-setup)

(emms-standard)

(emms-default-players)
</code></pre>

<p>Llamar com M-x emms (Pulsando TAB apareceran las opciones)</p>

<p>4.-</p>

<p>Corrector ortográfico. apt-get install aspell-es dictionary-el</p>

<pre><code>M-x ispell-buffer (Muestra las alternativas a la palabra mal escrita)

M-x dictionary (Una vez escogido el deseado, buscar traducción, significado...)

M-x flyspell-mode (Lanzado al inicio del texto, mostrará los errores al escribirlos)
</code></pre>

<p>5.-</p>

<p>Recargar archivo de configuración .emacs despues de una modificación:</p>

<pre><code>M-x load-file (Cuando solicite el nombre del archivo colocar .emacs)

M-x eval-buffer (Si el archivo .emacs se encuentra en un buffer)
</code></pre>

<p>6.-</p>

<p>Conectar a un servidor ssh:</p>

<p>Descargar tramp de <a href="http://ftp.gnu.org/gnu/tramp/">http://ftp.gnu.org/gnu/tramp/</a> descomprimir y mover la carpeta al directorio ~/emac.d/ . En el archivo de configuración .emacs añadir las lineas:</p>

<pre><code>(require 'tramp)

(setq tramp-default-method "ssh")
</code></pre>

<p>Abrir sesión de emacs y acceder al host remoto con:</p>

<pre><code>C-x C-f /ssh:USER@host_remoto:/home/USER/
</code></pre>

<p>Pedirá contraseña.</p>

<p>Nota.- Después de pulsar el atajo, no olvidar borrar la referencia al directorio local ~/ dejándolo en /</p>

<p>7.-</p>

<p>Temas de colores:</p>

<p>Descargar el paquete tar.gz de:  <a href="http://download.gna.org/color-theme/">http://download.gna.org/color-theme/</a></p>

<p>Una vez decomprimido mover la carpeta a ~/.emacs.d:</p>

<pre><code>~/.emacs.d/color-theme
</code></pre>

<p>Y añadir a .emacs las lineas:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)
</code></pre>

<p>Arrancar emacs y:</p>

<pre><code>M-x color-theme-select                                                                                                                   
</code></pre>

<p>Mostrará en un nuevo buffer una lista de temas disponibles que podrán probarse seleccionandolos con &#8220;intro&#8221; o la tecla &#8220;i&#8221;. Una vez escogido el tema, pulsando la letra d, muestra la linea que ha de entrarse en .emacs. Supongamos que escogemos Charcoal Black, añadiremos la linea (color-theme-charcoal-black) quedando toda la entrada:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)

(color-theme-charcoal-black) 
</code></pre>

<p>8.-</p>

<p>Consultando directorios: dired, navegador de archivos de emacs.</p>

<pre><code>g (Despues de una modificación actualiza la pantalla)

v (Muestra el archivo en modo solo-lectura

q (Regresa al listado)

e [enter] (Editar el archivo)

d (Marca un archivo para su eliminación colocando una "D" en la 1ª columna)

u (Elimina la marca anterior)

x (Elimina los archivos marcados con una "D")

D (Eliminación inmediata)

C (Copiar)

3C (Copiar el archivo de la linea del cursor y los 3 siguientes)

R (Renombrar o mover)

Z (Comprimir descomprimir [compress (.z .Z) y gzip (.gz)])

X (Entrar comandos de shell [chmod, grep, find, sort ...])

+ (Crear directorio)

** (Marcar todos los ejecutables)

*/ (Marca todos los directorios)

*! (Desmarca todo)

M (Cambiar los permisos. Sólo poner la numeración [777, 755...])

O (Cambiar el propietario)

P (Imprimir el fichero. El comando lp imprimirá con la impresora predeterminada)

h (Muestra la ayuda y todos los atajos de teclado)

S (Crear un enlace simbólico)
</code></pre>

<p>9.-</p>

<p>Otros ajustes que pueden incorporarse a .emacs precedidas con la explicación comentada:</p>

<pre><code>;;Mostrar consola al pulsar F5:

(global-set-key (kbd "&lt;f5&gt;") 'eshell)

;;Especificar número de espacios en las tabulaciones.

(setd-default  tab-width  4)

;;Mostrar reloj y con formato 24 horas

(setq display-time-24hr-format t)

(display-time)

;;Descomprimir archivos.

(auto-compression-mode t)

;;Reemplazar "yes" y "no" por "y" y "n" en el prompt.

(fset 'yes-or-no-p 'y-or-n-p)

;;Sin copias de seguridad (torvalds-mode).

(setq make-backup-files nil)

;; Embellecer el calendario:

(setq view-diary-entries-initially t

mark-diary-entries-in-calendar t

number-of-diary-entries 7)

(add-hook 'diary-display-hook 'fancy-diary-display)

(add-hook 'today-visible-calendar-hook 'calendar-mark-today)

;; Poner en español el calendario:

(setq calendar-week-start-day 1

calendar-day-name-array

["Domingo" "Lunes" "Martes" 

"Miercoles" "Jueves" "Viernes" "SÃ¡bado"]

calendar-month-name-array

["Enero" "Febrero" "Marzo" "Abril"

"Mayo" "Junio" "Julio" "Agosto" "Septiembre"

"Octubre" "Noviembre" "Diciembre"])
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/chmod/">Chmod</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-17T17:58:00+01:00" pubdate data-updated="true">17-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Gestión de permisos de los ficheros y directorios.</p>

<blockquote><p>$ chmod ugo+rwx -R /home/usuario/directorio  (todos los permisos a todos los usuarios sobre el directorio y subdirectorios)</p>

<p>$ chmod 777 -R /home/usuario/directorio (Equivalente en octal)</p>

<p>$ chmod a+w archivo (permiso de escritura para todos)</p>

<p>$ chmod 222 -R /home/usuario/directorio (Equivalente en octal)</p>

<p>$ chmod -w archivo (Quitar permiso de escritura a un archivo)</p>

<p>$ chmod +x archivo (Dar permiso de ejecución)</p>

<p>$ chmod 744 archivo (Lectura, escritura y ejecución para el usuario y sólo lectura para el grupo y otros)</p>

<p>$ chmod u=rwx,go=r archivo (Equivalente en alfabético)</p>

<p>$ chmod &#8211;reference=file1 file2 (Otorgar los mismos permisos de file1 a file2)</p></blockquote>

<p>Código numérico (octal):</p>

<pre><code>1 = ejecución [x]

2 = escritura [w]

3 (1+2) = escritura y ejecución [xw]

4 = lectura [r]

5 (4+1) = lectura y ejecución [rx]

6 (4+2) = lectura y escritura [rw]

7 (4+2+1) = lectura, escritura y ejecución [wxr]
</code></pre>

<p>Código alfabético:</p>

<p>r (lectura), w (escritura), x (ejecución)</p>

<p>u (usuario), g (grupo), o (otros), a (para todos)</p>

<p>Nota.- Cuando un directorio está marcado como ejecutable [x] significa que se puede mirar dentro [ls] o entrar en él [cd]</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/pdf2ps/">Pdf2ps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-17T15:26:00+01:00" pubdate data-updated="true">17-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>[psutils]. Convertir pdf a postscript. Ver ps2pdf</p>

<blockquote><p>$ pdf2ps fichero.pdf</p></blockquote>

<p>1.-</p>

<p>Proceso para disminuir el peso de un pdf:</p>

<blockquote><p>$ pdf2ps entrada.pdf saliida.ps (Pasarlo a postcript)</p>

<p>$ ps2pdf saliida.ps resultado_reducido.pdf (Pasar el postscript nuevamente a pdf)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/xscreesaver/">Xscreesaver</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-09T19:15:00+01:00" pubdate data-updated="true">09-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Colección de salvapantallas.</p>

<blockquote><p>$ ls /usr/lib/xscreensaver/ (Listar todas las opciones)</p>

<p>$ /usr/lib/xscreensaver/distort (Lanzando la opción distort)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/lsscsi/">Lsscsi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-09T10:02:00+01:00" pubdate data-updated="true">09-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Muestra información de los discos duros y unidades de DVD o tarjetas que tengamos conectados al PC</p>

<blockquote><p>$ lsscsi (Muestra un resumen de las unidades)</p>

<p>$ lsscsi -l (Muestra información extendida de las unidades)</p>

<p>$ lsscsi -L (Muestra información aún más extensa de las unidades, en varias líneas)</p>

<p>$ lsscsi -s (Mostrando la capacidad)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/apt-get/">Apt-get</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-09T10:02:00+01:00" pubdate data-updated="true">09-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Gestor de programario de distribuciones Debian</p>

<blockquote><p># apt-get update    (Actualiza la lista de paquetes)</p>

<p># apt-get upgrade   (Actualiza todos los paquetes instalados)</p>

<p># apt-get upgrade paquete     (Solo actualiza “paquete”)</p>

<p># apt-get dist-upgrade    (Actualiza la distribución)</p>

<p># apt-get install paquete (Instala paquetes con resolución de depencias)</p>

<p># pat-get install paquete -y (instalar paquete sin pedir confirmación)</p>

<p># apt-get install &#8211;reinstall  paquete      (Reinstala un paquete)</p>

<p># apt-get autoremove  (Borra paquetes huérfanos)</p>

<p># apt-get remove paquete        (Elimina un paquete)</p>

<p># apt-get remove &#8211;purge paquete  (Desinstala con archivos de configuración)</p>

<p># apt-get remove $(deborphan)  (Elimina huerfanos. lanzar varias veces)</p>

<p># apt-get clean        (Elimina caché)</p>

<p># apt-get autoclean  (lo mismo de versiones antiguas de paquetes)</p>

<p># apt-get -f install   (sin especificar paquete, para reparar la aplicación)</p>

<p># apt-get -s install paquete        (simula la instalación)</p>

<p># apt-get &#8211;compile source paquete  (baja las fuentes, compila y crear un .deb)</p>

<p># apt-get check          (Verifica dependencias rotas)</p>

<p># apt-get build-dep paquete (instalar las dependencias necesarias para poder compilar un paquete fuente)</p>

<p># apt-get install network-manager=0.9.1.90-0ubuntu3 (version concreta)</p>

<p># apt-get hold network-manager (Mantener una version concreta)</p>

<p># apt-get source paquete (buscar un paquete fuente para ser compilado)</p>

<p># apt-rdepends paquete (muestra todas las dependencias)</p>

<p># apt-rdepends -b paquete (muestra las dependencias directas)</p>

<p># apt-rdepends -f paquete  (muestra version y estado del paquete)</p>

<p># apt-cache search paquete       (Busca en la cache paquete)</p>

<p># apt-cache show paquete         (Muestra la descripción completa del paquete)</p>

<p># apt-cache showpkg paquete   (Muestra su relación con otros paquetes)</p>

<p># apt-cache depends paquete    (Muestra las dependencias del paquete)</p>

<p># apt-cache rdepend paquete     (Muestra dependencias inversas del paquete)</p>

<p># apt-cache policy paquete       (repositorio de donde se ha bajado un paquete)</p>

<p># apt-get &#8211;yes install paquete (Responder “si” a preguntas de la instalación)</p>

<p># aptitude search ~ilinux-image (Lista los kernels instalados)</p>

<p># aptitude search ~i -F %p (Lista los paquetes instalados)</p>

<p># apt-setup                              (Crea un sources.list optimizado)</p>

<p># add-apt-repository ppa:repositorio   (añadir un repositorio ppa)</p>

<p># ppa-purge ppa:repositorio   (suprimirlo. Precisa el script ppa-purge))</p></blockquote>

<p>/etc/apt/sources.list               (Fichero de repositorios.)</p>

<p>/var/cache/apt/archives          (Caché de los paquetes .deb instalados)</p>

<p>/var/log/apt/term.log (Archivo de logs de la aplicación)</p>

<p>1.-</p>

<p>Para resolver problemas con  /var/lib/apt/lists/*  lanzar:</p>

<blockquote><p># rm /var/lib/apt/lists/* -vf</p></blockquote>

<p>Y luego:</p>

<blockquote><p># apt-get update</p></blockquote>

<p>2.-</p>

<blockquote><p># apt-get -o &#8220;Acquire::Check-Valid-Until=false&#8221; update   (Saltarse el validador  que verifica la fecha de caducidad del archivo “Release” de debian [Error ” Release file expired, ignoring file”])</p></blockquote>

<p>3.-</p>

<p>Añadir repositorios de distintas ramas en debian.</p>

<p>Incluir en el sources.list los repositorios de las distintas ramas:</p>

<blockquote><p># nano sources.list</p></blockquote>

<pre><code>## Debian Testing

deb http://ftp.de.debian.org/debian/ testing main contrib non-free

deb-src http://ftp.de.debian.org/debian/ testing main contrib non-free

## seguridad Debian Testing

deb http://security.debian.org/ testing/updates main contrib non-free

deb-src http://security.debian.org/ testing/updates main contrib non-free

## Debian Unstable

deb http://ftp.us.debian.org/debian unstable main non-free contrib

## Debian experimental

deb http://ftp.fr.debian.org/debian experimental main non-free contrib
</code></pre>

<p>Editar o crear el fichero:</p>

<blockquote><p># nano /etc/apt/apt.conf</p></blockquote>

<p>Con el siguiente contenido:</p>

<pre><code>APT::Default-Release “testing”;

APT::Cache-Limit 55000000;

Apt::Get::Purge;

APT::Clean-Installed;

APT::Get::Fix-Broken;

APT::Get::Fix-Missing;

APT::Get::Show-Upgraded “true”;
</code></pre>

<p>Con el que establecemos las siguientes caracteristicas: Definir Debian Testing como rama principal,Limitar la cache utilizada en el proceso de actualización,Borrar archivos de configuración de los paquetes desinstalados y Arreglar el sistema en caso de detectar dependencias rotas.</p>

<p>Editar el archivo preferences:</p>

<blockquote><p># nano /etc/apt/preferences</p></blockquote>

<p>Con el contenido:</p>

<pre><code>Package: *

Pin: release a=testing

Pin-Priority: 900

Package: *

Pin: release a=unstable

Pin-Priority: 600

Package: *

Pin: release a=experimental

Pin-Priority: 50
</code></pre>

<p>Que tiene por significado que si el paquete existe en la rama testing se enstalará este, en caso contrario, si existe en unstable se instalará el unstable y sólo si no existe en las otras dos, se instalará de la versión experimental.</p>

<p>También podemos especificarlo en el comando:</p>

<blockquote><p># apt-get install libreoffice/unstable (Firefox se instalará de la rma unstable, pero las dependencias, se buscarán en primer lugar en la rama testing)</p>

<p># apt-get -t unstable install firefox (Tanto firefox como las dependencias se instalarás de la rama unstable)</p></blockquote>

<p>4.-</p>

<p>Instalación de aplicaciones sin conexión a internet. Ha de instalarse en dos equipos: el que tiene conexión y en el que no la tiene. Esta aplicación tiene muchas limitaciones ya que no instala dependencias por lo que puede usarse en pocos casos.</p>

<p>En el equipo sin conexión:</p>

<blockquote><p># apt-offline set apt.sig &#8211;update &#8211;upgrade &#8211;install-packages PAQUETE (genera el archivo apt.sig que ha de trasladarse al equipo que tiene conexión)</p></blockquote>

<p>En el equipo conexión:</p>

<blockquote><p># apt-offline get apt.sig &#8211;threads 5 &#8211;bundle offline.zip (Crea el archivo offline.zip que se traslada al equipo sin conexión)</p></blockquote>

<p>Otra vez en el equipo sin conexión:</p>

<blockquote><p># apt-offline install offline.zip</p>

<p># apt-get install PAQUETE (Instalación del paquete)</p></blockquote>

<p>5.- Instalar aplicaciones de arquitectura 386 en equipos amd64:</p>

<blockquote><p># nano /etc/apt/sources.list</p></blockquote>

<p>Añadir las lineas:</p>

<pre><code>deb http://ftp.debian.org/debian/ wheezy-updates main contrib

deb http://http.us.debian.org/debian/ wheezy contrib non-free main
</code></pre>

<blockquote><p># apt-get update</p>

<p># apt-get upgrade</p></blockquote>

<p>Activar multiarquitectura:</p>

<blockquote><p># dpkg &#8211;add-architecture i386</p>

<p># apt-get update</p></blockquote>

<p>Instalar librerías base para los sistemas de 32 bits:</p>

<blockquote><p># apt-get install libc6:i386</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/lsof/">Lsof</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-09T09:38:00+01:00" pubdate data-updated="true">09-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Listar ficheros o procesos abiertos</p>

<blockquote><p># lsof -i :4662  (servicios usados por el puerto 4662 aunque esten a la escucha)</p>

<p># lsof -X (Desactiva la identifiación de conexiones)</p>

<p># lsof -i@lapipaplena.homelinux.com  (verificar conexiones con una máquina)</p>

<p># lsof -i@88.25.114.11   (lo mismo pero especificando la ip)</p>

<p># lsof -i | grep ssh  (Para que muestre solo los que usan el protocolo ssh)</p>

<p># lsof +D /var/log  (Mostrar los servicios que tiene abierto un directorio)</p>

<p># lsof fichero  (Muestra los servicios que tiene abiertos fichero)</p>

<p># lsof -nPi TCP   (Muestra los eventos de red de las conexiones TCP)</p>

<p># lsof -p PID  (Ficheros que tiene abierto determinado proceso)</p>

<p># lsof -N      (Muestra los archivos NFS abiertos)</p>

<p># lsof -c firefox   (Muestra los ficheros abiertos por firefox)</p>

<p># lsof -P -i -n -sTCP:LISTEN (listado de puertos en LISTEN)</p>

<p># lsof -i -P | grep -i &#8220;listen&#8221; (otra forma de listarlos)</p>

<p># lsof -i tcp -i udp  (lista puertos tcp y udp abiertos)</p>

<p># lsof -Pni | grep LISTEN   (chequear puertos abiertos)</p>

<p># lsof -c bash -r  (Monitorizar un proceso)</p>

<p># lsof -i :631 | awk &#8216;{print $1,$2}&#8217; | sort -u  (muestra pid y demonio del puerto especificado)</p>

<p># lsof -t -i :22 (Muestra el pid del puerto especificado)</p>

<p># lsof -nPi | txt2html  > lsof.html (Mandar la salida a un html para visualizarlo por el navegador)</p></blockquote>

<p>Opciones:</p>

<pre><code>-P (Muestra los números de puerto en vez de la aplicación que corre en ellos)

-n (Para que no resuelva las IP de las conexiones)

-i (Hace referencia a los eventos utilizados por procesos de red)

-u usuario (Muestra los procesos abiertos por “usuario”)

-x (Sigue links y puntos de montaje)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cvlc/">Cvlc</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-08T08:08:00+01:00" pubdate data-updated="true">08-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Modo de la aplicación vlc [ver] usado como reproductor de música.</p>

<blockquote><p>$ cvlc archivo.mp3</p></blockquote>

<p>Algunas teclas de control:</p>

<pre><code>Ctrl + mayusc + space (Reproducir/pausar)

Ctrl + mayusc + n (siguiente archivo)

Ctrl + mayusc + p (archivo anterior)

Ctrl + mayusc + flecha arriba (Subir volumen)

Ctrl + mayusc + flechas abajo (Bajar volumen)

Ctrl + mayusc + m (Silenciar)

Ctrl + mayusc + q (Salir)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/mpv/">Mpv</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-06T16:23:00+01:00" pubdate data-updated="true">06-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Reproductor de video gobernado exclusivamente con el teclado.</p>

<p>Instalación en el caso de que no se encuentre en los repos:</p>

<pre><code># apt-get install git

# git clone https://github.com/mpv-player/mpv-build.git

# cd mpv-build/

# ./update

# apt-get install devscripts equivs

# dpkg -i mpv-build-deps_1.0_amd64.deb

# mk-build-deps

El comando anterior puede arrojar muchos errores. Ni caso.

# apt-get -f install

# debuild -uc -us -b -j2

# dpkg -i ../mpv_0.3.5_amd64.deb
</code></pre>

<p>Archivo de configuración:</p>

<blockquote><p>$ nano .mpv/config</p></blockquote>

<p>Algunos ajustes:</p>

<p>geometry=50%:50% (Medida de la pantalla)</p>

<p>fs=yes (Iniciar con pantalla maximazada)</p>

<p>volume=100 (Indicar el volumen por defecto)</p>

<p>cache=50000 (cache de la aplicación)</p>

<p>msgcolor=yes</p>

<p>Algunos atajos:</p>

<pre><code>q (Salir)

v (Mostrar /esconder los subtítulos)

r y t (Cambiar la posición vertical del subtítulo)

o (1ª pulsación muestra el tiempo transcurrido, 2ª porcentaje y tiempo total)

p (Pause / Renaudar)

s (Sacar una captura)

S (Sacar una captura con los subtítulos)

f (Pantalla completa)

m (Silenciar)

1 y 2 (Aumenta / disminuye constraste)

3 y 4 (Aclara / oscurece la imagen)

5 y 6 (Gamma)

7 y 8 (Aumentar / disminuir brillo)
</code></pre>

<blockquote><p>$ mpv video</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/chroot/">Chroot</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-04T17:50:00+01:00" pubdate data-updated="true">04-03-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Situarte virtualmente donde le indicas como raiz.</p>

<blockquote><p># chroot /media/sda3</p></blockquote>

<p>1.-</p>

<p>Ejemplo de un proceso para restituir grub2 despues de una instalación de un windows:</p>

<p>Arrancar el live cd, abrir consola y (Asumimos que la partición que tiene el grub a instalar es la sda5:</p>

<pre><code>$ sudo su

# mkdir /media/sda5

# mount /dev/sda5 /media/sda5

# mount -o bind /dev/ /media/sda5/dev/

# mount -o bind /sys/ /media/sda5/sys/

# mount -o bind /proc/ /media/sda5/proc/

# chroot /media/sda5

# update-grub

# grub-install /dev/sda
</code></pre>

<p>Si precisamos conexión y esta no se realiza:</p>

<blockquote><p># nano /etc/resolv.conf</p></blockquote>

<p>Y colocar:   nameserver 8.8.8.8</p>

<p>O en su defecto la ip del router [nameserver 192.168.1.1]</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1378</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/emacs/">emacs</a>
      </li>
    
      <li class="post">
        <a href="/blog/chmod/">chmod</a>
      </li>
    
      <li class="post">
        <a href="/blog/pdf2ps/">pdf2ps</a>
      </li>
    
      <li class="post">
        <a href="/blog/xscreesaver/">xscreesaver</a>
      </li>
    
      <li class="post">
        <a href="/blog/lsscsi/">lsscsi</a>
      </li>
    
      <li class="post">
        <a href="/blog/apt-get/">apt-get</a>
      </li>
    
      <li class="post">
        <a href="/blog/lsof/">lsof</a>
      </li>
    
      <li class="post">
        <a href="/blog/cvlc/">cvlc</a>
      </li>
    
      <li class="post">
        <a href="/blog/mpv/">mpv</a>
      </li>
    
      <li class="post">
        <a href="/blog/chroot/">chroot</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="http://perseosblog.com">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
