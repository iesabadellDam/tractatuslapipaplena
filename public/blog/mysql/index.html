
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>mysql - TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Gestor de bases de datos [BDs]. Todas las sentencias han de terminar con un punto y coma [;] menos la sentencia &#8220;USE&#8221; $ mysqldump -u root &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/mysql">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://anonops.es">Foro</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Mysql</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-13T16:51:00+02:00" pubdate data-updated="true">13-07-2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Gestor de bases de datos [BDs]. Todas las sentencias han de terminar con un punto y coma [;] menos la sentencia &#8220;USE&#8221;</p>

<blockquote><p>$ mysqldump -u root -p proveedores > fichero.sql (Crear un backup de la BD &#8220;proveedores&#8221;.)</p>

<p>$ mysql proveedores &lt; fichero.sql (Restaurar la BD &#8220;proveedores&#8221; de un archivo)</p>

<p>$ mysqlimport -u root -p clientes fichero.sql (Otra forma de restaurar una BD si esta ya existe)</p>

<p>$ mysqldump -u root -p &#8211;all-databases > fichero.sql (Backup de todas las BDs)</p>

<p>$ mysqldump -u root -p &#8211;databases clientes proveedores > fichero.sql (Backup de dos BDs)</p>

<p>$ mysqldump -u root -p proveedores &#8211;ignore-table=antiguos > fichero.sql (Backup ignorando una BDs)</p>

<p>$ mysql -u root -p1234 (Acceder a la BD con el usuario &#8220;root&#8221; y contraseña &#8220;1234&#8221;[nótese que la contraseña está junto a la &#8220;p&#8221;)</p>

<p>$ mysql -u root -p (Pedirá contraseña para acceder a la BD con el usuario &#8220;root&#8221;)</p>

<p>$ mysql -u root -p datos (Entrar en mysql y directamente en la BD &#8220;datos&#8221; [notese que la BDs está separada de la &#8220;p&#8221; por un espacio, sinó se tomaría como la contraseña])</p></blockquote>

<p>Una vez en el prompt de mysql:</p>

<p>mysql> show databases; (Mostrar las BDs existentes)</p>

<p>mysql> create database datos; (Crear la BD &#8220;datos&#8221;)</p>

<p>mysql> USE datos (Entrar en la BD &#8220;datos&#8221;. Sin punto y coma final)</p>

<p>mysql> show tables; (Mostrar las tablas de la BD en la que se ha entrado)</p>

<p>mysql> DESCRIBE una_tabla (Mostrar los campos de una tabla concreta)</p>

<p>mysql> exit (Salir de mysql. Tambien con &#8220;quid&#8221; o Ctrl+d)</p>

<p>mysql> select version(), current_date; (Mostrar versión de mysql y fecha)</p>

<p>Modelo de creación de una tabla dentro de una BD mysql:</p>

<pre><code>mysql&gt; CREATE TABLE usuarios( 

-&gt; nombre VARCHAR(20), apellido VARCHAR(20), 

-&gt; profesión VARCHAR(20), sexo CHAR(1), nacimiento DATE, 

-&gt; antiguedad DATE); 
</code></pre>

<p>VARCHAR(20) (Que los valores que se almacenarán son de longitud variable de hasta 20 caracteres)</p>

<p>CHAR(1) (Que el valor será fijo y solo tendrá un caracter)</p>

<p>DATE (En formato YYYY-MM-DD)</p>

<p>Para entrar datos en la tabla anterior, podemos crear un archivo de texto &#8220;usuarios.txt&#8221; que contenga un registro por línea con valores separados por tabuladores, cuidando que el orden de las columnas sea el mismo que utilizamos en la sentencia CREATE TABLE. Para valores que no conozcamos podemos usar valores nulos usando \N. Ejemplo:</p>

<blockquote><p>$ nano usuarios.txt</p></blockquote>

<p>Juan    Borras  contable    m   1964-05-12  1988-03-27</p>

<p>Maria   Gil administrativo  f   1983-10-03  2004-08-05</p>

<p>Antonio Gomez   portero     m   \N      2006-11-01</p>

<p>Para cargarlo en la BD:</p>

<p>mysql> LOAD DATA LOCAL INFILE &#8220;usuarios.txt&#8221; INTO TABLE datos;</p>

<p>LOAD DATA (Permite especificar cuál es el separador de columnas y el separador de registros. Por defecto el tabulador es el separador de columnas (campos) y el salto de línea es el separador de registros)</p>

<p>Para añadir un nuevo registro a la BD anterior:</p>

<p>mysql> INSERT INTO usuarios</p>

<pre><code>-&gt; VALUES('Jose','Robles','administrativo','m',NULL,'2012-12-01'); 
</code></pre>

<p>Valores y fechas entre comillas simples y valores desconocidos NULL y no \N como entrando un archivo.</p>

<p>mysql> SELECT * FROM usuarios; (Ver toda la tabla para comprobar si se ha añadido el último registro)</p>

<p>Para modificar un registro puede realizarse borrando toda la tabla de datos y entrando nuevamente el archivo usuarios.txt si este está actualizado:</p>

<p>mysql> DELETE FROM usuarios;</p>

<p>mysql> LOAD DATA LOCAL INFILE &#8220;usuarios.txt&#8221; INTO TABLE usuarios;</p>

<p>O modificando solo el registro:</p>

<p>mysql> UPDATE usuarios SET nacimiento=&#8221;1959-04-12&#8221;</p>

<p>WHERE apellido=&#8221;Gomez&#8221;;</p>

<p>mysql> SELECT * FROM usuarios WHERE apellido=&#8221;Gomez&#8221;; (Verificar si se ha realizado la modificación)</p>

<p>mysql> SELECT * FROM usuarios WHERE nacimiento >= &#8220;1990-1-1&#8221;; (filtrar los que han nacido antes de la fecha indicada)</p>

<p>mysql> SELECT * FROM usuarios WHERE profesion=&#8221;administrativo&#8221; AND sexo=&#8221;f&#8221;; (filtrar los administrativos de sexo femenino)</p>

<p>mysql> SELECT * FROM usuarios WHERE profesion=&#8221;portero&#8221; OR profesion=&#8221;contable&#8221;; (filtrar porteros y contables)</p>

<p>mysql> SELECT * FROM usuarios WHERE (profesion=&#8221;portero&#8221; AND sexo=&#8221;f&#8221;)</p>

<pre><code>-&gt; OR (nombre = "juan" AND sexo = "m"); (Filtrar distintas opciones encerradas entre parentesis) 
</code></pre>

<p>mysql> SELECT apellido, nacimiento FROM usuarios;</p>

<p>mysql> SELECT antiguedad FROM usuarios; (Filtrar la columna &#8220;antiguedad&#8221;)</p>

<p>mysql> SELECT nombre, nacimiento FROM usuarios ORDER BY nacimiento; (Ordenar por fecha nacimiento)</p>

<p>mysql> drop table usuarios; (Eliminar una tabla)</p>

<p>mysql> drop table if exists usuarios; (Eliminar tabla si existe)</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Escrito por <span class="fn">templix</span></span>

      








  


<time datetime="2013-07-13T16:51:00+02:00" pubdate data-updated="true">13-07-2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://tractatuslapipaplena.herokuapp.com/blog/mysql/" data-via="" data-counturl="https://tractatuslapipaplena.herokuapp.com/blog/mysql/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/mv/" title="Previous Post: mv">&laquo; mv</a>
      
      
        <a class="basic-alignment right" href="/blog/namei/" title="Next Post: namei">namei &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1213</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/owncloud/">owncloud</a>
      </li>
    
      <li class="post">
        <a href="/blog/golismero/">golismero</a>
      </li>
    
      <li class="post">
        <a href="/blog/curl/">curl</a>
      </li>
    
      <li class="post">
        <a href="/blog/lorem/">lorem</a>
      </li>
    
      <li class="post">
        <a href="/blog/kernel/">kernel</a>
      </li>
    
      <li class="post">
        <a href="/blog/yacy/">yacy</a>
      </li>
    
      <li class="post">
        <a href="/blog/virtualbox/">virtualbox</a>
      </li>
    
      <li class="post">
        <a href="/blog/miniflux/">miniflux</a>
      </li>
    
      <li class="post">
        <a href="/blog/expresiones-regulares/">expresiones-regulares</a>
      </li>
    
      <li class="post">
        <a href="/blog/sed/">sed</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="https://murmuring-brook-6695.herokuapp.com/">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
