
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Existen dos tipos de variables: Variables locales (tiene valor únicamente dentro de nuestra shell) Variables globales (disponibles para todos los &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/page/17">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://anonops.es">Foro</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/variables/">Variables</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Existen dos tipos de variables:</p>

<p>Variables locales (tiene valor únicamente dentro de nuestra shell)</p>

<p>Variables globales (disponibles para todos los procesos invocados por la shell)</p>

<p>Al ejecutar un script la línea de comandos introducida se guarda en unas variables especiales que podemos referenciar:</p>

<blockquote><p>$0 (Nombre del comando)</p>

<p>$1 (Primer argumento)</p>

<p>$2 (Segundo&#8230;)</p>

<p>$@ (Todos los argumentos introducidos, separados por espacios)</p>

<p>$# (Número de argumentos)</p>

<p>$$ (identificador del proceso)</p>

<p>$? (Cuando finaliza la ejecución de un proceso, $? será cero (0) si se ejecuta correctamente y distinto de cero si se ha producido algún error. Es muy usual guardar su valor en una variable (VAR=$?) para su posterior uso.)</p></blockquote>

<p>Para declarar una variable sólo se precisa asignarle un valor. Nunca el valor puede preceder a la variable. No se ponen espacios ni antes ni después del signo igual. El nombre puede contener caracteres alfabéticos (A-Z, a-z), numéricos (0-9) o el guión bajo ‘_’. El primer carácter no puede ser un número o contener otros signos (2DIR, .DIR, -VAR&#8230;)</p>

<pre><code>DIR="/var/www" 
</code></pre>

<p>También puede asignarse a partir del contenido de un fichero:</p>

<pre><code>$ firma=$(&lt;firma.txt)  
</code></pre>

<p>Puede asignarse a la salida de un comando encerrado entrecomillas graves:</p>

<pre><code>WHO=`who | awk '{print$2}'` 
</code></pre>

<p>O entra parentesis antecedido por el signo dolars ($):</p>

<pre><code>WHO=$(who | awk '{print$2}') 
</code></pre>

<p>Variables introducidas por el teclado:</p>

<pre><code>echo "Como te llamas" 

read NOMBRE 
</code></pre>

<p>Puede especificarse un tiempo (en segundos) de espera para entrar lo solicitado (-t):</p>

<pre><code>read -t 10 -p "¿Nombre y apellido? " NOMBRE APELLIDO
</code></pre>

<p>Para definir variables numéricas se utiliza el comando let:</p>

<pre><code>let A=100

let B=200 

let C=$A+$B 
</code></pre>

<p>Si al llamar a una variable, esta va seguida de un carácter que sea otra letra, numero o el guión normal o bajo, La encerraremos entre llaves &#8216;{}&#8217;:</p>

<pre><code>ARCHIVO="registro" 

echo "${ARCHIVO}_2011.txt"

registro_2011.txt
</code></pre>

<p>Cuando bash encuentra en una palabra el signo &#8220;$&#8221; todo lo que va a continuación se considera el nombre de una variable y todos los caracteres desde el &#8220;$&#8221; hasta el final de la palabra son sustituidos por dicha variable:</p>

<pre><code>COSA="mastro" 

echo "ca$COSA"

camastro
</code></pre>

<p>Otra forma de entrar variables es mostrando un promt:</p>

<pre><code>$ read -p "palabra&gt; " PALABRA
</code></pre>

<p>Si no indicamos nombre de variable, lo ingresado se guarda en la variable REPLY:</p>

<pre><code>read

juan jose pedro

$ echo $REPLY

juan jose pedro
</code></pre>

<p>Modificar parte de una variable:</p>

<pre><code>a="Linux es un sistema genial" 

echo ${a/geni/brut}

Linux es un sistema brutal
</code></pre>

<p>Algunas de la variables globales:</p>

<pre><code>$HOME  (ruta del directorio home del usuario) 

$PATH    (directorios donde se encuentran los ejecutables) 

$TERM    (nombre de la terminal) 

$BASH    (ruta del interprete bash )

$PWD      (directorio actual)

$USER     (Usuario)

$HOSTNAME  (Nombre del equipo)

$HISTFILE (ruta para el histórico de comandos ejecutados)

$UID     (Número de usuario para el sistema)

$RANDOM (números aleatorios entre 0 y 32767)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/uzbl-browser/">Uzbl-browser</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Navegador estilo vi. Arrancarlo con uzbl-tabbed para permitir pestañas.</p>

<blockquote><p>$ nano .config/uzbl/config (archivos de configuración)</p></blockquote>

<p>Atajos:</p>

<pre><code>j (descendeer en la página)

k (subir en la página)

h (ir a la izquierda de la página)

l (ir a la derecha de la página) 

&lt;&lt; (ir al final de la página)

&gt;&gt; (ir al principio de la página) 

o (abrir guión para entrar una url) 

gg (abrir guión para entrar una busqueda en google) 

gh (página de inicio) 

gn (abrir nueva pestaña en blanco) 

go (abrir dirección en una nueva pestaña)

gt (ir a la siguiente pestaña)

gT (ir a la pestaña anterior)

gi+2 (ir a la pestaña 2)

w (abrir nueva ventana)

b (volver a la página anterior)

u (favoritos) 

U (historial) 

Esc (anular) 

S (stop)

ZZ (Cerrar pestaña /cerrar ventaña / salir de uzbl)

r (actualizar página)

R (actualizar página desde la caché)

/ (Guión para entrar una busqueda en la página) 

n (ir a la busqueda siguiente) 

N (ir a la busqueda anterior)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/uuidgen/">Uuidgen</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Crear nuevo valor uuid</p>

<blockquote><p>$ uuidgen -r (Aleatorio)</p>

<p>$ uuidgen -t (Crea un UUID basado en el reloj del sistema)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/utorrent/">Utorrent</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Descarga de torrents. Previamente crear los directorios de descargas:</p>

<blockquote><p>$ mkdir rtorrent</p>

<p>$ mkdir rtorrent/descargas</p>

<p>$ mkdir rtorrent/sesion vsftpd</p>

<p>$ mkdir rtorrent/torrents</p></blockquote>

<p>Los torrents se colocan en la carpeta rtorrent/torrents para que al abrir la aplicación los coja directo. Crear un archivo de configuración:</p>

<blockquote><p>$ touch .rtorrent.rc</p></blockquote>

<p>Editarlo y pegar las siguientes entradas:</p>

<blockquote><p>$ nano .rtorrent.rc</p>

<p># Session directory</p></blockquote>

<p>session = /home/USER/rtorrent/sesion</p>

<p>directory = /home/USER/rtorrent/descargas</p>

<p>schedule = watch_directory,5,5,load_start=/home/USER/rtorrent/torrents/*.torrent</p>

<blockquote><p># Port range to use for listening.</p></blockquote>

<p>port_range = 55556-55560</p>

<blockquote><p># Maximum number of simultanious uploads per torrent.</p></blockquote>

<p>max_uploads = 5</p>

<blockquote><p># Global upload and download rate in KiB. &#8220;0&#8221; for unlimited.</p>

<p>#download_rate = 0</p></blockquote>

<p>upload_rate = 50</p>

<blockquote><p># Maximum and minimum number of peers to connect to per torrent.</p>

<p>#min_peers = 40</p></blockquote>

<p>max_peers = 80</p>

<blockquote><p># Same as above but for seeding completed torrents (-1 = same as downloading)</p></blockquote>

<p>min_peers_seed = 10</p>

<p>max_peers_seed = 30</p>

<p>Algunos atajos:</p>

<pre><code>^ q (cierra la aplicación)

Flechas arriba y abajo (Selecciona torrents)

flecha derecha (Muestra información sobre el torrent seleccionado)

^ s (Inicia la descarga el torrent seleccionado)

^ d (para la descarga o, si está parada, suprime el torrent)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/users/">Users</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Quien está conectado al sistema</p>

<blockquote><p>$ users | xargs -n1 echo | sort | uniq -c  (número de sesiones abierta por los usuarios.</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/usermod/">Usermod</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>modifica propiedades de los usuarios [directorio base, el shell, grupos a los que pertenece, expiración, bloqueo/desbloqueo de la cuenta]</p>

<blockquote><p># usermod -G grupo1,grupo2 usuario (añade usuario a grupos)</p>

<p># usermod -a -G video usuario  (incluye usuario al grupo video. )</p>

<p># usermod -e 2009-12-10 user  (la cuenta de user expira el 20-12-09)vsftpd</p>

<p># usermod -L usuario  (Bloquea a usuario)</p>

<p># usermod -U usuario  (Desbloquea a usuario)</p>

<p># usermod -u 999 usuario (baja el ID del usuario, normalmente 1000, para ocultarlo de la pantalla de login [gdm])</p>

<p># usermod -s /sbin/nologin apache (Otorga al usuario apache una shell que no permite la ejecución de ningún comando)</p>

<p># usermod -l juan pedro (Cambiar el nombre de usuario “pedro” a “juan”)</p>

<p># usermod -d /home/nuevo -m usuario (modificar el nombre del directorio  home de un usuario)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/userdel/">Userdel</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Borrar usuarios</p>

<blockquote><p># userdel usuario (Elimina al usuario pero no su directorio personal)</p>

<p># userdel -r usuario (lo borra junto a su directorio $HOME)</p>

<p># userdel -f usuario (Borra al usuario y su directorio personal incluso aunque esté logeado en el sistema)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/useradd/">Useradd</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Crear usuarios.</p>

<blockquote><p># useradd -d /home/user -m user (Especifica la ruta a su $HOME)</p></blockquote>

<p>Otras opciones:</p>

<p>-M usuario  (sin directorio $HOME)</p>

<p>-g users user (grupo principal al que pertenece el usuario)</p>

<p>-e 20111231 user (fecha de expiración de un usuario: 2011-12-31)</p>

<p>-G video,audio user (grupos adicionales a los que pertenece)</p>

<p>-s /bin/bash (especifica la shell del usuario)</p>

<p>-s /sbin/nologin (El usuario no podra logearse en el sistema. Ideal para usuarios con acceso a Samba o FTP sin acceso al interprete de comandos)</p>

<p>-u 503 (Identificador que sera asignado al usuario. Por defecto la UID será a partir del numero 500. Si no se especifica, automáticamente se establece el siguiente número disponible a partir del último usuario creado.)</p>

<p>Un ejemplo completo:</p>

<blockquote><p># useradd -d /home/paco -g users -s /bin/bash -m paco</p></blockquote>

<p>1.-</p>

<p>/etc/default/useradd</p>

<p>Archivo donde se definen los valores [shell, directorio del directorio personal, ID del grupo, expiración de la contraseña&#8230;] por defecto para la creación de nuevos usuarios [ver useradd y skel]</p>

<p>Algunos parámetros:</p>

<pre><code>GROUP=100

HOME=/home

INACTIVE=-1

EXPIRE=

SHELL=/bin/sh

SKEL=/etc/skel
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/user-dirs-dot-dirs/">user-dirs.dirs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Archivo donde se especifican los directorios que saldran por defecto en el $HOME:</p>

<p>XDG_DESKTOP_DIR=”$HOME/Escritorio”</p>

<p>XDG_DOWNLOAD_DIR=”$HOME/Descargas”</p>

<p>XDG_TEMPLATES_DIR=”$HOME/Plantillas”</p>

<p>XDG_PUBLICSHARE_DIR=”$HOME/Público”</p>

<p>XDG_DOCUMENTS_DIR=”$HOME/Documentos”</p>

<p>XDG_MUSIC_DIR=”$HOME/Música”</p>

<p>XDG_PICTURES_DIR=”$HOME/Imágenes”</p>

<p>XDG_VIDEOS_DIR=”$HOME/Vídeos”</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/usbmount/">Usbmount</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Automontar dispositivos de almacenamiento externo. Editar:</p>

<blockquote><p># nano /etc/usbmount/usbmount.conf</p></blockquote>

<p>Y verificar/modificar según necesidades, las lineas:</p>

<p>MOUNTPOINTS=&#8221;/media/usb0 /media/usb1 /media/usb2 /media/usb3 /media/usb4 /media/usb5 /media/usb6 /media/usb7&#8221;</p>

<p>FILESYSTEMS=&#8221;vfat ext2 ext3 ext4 hfsplus&#8221;</p>

<p>MOUNTOPTIONS=&#8221;sync,noexec,nodev,noatime,users,umask=000&#8221;</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/18/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/16/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1310</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/linuxinfo/">linuxinfo</a>
      </li>
    
      <li class="post">
        <a href="/blog/cpuid/">cpuid</a>
      </li>
    
      <li class="post">
        <a href="/blog/lp/">lp</a>
      </li>
    
      <li class="post">
        <a href="/blog/shuf/">shuf</a>
      </li>
    
      <li class="post">
        <a href="/blog/rl/">rl</a>
      </li>
    
      <li class="post">
        <a href="/blog/randtype/">randtype</a>
      </li>
    
      <li class="post">
        <a href="/blog/google/">google</a>
      </li>
    
      <li class="post">
        <a href="/blog/disktype/">disktype</a>
      </li>
    
      <li class="post">
        <a href="/blog/command-not-found/">command-not-found</a>
      </li>
    
      <li class="post">
        <a href="/blog/patch/">patch</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="https://murmuring-brook-6695.herokuapp.com/">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
