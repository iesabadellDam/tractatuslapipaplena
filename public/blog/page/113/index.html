
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Permite buscar y/o seleccionar columnas o campos dentro de un archivo estructurado. Entre campo y campo debe existir obligatoriamente un delimitador &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/page/113">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cut/">Cut</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Permite buscar y/o seleccionar columnas o campos dentro de un archivo estructurado. Entre campo y campo debe existir obligatoriamente un delimitador [dos puntos, un espacio en blanco u otro carácter].</p>

<blockquote><p>$ cut -c1-4 archivo  (muestra los 4 primeros caracteres de cada linea)</p>

<p>$ cut -d: -f1 archivo  (Muestra el primer campo delimitado por “:”)</p>

<p>$ cut -d” “ -f1,5 archivo  (Mostrar el primero y el quinto, separados por espacio)</p>

<p>$ cut -d” “ -f 2- archivo (Mostrar todo menos la primera columna)</p>

<p>$ cut -s -d&#8221;(&#8221; -f1 archivo (“-s” suprime las lineas que no contengan el delimitador [(]). De las que sí lo contengan, mostraría el 1er campo)</p>

<p>$ echo $RANDOM | cut -c1,2 (Coger los 2 primeros números de un número aleatorio [$RANDOM])</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/curlftpfs/">Curlftpfs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Montar directorios remotos en local.</p>

<blockquote><p># curlftpfs usuario:contraseña@192.168.1.10 /media/servidor</p></blockquote>

<p>Para automatizar el proceso, añadir al /etc/fstab la linea:</p>

<p>curlftpfs#usuario:contraseña@192.168.1.10 /media/servidor fuse defaults 0 0</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/curl/">Curl</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Herramienta para la transferencia de datos desde o hacia un servidor. Permite los protocolos ftp, https, sftp, scp, tftp &#8230;</p>

<blockquote><p>$ curl ftp://host (Sin ninguna opción obtiene la páquina principal del host [http, ftp&#8230;)</p>

<p>$ curl ftp://host/ http://host/ (Descargar dos host simultaneos)</p>

<p>$ curl -o destino http://host (Guarda el host en destino)</p>

<p>$ curl -i URL (información sobre una URL)</p>

<p>$ curl -o portada.png http://www.lapipaplena.net/wp-content/uploads/2012/08/meditate1.png (descargar una imagen y guardarla)</p>

<p>$ curl -u usuario:contraseña http://localhost/restringido/ (Acceder a una zona que requiera autentificación)</p>

<p>$ curl ftp://usuario:contraseña@host:puerto/home/usuario/archivo (Otra forma de autentificación)</p>

<p>$ curl -T archivo_local ftp://host/carpeta (Subir un archivo local a un host remoto)</p>

<p>$ curl -T archivo_local -a ftp://host/ (Subir un archivo local a un host remoto con el parámetro -a)</p>

<p>$ curl -x proxy:8889 ftp://host (Obtener un host utilizando un proxy)</p>

<p>$ curl -u usuario:contraseña -x proxy:8888 http://host (Usando proxy y con autentificación)</p>

<p>$ curl -U usuario:contraseña -x proxy:8888 http://host (Cuando el proxy requiere autentificación especial)</p>

<p>$ curl -r 0-99 http://host (Obtener los primeros 100 bytes del documento)</p>

<p>$ curl -r -500 http://host (Obtener los últimos 500 bytes del documento)</p>

<p>$ curl &#8211;proxytunnel -x proxy:8888 -T archivo_local ftp ftp://host (Usando un tunel)</p>

<p>$ curl -v ftp://host (Ver información que se envia y recibe pero no los datos reales)</p>

<p>$ curl &#8211;trace trace.txt host (Obtener más información y guardar en trace.txt)</p>

<p>$ curl &#8211;dump-header headers.txt host (Guardar las cabeceras [cookies] en headers.txt)</p>

<p>$ curl -b headers.txt www.example.com (Pasar las cabeceras obtenidas a un host)</p>

<p>$ curl -e www.bueno.com http://host/ (Intentar engañar un site con una dirección falsa)</p>

<p>$ curl -A &#8216;Mozilla/3.0 (Win95; I)&#8217; http://host (Intentar engañar un site especificando otro navegador)</p>

<p>$ curl &#8211;limit-rate 10K host (Limitar la velocidad de transferencia a 10 kilobytes)</p>

<p>$ curl -P 192.168.0.10 ftp host (Acceder a un host a partir de una ip a la que si tenemos acceso)</p>

<p>$ curl -C - -o descarga hots (Proseguir una descarga interrumpida)</p>

<p>$ curl -z local.html hots/remote.html (Sólo se efectuará la descarga si remote.html es más reciente que local.html)</p></blockquote>

<p>Otras opciones:</p>

<pre><code>$ curl -Is google.com | grep Date (Conocer la fecha via web)

$ curl ip.appspot.com (Conocer la IP externa) 

$ curl icanhazip.com (lo mismo)

$ curl ifconfig.me (lo mismo)

$ curl whatismyip.org (Otra) 

$ curl -u usuario:clave --silent "https://mail.google.com/mail/feed/atom" | perl -ne 'print "\t" if /&lt;name&gt;/; print "$2\n" if /&lt;(title|name)&gt;(.*)&lt;\/\1&gt;/;' (visualizar todos los mensajes no leidos de gmail)

$ curl -s 'http://geoiplookup.wikimedia.org/' | sed 's/^.*=\s*//' | python3 -mjson.tool (muestra la situación geográfica)

$ curl -s http://geoiplookup.wikimedia.org/ | python3 -c 'import sys, json, string, webbrowser; webbrowser.open(string.Template("http://maps.google.com/maps?q=$lat,$lon").substitute(json.loads(sys.stdin.read().split("=")[-1])))' (Lo mismo pero abriendo una pestaña en el navegador)

$ curl -s http://www.census.gov/popclock/data/population/world | awk -F'[:,]' '{print $7}' (Muestra el número de habitantes de la tierra)

$ curl -s https://help.github.com/articles/generating-ssh-keys | grep -Po  --color=never "RSA key fingerprint is (:?[A-z0-9]\:?){32}" (Imprime la clave RSA de github.com)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cups/">Cups</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Gestión de impresoras.</p>

<p>1.-</p>

<p>Montar una impresora en red:</p>

<p>En la máquina servidor (la que tiene conectada la impresora)</p>

<pre><code># nano /etc/cups/cupsd.conf
</code></pre>

<p>Comentar la linea “Listen localhost:631” y añadir la ip de la máquina: “Listen 192.168.2.3:631” y en el siguiente apartado añadir los parámetros de la red:</p>

<blockquote><p># Restrict access to the server…</p></blockquote>

<pre><code>&lt;Location /&gt;
</code></pre>

<p>Order allow,deny</p>

<p>Allow localhost</p>

<p>Allow @LOCAL</p>

<blockquote><p># permisos a la red local</p></blockquote>

<p>Allow from 192.168.2.0/24</p>

<pre><code>&lt;/Location&gt;
</code></pre>

<p>Para activar la compartición de impresoras:</p>

<p>Browsing on</p>

<pre><code># /etc/init.d/cupsd restart (reiniciar cups)
</code></pre>

<p>Abrir el navegador y escribir http://localhost:631 después del logeo ir a la pestaña printers y seleccionar la impresora, con lo que nos quedará en la barra de navegación algo parecido a:</p>

<p>http://localhost:631/printers/PSC-1100</p>

<p>Que sustituyendo “localhost” por la dirección ip de la máquina nos dará la dirección de la impresora:</p>

<p>http://192.168.2.3:631/printers/PSC-1100</p>

<p>En las máquinas cliente</p>

<pre><code># nano /etc/cups/cupsd.conf
</code></pre>

<p>Browsing on</p>

<p>BrowseAllow 192.168.2.0/24</p>

<pre><code># /etc/init.d/cupsys restart
</code></pre>

<p>Y configurar la impresora de la forma habitual ya sea en Sistema -> administración -> impresoras pestaña Configuración -> URI del dispositivo y poner la dirección de la impresora o via http://localhost:631</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/csscapture/">Csscapture</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Capturar el css de una web.</p>

<blockquote><p>$ csscapture -s web http://www.tuxapuntes.com (guarda en la carpeta “web”)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cruft/">Cruft</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Lista ficheros que presumiblemente sobran, faltan o están de alguna forma incorrectos, tomando principalmente la información de la base de datos de dpkg</p>

<blockquote><p># cruft -d /var/www</p>

<p># cruft -r (Mostrar el informe)</p>

<p># cruft &#8211;ignore /home/usuario (Descartando un directorio)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/crontab/">Crontab</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>configurar tareas para que se ejecuten automáticamente en el sistema</p>

<blockquote><p># crontab -e      (editar el archivo crontab, si no existe se crea)</p>

<p>$ crontab -e      (idem para el usuario no root)</p>

<p># crontab -l       (Muestra el contenido para root)</p>

<p># crontab -l -u usuario  (muestra el de usuario)</p>

<p>$ crontab -l       (idem para el usuario no root)</p>

<p># crontab -r       (Borra el contenido de crontab)</p></blockquote>

<p>Crontab consta de 6 campos separados por un espacio que indican:</p>

<p>minuto (0-59), hora (0-23), dia del mes (1-31), mes (1-12), dia de la semana (0-6, domingo=0), y comando a ejecutar. Un asterisco * como valor en los primeros cinco campos, indicará todos (todos los minutos, todas las horas &#8230;)</p>

<pre><code>01 * * * *       (Se ejecuta el primer minuto de cada hora todos los dias)

20 9 * * *       (a las 9:20 de la mañana todos los dias)

20 21 * * *     (a las 9:20 (21:20) de la tarde todos los dias)

01 6 * * 1      (a las 6:01 de todos los lunes)

* * 1 1 *         (todos los minutos de todas las horas del 1 de enero) 

00 12 * * 0     (a las doce en punto de todos los domingos)

@reboot (Cada reinicio)
</code></pre>

<p>También es posible especificar listas en los campos:</p>

<pre><code>01 15 * 1-4 1,2,3,4   (a las 3:01 de la tarde de lunes a viernes de enero a abril)

*/15 * 1-15 *     (cada 15 minutos  entre el 1 y el 15 de todos los meses)

*/5 * * * * cp /etc/resolv.conf.bak /etc/resolv.conf  (Ejecutar cada 5 minutos el comando especificado.)

$ 0 8 * * * env DISPLAY=:0.0 vlc /home/usuario/musica/archivo.mp3 (Programar que cada dia a las 8 se abra un mp3 con el vlc) 
</code></pre>

<p>El archivo donde se guardan las tareas a realizar es:</p>

<blockquote><p>$ nano /var/spool/cron/usuario</p></blockquote>

<p>También pueden añadirse o modificarse en este archivo.</p>

<p>1.-</p>

<p>En ocasiones, y especialmente con Archlinux, crontab cambia la codificación de caracteres de los scripts. Ejecutados directamente funcionan correctamente pero al colocarlos en el cron se muestran con caracteres estraños. La causa son las variables de entorno asociadas a la máquina y al demonio del cron. Para solucionar el problema:</p>

<blockquote><p># nano /etc/environment</p></blockquote>

<p>Y añadir la linea:</p>

<p>LANG=es_ES.UTF-8</p>

<p>Reiniciar cron:</p>

<blockquote><p># /etc/rc.d/crond restart</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cpulimit/">Cpulimit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Limitar el uso de la cpu para determinados procesos.</p>

<blockquote><p># cpulimit -e yes -l 20 (el de “yes”a un 20% de la cpu. Valor entre 0 y 100)</p>

<p># cpulimit -p PID -l 50 (el proceso con el numero PID al 50%)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cpuid/">Cpuid</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Muestra el IP del proveedor, caracteristicas del procesador, información de caché, etc de procesadores Intel y AMD x86. No tiene opciones.</p>

<blockquote><p>$ cpuid</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/cpufreq-set/">Cpufreq-set</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-27T19:40:00+01:00" pubdate data-updated="true">27-12-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Define el perfil de la CPU [powersave, performance, conservative, userspace, ondemand] así como la velocidad y otros parámetros</p>

<blockquote><p># cpufreq-set &#8211;governor powersave (Define el perfil de velocidad de la CPU. Perfiles disponibles: conservative, powersave, performance, ondemand, userspace)</p>

<p># cpufreq-set -c 0 (Definimos que queremos aplicar el comando a la CPU 0. Si se omite, por defecto tomará este valor. El rango de este valor va de 0 a N-1 CPUs. Por ejemplo con 4 núcleos iria de 0 a 3)</p>

<p># cpufreq-set &#8211;min 1200000 –governor PERFIL (define la velocidad mínima del procesador en Hz para el perfil seleccionado, requiere el uso de la opción &#8211;governor. En caso de que el valor sea inferior al permitido, se utiliza la velocidad mínima soportada por la CPU. Si tenemos más de una CPU o núcleo, debemos repetir el comando para cada CPU con la opción -c e indicar el número de esta)</p>

<p># cpufreq-set &#8211;max 2101000 &#8211;governor ondemand (lo mismo que –min pero con la velocidad máxima de la CPU)</p>

<p># cpufreq-set -f 1600000 (Especificamos que queremos que la CPU trabaje a la velocidad deseada. Requiere que estemos usando el perfil userspace)</p></blockquote>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/114/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/112/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1363</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/gcp/">gcp</a>
      </li>
    
      <li class="post">
        <a href="/blog/git/">git</a>
      </li>
    
      <li class="post">
        <a href="/blog/7zip/">7zip</a>
      </li>
    
      <li class="post">
        <a href="/blog/bing-ip2hosts/">bing-ip2hosts</a>
      </li>
    
      <li class="post">
        <a href="/blog/mc/">mc</a>
      </li>
    
      <li class="post">
        <a href="/blog/vim/">vim</a>
      </li>
    
      <li class="post">
        <a href="/blog/markdown/">markdown</a>
      </li>
    
      <li class="post">
        <a href="/blog/zypper/">zypper</a>
      </li>
    
      <li class="post">
        <a href="/blog/zmore/">zmore</a>
      </li>
    
      <li class="post">
        <a href="/blog/zmap/">zmap</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="http://perseosblog.com">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
