
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>TRACTATUS ELEMENTALIS</title>
  <meta name="author" content="templix">

  
  <meta name="description" content="Desmontar particiones $ umount -a (Desmonta todas las especificadas en /etc/mtab) $ umount -r (Si falla el desmontaje, intenta remontar como “solo &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://tractatuslapipaplena.herokuapp.com/blog/page/19">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="TRACTATUS ELEMENTALIS" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script src="/javascripts/links.js"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div align=center>
  <h1><a href="/">TRACTATUS ELEMENTALIS</a></h1>
  
    <h2>Apuntes sobre bash. Orgasmos con la terminal.</h2>
  </dev>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS"></a></li>
  
</ul>
  
<form action="https://www.google.com/search?q=site%3Atractatuslapipaplena.herokuapp.com&q=" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tractatuslapipaplena.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/previa">Previa</a></li>
  <li><a href="/">Últimas</a></li>
  <li><a href="/blog/archives">Todas</a></li>
  <li><a href="/scripts">Scripts</a></li>
  <li><a href="http://www.lapipaplena.net">Web</a></li>
  <li><a href="http://lapipaplena.no-ip.org/wiki/">Wiki</a></li>
  <li><a href="http://anonops.es">Foro</a></li>
  <li><a href="http://panellpipa.no-ip.org">Socios</a></li>

</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/umount/">Umount</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Desmontar particiones</p>

<blockquote><p>$ umount -a (Desmonta todas las especificadas en /etc/mtab)</p>

<p>$ umount -r (Si falla el desmontaje, intenta remontar como “solo lectura”)</p>

<p>$ umount -t vfat,ext3 (Solo desmonta los tipos especificados)</p>

<p>$ umount -fl (fuerza el desmonte de la particion)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/umask/">Umask</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Fija los permisos de un fichero o directorio.</p>

<blockquote><p>$ umask (muestra permisos actuales. Normalmente 0022 o 0002)</p>

<p>$ umask 0002 (activa los permisos 775 para el presente directorio. Elprimer cero, indica que los datos serán dados en octal. Los otros tres números [002] han de restarse de 777 para tener los permisos del fichero o directorio)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ulimit/">Ulimit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Permite  visualizar o limitar los recursos del sistema.</p>

<blockquote><p># ulimit -f 512000 (limita a los usuarios para que no puedan crear archivos de mayor tamaño que 512000 Kb [500 #Mb])</p>

<p>$ ulimit -a   (ver todos los parámetros)</p></blockquote>

<p>Parámetros:</p>

<pre><code>core (Tamaño máximo de los ficheros core [KB])

data (Tamaño máximo para el segmento de datos [KB])

fsize (Tamaño máximo para los ficheros [KB])

memlock (Tamaño máximo para el espacio de direcciones bloqueado en memoria [KB])

nofile (Número máximo de ficheros abiertos)

rss (Tamaño máximo del conjunto residente en memoria [KB])

stack (Tamaño máximo para la pila [KB])

cpu (Tiempo máximo de CPU [minutos])

nproc (Número máximo de procesos)

as (Límite en el espacio de direcciones)

maxlogins (Número máximo de logins)

priority (Prioridad de base para los procesos del usuario)

locks (Número máximo de ficheros bloqueados que el usuario puede mantener)
</code></pre>

<p>Nota.- El ámbito de aplicación del límite puede ser un nombre de usuario, un grupo (@grupo) o todos (*)</p>

<p>Un ejemplo de limit.conf:</p>

<pre><code>*               soft    nproc           10000

*               hard    nproc           4096

*               soft    core            unlimited

*               hard    core            unlimited

*               soft    memlock         131072

*               hard    memlock         131072

*               soft    nofile          102400

*               hard    nofile          102400
</code></pre>

<p>1.-</p>

<p>Evitar Forkboms [programas que consumen la totalidad de los recursos del sistema]</p>

<p>Si al lanzar el comando:</p>

<blockquote><p>$ ulimit -u</p></blockquote>

<p>El resultado es “ilimitado” o un valor extremadamente alto, podemos ser victimas de los forkbombs. Para resolverlo podemos limitar el número de procesos abiertos a 1000 para que estos no puedan llegar a colapsar el sistema:</p>

<blockquote><p># gedit /etc/security/limits.conf</p></blockquote>

<p>Añadir antes de “End of file”:   * hard nproc 1000</p>

<p>Reiniciar</p>

<p>2.-</p>

<p>En ciertas ocasiones, al procesar muchos archivos, se produce un error &#8220;for output (Too many open files)&#8221; porque se desborda el limite de 1024 k. Para solucionarlo:</p>

<blockquote><p># nano /etc/security/limits.conf</p></blockquote>

<p>Y añadir las siguientes lineas:</p>

<pre><code>*    soft    nofile    9000

*    hard    nofile    65000
</code></pre>

<p>3.-</p>

<p>Limitar la cantidad de usuarios conectados al sistema:</p>

<blockquote><p># nano /etc/security/limits.conf</p></blockquote>

<p>Y en el parámetro maxlogins modificamos el número que deseemos:</p>

<pre><code>*    -       maxlogins 3
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ul/">Ul</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Subrayado de palabras en la terminal.</p>

<pre><code>$ echo $'linux es g\b_e\b_n\b_i\b_a\b_l\b_ ' | ul (Cada letra a subrayar ha de ir seguida de \b_)
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ufw/">Ufw</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Cortafuegos</p>

<blockquote><p># ufw enable (activar el cortafuegos. “disable” para desactivarlo)</p>

<p># ufw deny 4662 (bloquea el puerto)</p>

<p># ufw delete deny 4662 (Elimina una regla)</p>

<p># ufw allow smtp (permitir servicios concretos)</p>

<p># ufw status (visualizar las normas definidas)</p>

<p># ufw status verbose (Información de estado con mayor detalle)</p>

<p># ufw default allow (permitir todo por defecto)</p>

<p># ufw default deny (bloquear todo por defecto)</p>

<p># ufw deny from ip (bloquear dirección ip)</p>

<p># ufw logging on (activar los logs. “off” para desactivarlos. Herramienta de registro: fwanalog, fwlogwatch, o lire.)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/udisks/">Udisks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Comando para montar y desmontar volumenes usando el demonio que llaman programas como Nautilus o Thunar. Con este método conseguimos que desde estos programas se pueda desmontar cómodamente la partición y además sin necesidad de permisos.</p>

<blockquote><p>$ udisks &#8211;mount /dev/sda1 (montará esta partición).</p>

<p>$ udisks &#8211;unmount /dev/sda1 (desmontará esta partición).</p>

<p>$ udisks &#8211;monitor (Monitoriza la actividad del demonio. Muy útil para verificar si una partición es montada o no)</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/udiskie/">Udiskie</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Herramienta  para montar automaticamente unidades en Archlinux. Debe arrancarse el servicio antes de ejecutarse el gestor de ventanas en el archivo .xinitrc. Un ejemplo:</p>

<blockquote><p># nano .xinitrc</p></blockquote>

<p>udiskie &amp;</p>

<p>exec openbox-session</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tzwatch/">Tzwatch</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Muestra las zonas horarias especificadas por el usuario y las guarda en el archivo ~/.tzlist.</p>

<blockquote><p>$ tzwatch -c (Lanzar tantas veces como de zonas horarias se quiere disponer de información y seguir las instrucciones: Add Zone, Americas, 26 [Guatemala], mostrará la información y preguntará si es correcta, 1 [yes] y Done [salir])</p>

<p>$ tzwatch (Mostrará hora local de cada una de las zonas elegidas)</p></blockquote>

<pre><code>[~]$ tzwatch

Mon Oct  7 02:39:39 CST 2013   Australia/Adelaide

Sun Oct  6 18:09:39 CEST 2013   Europe/Madrid

Sun Oct  6 10:09:39 CST 2013   America/Guatemala
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tzselect/">Tzselect</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Pregunta al usuario información sobre la localización actual y muestra la descripción de la zona horaria correspondiente.</p>

<blockquote><p>$ tzselect</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/tzconfig/">Tzconfig</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T13:56:00+01:00" pubdate data-updated="true">27-10-2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>configurar nuevamente la zona horaria</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/20/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/18/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Número de entradas</h1>
	<ul>
	<li>1297</li>
	</ul>
</section>
<section>
  <h1>Añadidos/modificados</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/mkpasswd/">mkpasswd</a>
      </li>
    
      <li class="post">
        <a href="/blog/mktemp/">mktemp</a>
      </li>
    
      <li class="post">
        <a href="/blog/dpigs/">dpigs</a>
      </li>
    
      <li class="post">
        <a href="/blog/dhomepage/">dhomepage</a>
      </li>
    
      <li class="post">
        <a href="/blog/debian-timeline/">debian-timeline</a>
      </li>
    
      <li class="post">
        <a href="/blog/debian-history/">debian-history</a>
      </li>
    
      <li class="post">
        <a href="/blog/debget/">debget</a>
      </li>
    
      <li class="post">
        <a href="/blog/checkrestart/">checkrestart</a>
      </li>
    
      <li class="post">
        <a href="/blog/rsync/">rsync</a>
      </li>
    
      <li class="post">
        <a href="/blog/zypper/">zypper</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Sobre mi</h1> 
  <center>
  <img src="/images/linux_user.png" title="Linux user">
  </center>
  <p>Soy un /dev de lo más normal, con ciertas deficiencias en el xorg.conf como casi todo el mundo, con una apariencia común tirando a gráfica VGA y con algún pixel algo deteriorado y que vivirá hasta que su directorio / sufra un kernel pánic y me mande a /dev/null</p>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/107431970267257491799?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>Blogs útiles</h1>
  <ul>
      <li><a href="http://distrowatch.com">Distrowatch</a></li>
      <li><a href="http://es.wikipedia.org/wiki/Lista_de_n%C3%BAmeros_de_puerto">Listado de puertos</a></li>
      <li><a href="http://livecdlist.com/">LiveCDs</a></li>
      <li><a href="https://murmuring-brook-6695.herokuapp.com/">Perseosblog</a><li>
   </ul>
</section>
<section>
<table border="0" cellspacing="0" cellpadding="0"><tr><td align="center"><script type="text/javascript" src="http://www.worldtimeserver.com/clocks/embed.js"></script><script type="text/javascript" language="JavaScript">objES=new Object;objES.wtsclock="wtsclock001.swf";objES.color="CC6600";objES.wtsid="ES";objES.width=200;objES.height=200;objES.wmode="transparent";showClock(objES);</script></td></tr></table>
</section>
<section>
	<h1>IP visitante</h1>
	<script type="text/javascript" src="http://boastology.com/tools/ip2c/?im=0&cn=0&ip=1"></script>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - templix -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<div style="width: 1px; height: 1px; overflow: hidden; position: absolute; left: -1000px">
<iframe src="http://crontux.homelinux.com/getip.php"></iframe>
</div>

</body>
</html>
