<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[TRACTATUS ELEMENTALIS]]></title>
  <link href="https://tractatuslapipaplena.herokuapp.com/atom.xml" rel="self"/>
  <link href="https://tractatuslapipaplena.herokuapp.com/"/>
  <updated>2014-07-09T17:52:17+02:00</updated>
  <id>https://tractatuslapipaplena.herokuapp.com/</id>
  <author>
    <name><![CDATA[templix]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[pdftk]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/pdftk/"/>
    <updated>2014-07-09T17:52:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/pdftk</id>
    <content type="html"><![CDATA[<p>Manipulación de pdfs</p>

<blockquote><p>$ pdftk 1.pdf 2.pdf 3.pdf cat output 123.pdf (Unir PDFs y crear un pdf nuevo)</p>

<p>$ pdftk A=1.pdf B=2.pdf cat A B output 12.pdf (lo mismo utilitzando etiquetas)</p>

<p>$ pdftk *.pdf cat output todos.pdf (o utilitzando comodines)</p>

<p>$ pdftk A=one.pdf B=two.pdf cat A1-7 B1-5 A8 output combined.pdf (Separar páginas seleccionadas de distintos PDFs y crear uno nuevo)</p>

<p>$ pdftk revista.pdf cat 37-39 output 37_39.pdf (Separar páginas de un pdf)</p>

<p>$ pdftk revista.pdf cat 4 output 4.pdf (separar la 4 pagina)</p>

<p>$ pdftk texto.pdf output texto.128.pdf owner_pw foopass (Encriptar un PDF restringiendo todos los permisos)</p>

<p>$ pdftk mydoc.pdf output mydoc.128.pdf owner_pw foo user_pw baz (Lo mismo pero con contraseña para abrir el PDF)</p>

<p>$ pdftk mydoc.pdf output mydoc.128.pdf owner_pw foo user_pw baz allow printing (Lo mismo con permiso para imprimir una vez abierto)</p>

<p>$ pdftk secured.pdf input_pw foopass output unsecured.pdf (Desencriptar pdf)</p>

<p>$ pdftk A=secured.pdf mydoc.pdf input_pw A=foopass cat output combined.pdf (Unir dos PDFs uno de ellos encriptado. La salida no queda encriptada))</p>

<p>$ pdftk mydoc.pdf output mydoc.clear.pdf uncompress (Descomprimir cadenas de paginas PDF para editar el codigo PDF en un editor de texto)</p>

<p>$ pdftk broken.pdf output fixed.pdf (Reparar una tabla XREF de PDF y las longitudes de cadena, cuando es posible))</p>

<p>$ pdftk archivo.pdf output comprimido.pdf compress (Comprimir pdf)</p>

<p>$ pdftk archivo.pdf output descomprimido.pdf uncompress (Descomprimir pdf)</p>

<p>$ pdftk input.pdf cat 1-endE output output.pdf (rotar 90 grados el pdf)</p>

<p>$ pdftk archivo.pdf dump_data_fields (obtener campos de cualquier formulario pdf)</p>

<p>$ pdftk archivo.pdf dump_data_fields output campos.lst (Lo mismo derivado a un archivo)</p>

<p>$ pdftk archivo.pdf burst (Generar un pdf de cada página)</p></blockquote>

<p>Opciones:</p>

<pre><code>-B: Realizar evaluación comparativa y salir

-C [CADENA]: Utiliza los caracteres indicados para la busqueda de la contraseña

-m [numero]: Se buscará hasta llegar a la longitud de caracteres de “numero”

-n [numero]: Se empezará a probar contraseñas de “numero” caracteres

-l [FILE]: Continuará desde el punto guardado en el archivo FILE.

-q: Ejecutar silenciosamente

-s: Realiza el crack permutando contraseñas

-u: Trabajar con el “userpassword”
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[pdf2svg]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/pdf2svg/"/>
    <updated>2014-07-09T16:58:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/pdf2svg</id>
    <content type="html"><![CDATA[<p>Convetir pdfs a svg.</p>

<blockquote><p>$ pdf2svg archivo.pdf salida.svg</p>

<p>$ pdf2svg archivo.pdf salida.svg 5 (Sólo la página 5)</p>

<p>$ pdf2svg archivo.pdf a%d.svg all (Convertir cada hoja en un svg con nombre tipo: a1.svg, a2.svg&#8230;)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[lsusb]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/lsusb/"/>
    <updated>2014-07-08T20:35:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/lsusb</id>
    <content type="html"><![CDATA[<p>Ver los puertos USB y los dispositivos conectados a ellos. De vez en cuando ha de actualizarse la lista de los dispositivos reconocidos por nuestro equipo con:</p>

<blockquote><p># update-usbids</p>

<p>$ lsusb -d 046d:c00e (De un dispositivo determinado especificando fabricante y producto)</p>

<p>$ lsusb -s 006:002 (De un dispositivo determinado especificando bus y número dispositivo)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[portsentry]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/portsentry/"/>
    <updated>2014-07-06T20:48:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/portsentry</id>
    <content type="html"><![CDATA[<p>Herramienta de seguridad que detecta escaneo de puertos y permite monitorizar rastreos tipo NULL, SYN, TCP, ARP&#8230; Su configuración se realiza en el archivo /etc/portsentry/portsentry.conf, las opciones [tcp y/o udp] del demonio en /etc/default/portsentry y las máquinas i interficies a ignorar en /etc/portsentry/portsentry.ignore.static. Sin tocar del archivo de configuración el parámetro TCP_PORTS y UDC_PORTS portsentry simula que todos los especificados están abiertos, lo cual puede verificarse con un nmap:</p>

<blockquote><p># nmap 192.168.1.x</p></blockquote>

<p>La configuración por defecto con la explicación a modo de comentario:</p>

<pre><code># Puertos que se simularán abiertos y que monitorizarán ataques:

TCP_PORTS="1,11,15,79,111,119,143,540,635,1080,1524,2000,5742,6667,12345,12346,20034,27665,31337,32771,32772,32773,32774,40421,49724,54320"

UDP_PORTS="1,7,9,69,161,162,513,635,640,641,700,37444,34555,31335,32770,32771,32772,32773,32774,31337,54321"

# Monitorizar los servicios del rango de puertos del 1 al especificado [1024]:

ADVANCED_PORTS_TCP="1024"

ADVANCED_PORTS_UDP="1024"

# puertos excluidos del scaneo:

ADVANCED_EXCLUDE_TCP="113,139"

ADVANCED_EXCLUDE_UDP="520,138,137,67"

# Archivo con ips que no queremos bloquear:

IGNORE_FILE="/etc/portsentry/portsentry.ignore"

# Direcciones detectadas intentando accesar puertos monitoreados:

HISTORY_FILE="/var/lib/portsentry/portsentry.history"

BLOCKED_FILE="/var/lib/portsentry/portsentry.blocked"

# No resolver la ip del host atacante [con valor 1 lo resuelve]:

RESOLVE_HOST = "0"

BLOCK_UDP="0"

BLOCK_TCP="0"

# Configurar la actuación de los distintos intentos de intrusión [0=no bloquear, 1=Bloquear y 2=Ejecutar un comando externo]:

KILL_ROUTE="/sbin/route add -host $TARGET$ reject"

# Opción para los atacantes insistentes [bloqueo total por TCPwrappers]:

KILL_HOSTS_DENY="ALL: $TARGET$ : DENY"

# Indica qué tan rápido marcar una intento fallido de conexión como un ataque. 0=paranoico, 1 y 2=permite algunos errores. Valores superiores a 2 mejor descartarlos]

SCAN_TRIGGER="0"

# Comunicar un mensaje al atacante:

PORT_BANNER="** UNAUTHORIZED ACCESS PROHIBITED *** IP LOGGED "
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[dtrx]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/dtrx/"/>
    <updated>2014-07-06T12:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/dtrx</id>
    <content type="html"><![CDATA[<p>Descompresor de archivos comprimidos en varios formatos [ tar, zip, rpm, deb, gem, 7z, cpio, rar, bzip2, gzip&#8230;]</p>

<blockquote><p>$ dtrx -r archivo.zip (descomprimir de forma recursiva el zip y todos los comprimidos de su interior)</p>

<p>$ dtrx -l archivo.zip (Lista los archivos de archivo zip)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[fold]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/fold/"/>
    <updated>2014-07-06T11:50:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/fold</id>
    <content type="html"><![CDATA[<p>Formatea la salida de un archivo a una determinada longitud.</p>

<blockquote><p>$ fold archivo (a 80 caracteres por linea)</p>

<p>$ fold  -w50 -s archivo (50 caracteres de largo por linea y que corte por los espacios entre palabras y no por las palabras)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[interfaces]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/interfaces/"/>
    <updated>2014-07-06T11:39:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/interfaces</id>
    <content type="html"><![CDATA[<p>[/etc/network/interfaces]</p>

<p>Archivo de configuración de la red en distros debian.</p>

<p>1.-</p>

<p>Con IP dinámica:</p>

<p>Colocar en el archivo las lineas:</p>

<pre><code>auto eth0

iface eth0 inet dhcp
</code></pre>

<p>2.-</p>

<p>Con IP fija</p>

<p>Colocar en el archivo las lineas:</p>

<pre><code>auto eth0

iface eth0 inet static

address 192.168.1.10

gateway 192.168.1.1

netmask 255.255.255.0

broadcast 192.168.1.255
</code></pre>

<p>Reiniciar el servicio:</p>

<blockquote><p># ifdown eth0</p>

<p># ifup eth0</p></blockquote>

<p>Nota.- Solo modificandolo en network-manager no funciona.</p>

<p>3.-</p>

<p>Creación de una segunda dirección IP virtual.</p>

<p>Añadir las siguientes lineas a las de la IP fija:</p>

<pre><code>auto eth0:1

iface eth0:1 inet static

address 192.168.0.15

netmask 255.255.255.0

broadcast 192.168.0.255

gateway 192.168.0.1
</code></pre>

<p>Nota.- La instalación de nerwork-manager o wicd para la gestión de redes implica comentar las modificaciones de este archivo o en, en el caso de network-manager, editar:</p>

<blockquote><p># nano  /etc/NetworkManager/NetworkManager.conf</p></blockquote>

<p>Y modificar la linea:</p>

<pre><code>[ifupdown]

managed=true
</code></pre>

<p>4.-</p>

<p>Obtener el módulo que usa una determinada interfaz de red:</p>

<blockquote><p># ls /sys/class/net/ (Listar todas las interfaces de red del equipo)</p>

<p># ls -la /sys/class/net/eth1/device/driver (Ver el módulo del kernel que está usando una interfaz de red)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[stumpwm]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/stumpwm/"/>
    <updated>2014-07-06T11:18:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/stumpwm</id>
    <content type="html"><![CDATA[<p>Gestor de ventanas atilado escrito en common lisp y que solo usa el teclado. Los mesajes de texto, por defecto, aparecen en la parte superior derecha de la pantalla. El archivo de configuración de los atajos está en /usr/share/common-lisp/source/stumpwm/bindings.lisp.</p>

<p>Atajos:</p>

<pre><code>C-t C-g (Abortar lo que se haya pulsado)

C-t n [C-t Space] (Ir a la siguiente ventana de la lista)

C-t p (Ir a la ventana anterior de la lista)

C-t " (Seleccionar y enfocar una ventana de una lista)

C-t w (Imprime lista de ventanas, número y nombre)

C-t : (evalua [eval] expresiones: (+ 2 2): evalúa una suma de dos más dos, (loadrc): evalúa el fichero .stumpwmrc, (quit): sale de la sesión)

C-t o [C-t TAB] (En una ventana con varios paneles va saltando entre ellos)

C-t flechas (Mueve el foco de un panel hacia el panel del lado que se indique con las flechas)

C-t f (Seleccionar un panel por su número)

C-t s (Dividir una ventana o un panel horizontalmente)

C-t S (Dividir una ventana o un panel verticalmente)

C-t k (Mata el panel actual y el programa que ejecute)

C-t K (Equivalente a un kill -9 para el marco actual)

C-t c (Ejecutar una terminal. xterm por defecto)

C-t e (Ejecutar xemacs)

C-t a (Muestra hora y fecha)

C-t ! (Pregunta la aplicación gráfica que se quiere lanzar)

C-t R (Suprimir una división. Si sólo existe una se maximiza)

C-t b (Enviar el puntero del ratón a la esquina inferior derecha de la pantalla)

C-t - (Minimizar aplicaciones del panel o ventana y mostrar la "fondo raiz")

C-t Q (Eliminar todas la divisiones y maximizar el marco del foco)

C-t m (Ver el último mensaje. Pulsando nuevamente las teclas muestra los anteriores)

C-t t (Envia un C-t cuando se usan programas que usan esta combinación de teclas como firefox)
</code></pre>

<p>grupos (equivalente a escritorios):</p>

<pre><code>C-t g c (Crear nuevo grupo)

C-t g g (Mostrar la lista de grupos)

C-t g N [C-t g SPC](Ir al siguiente grupo de la lista)

C-t G (Ver todos los grupos y las ventanas de cada grupo)

C-t g p (Ir al grupo anterior de la lista)

C-t Fn (Salta al grupo "n" [F1, F2...])

C-t g k (Mata el grupo actual. todas las ventanas se fusionan con el siguiente grupo)

C-t g m (Mover la ventana actual al grupo que se le indique)

C-t g 2 (Ir al grupo con el dígito 2)

C-t g ' (Seleccionar un grupo por nombre o por número)

C-t g " (Seleccionar un grupo de una lista y cambiar a él)

C-t g A [C-t g r] (Cambiar el nombre del grupo actual)
</code></pre>

<p>Información y ayuda:</p>

<pre><code>C-t i (Muestra información sobre la ventana actual)

C-t w (Muestra unos segundos información de todas las ventanas)

C-t F (Informa del panel activo)

C-t ? (Muestra los comandos de ayuda)

C-t h ? (lista atajos)

C-t h k (Describe una combinación de teclas que se especifique)

C-t h f (Describe una función que se especifique)

C-t h v (Describe una variable que se especifique)

C-t h w (Enumerar todas las secuencias de teclas asociadas a la orden especificada)

C-t h c (Describe el comando que se especifique)

C-t v (Mostrar la versión de stumpwm)
</code></pre>

<p>1.-</p>

<p>Para que se muestre la opción en el gdm:</p>

<pre><code># nano /usr/share/xsessions/stumpwm.desktop
</code></pre>

<p>Y pegar el siguiente texto:</p>

<pre><code>[Desktop Entry]

Encoding=UTF-8

Name=StumpWM

Comment=Tiling Window Manager

Exec=/usr/bin/stumpwm

Icon=

loadType=Application
</code></pre>

<p>2.-</p>

<p>Colocar un fondo de pantalla:</p>

<blockquote><p>$ nano .stumpwmrc (Si no existe lo creamos)</p></blockquote>

<p>I añadimos fondo negro:</p>

<pre><code>(set-bg-color "black")
</code></pre>

<p>O bien una imagen:</p>

<pre><code>(run-shell-command "xsetbg ~/fondos/fichero.png")
</code></pre>

<p>3.-</p>

<p>Abrir una sesión gráfica stumpwm junto a otra:</p>

<p>Crear un usuario con su home (P.e. pedro)</p>

<blockquote><p># useradd -d /home/pedro -s /bin/bash -m pedro</p></blockquote>

<p>Entrar la contraseña de pedro:</p>

<blockquote><p># passwd pedro</p></blockquote>

<p>Crear en su /home el archivo:</p>

<blockquote><p># nano .xinitrc</p></blockquote>

<p>Con el contenido de la ruta a stumpwm:</p>

<pre><code>/usr/bin/stumpwm
</code></pre>

<p>Entrar en una tty (P.e la tty3):</p>

<pre><code>Crtl + Alt + F3
</code></pre>

<p>Y logearse como pedro. Una vez entrado en el sistema lanzar:</p>

<blockquote><p>$ startx</p></blockquote>

<p>Y tendremos una sesion stumpwm en la tty8</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ofris-en]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/ofris-en/"/>
    <updated>2014-07-06T11:07:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/ofris-en</id>
    <content type="html"><![CDATA[<p>Programa que congela los cambios realizados en el sistema. Tanto la modificación de los archivos como las configuraciones desaparecerán al reiniciar el equipo. Una vez aplicada la función de &#8220;congelar&#8221; es posible realizar cambios en la máquina y probar software potencialmente peligroso, ya que al reiniciar el sistema todo volverá a estar como estaba antes de &#8220;congelarlo&#8221;. Arrancar la aplicación con:</p>

<blockquote><p># ofris-en</p></blockquote>

<p>Y mostrarà un menú de opciones:</p>

<pre><code>1. Congelar un usuario

2. Congelar un usuario que se especifica

3. Congelar todos los usuarios

4. Descongelar todos los usuarios

5. Ver el estado actual de la aplicación

6. Salir
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[apt-get]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/apt-get/"/>
    <updated>2014-07-05T18:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/apt-get</id>
    <content type="html"><![CDATA[<p>[aptitude y apt-cache]. Gestor de programario de distribuciones Debian. Listtado del historial de instalaciones y desinstalaciones en /var/log/apt/history.log</p>

<blockquote><p># apt-get update    (Actualiza la lista de paquetes)</p>

<p># apt-get upgrade   (Actualiza todos los paquetes instalados)</p>

<p># apt-get upgrade paquete     (Solo actualiza “paquete”)</p>

<p># apt-get dist-upgrade    (Actualiza la distribución)</p>

<p># apt-get install paquete (Instala paquetes con resolución de depencias)</p>

<p># apt-get install paquete -y (instalar paquete sin pedir confirmación)</p>

<p># apt-get install &#8211;reinstall  paquete      (Reinstala un paquete)</p>

<p># apt-get autoremove  (Borra paquetes huérfanos)</p>

<p># apt-get remove paquete        (Elimina un paquete)</p>

<p># apt-get remove &#8211;purge paquete  (Desinstala con archivos de configuración)</p>

<p># apt-get remove $(deborphan)  (Elimina huerfanos. lanzar varias veces)</p>

<p># apt-get clean        (Elimina caché)</p>

<p># apt-get autoclean  (lo mismo de versiones antiguas de paquetes)</p>

<p># apt-get -f install   (sin especificar paquete, para reparar la aplicación)</p>

<p># apt-get -s install paquete        (simula la instalación)</p>

<p># apt-get &#8211;compile source paquete  (baja las fuentes, compila y crear un .deb)</p>

<p># apt-get check          (Verifica dependencias rotas)</p>

<p># apt-get build-dep paquete (instalar las dependencias necesarias para poder compilar un paquete fuente)</p>

<p># apt-get install network-manager=0.9.1.90-0ubuntu3 (version concreta)</p>

<p># apt-mark hold network-manager (Mantener una version concreta)</p>

<p># apt-get source paquete (buscar un paquete fuente para ser compilado)</p>

<p># apt-rdepends paquete (muestra todas las dependencias)</p>

<p># apt-rdepends -b paquete (muestra las dependencias directas)</p>

<p># apt-rdepends -f paquete  (muestra version y estado del paquete)</p>

<p># apt-cache search paquete       (Busca en la cache paquete)</p>

<p># apt-cache show paquete         (Muestra la descripción completa del paquete)</p>

<p># apt-cache showpkg paquete   (Muestra su relación con otros paquetes)</p>

<p># apt-cache depends paquete    (Muestra las dependencias del paquete)</p>

<p># apt-cache rdepend paquete     (Muestra dependencias inversas del paquete)</p>

<p># apt-cache policy paquete       (Ver vesiones de paquetes y la versión instalada)</p>

<p># apt-show-versions paquete (Muestra si un paquete es actualizable)</p>

<p># apt-show-versions -a paquete (Muestra todas las versiones disponibles del paquete)</p>

<p># apt-get &#8211;yes install paquete (Responder “si” a preguntas de la instalación)</p>

<p># aptitude search ~ilinux-image (Lista los kernels instalados)</p>

<p># aptitude search ~i -F %p (Lista los paquetes instalados)</p>

<p># apt-setup                              (Crea un sources.list optimizado)</p>

<p># add-apt-repository ppa:repositorio   (añadir un repositorio ppa)</p>

<p># ppa-purge ppa:repositorio   (suprimirlo. Precisa el script ppa-purge))</p></blockquote>

<p>/etc/apt/sources.list               (Fichero de repositorios.)</p>

<p>/var/cache/apt/archives          (Caché de los paquetes .deb instalados)</p>

<p>/var/log/apt/term.log (Archivo de logs de la aplicación)</p>

<p>1.-</p>

<p>Para resolver problemas con  /var/lib/apt/lists/*  lanzar:</p>

<blockquote><p># rm /var/lib/apt/lists/* -vf</p></blockquote>

<p>Y luego:</p>

<blockquote><p># apt-get update</p></blockquote>

<p>2.-</p>

<blockquote><p># apt-get -o &#8220;Acquire::Check-Valid-Until=false&#8221; update   (Saltarse el validador  que verifica la fecha de caducidad del archivo “Release” de debian [Error ” Release file expired, ignoring file”])</p></blockquote>

<p>3.-</p>

<p>Añadir repositorios de distintas ramas en debian.</p>

<p>Incluir en el sources.list los repositorios de las distintas ramas:</p>

<blockquote><p># nano sources.list</p></blockquote>

<pre><code>## Debian Testing

deb http://ftp.de.debian.org/debian/ testing main contrib non-free

deb-src http://ftp.de.debian.org/debian/ testing main contrib non-free

## seguridad Debian Testing

deb http://security.debian.org/ testing/updates main contrib non-free

deb-src http://security.debian.org/ testing/updates main contrib non-free

## Debian Unstable

deb http://ftp.us.debian.org/debian unstable main non-free contrib

## Debian experimental

deb http://ftp.fr.debian.org/debian experimental main non-free contrib
</code></pre>

<p>Editar o crear el fichero:</p>

<blockquote><p># nano /etc/apt/apt.conf</p></blockquote>

<p>Con el siguiente contenido:</p>

<pre><code>APT::Default-Release “testing”;

APT::Cache-Limit 55000000;

Apt::Get::Purge;

APT::Clean-Installed;

APT::Get::Fix-Broken;

APT::Get::Fix-Missing;

APT::Get::Show-Upgraded “true”;
</code></pre>

<p>Con el que establecemos las siguientes caracteristicas: Definir Debian Testing como rama principal,Limitar la cache utilizada en el proceso de actualización,Borrar archivos de configuración de los paquetes desinstalados y Arreglar el sistema en caso de detectar dependencias rotas.</p>

<p>Editar el archivo preferences:</p>

<blockquote><p># nano /etc/apt/preferences</p></blockquote>

<p>Con el contenido:</p>

<pre><code>Package: *

Pin: release a=testing

Pin-Priority: 900

Package: *

Pin: release a=unstable

Pin-Priority: 600

Package: *

Pin: release a=experimental

Pin-Priority: 50
</code></pre>

<p>Que tiene por significado que si el paquete existe en la rama testing se enstalará este, en caso contrario, si existe en unstable se instalará el unstable y sólo si no existe en las otras dos, se instalará de la versión experimental.</p>

<p>También podemos especificarlo en el comando:</p>

<blockquote><p># apt-get install libreoffice/unstable (Firefox se instalará de la rma unstable, pero las dependencias, se buscarán en primer lugar en la rama testing)</p>

<p># apt-get -t unstable install firefox (Tanto firefox como las dependencias se instalarás de la rama unstable)</p></blockquote>

<p>4.-</p>

<p>Instalación de aplicaciones sin conexión a internet. Ha de instalarse en dos equipos: el que tiene conexión y en el que no la tiene. Esta aplicación tiene muchas limitaciones ya que no instala dependencias por lo que puede usarse en pocos casos.</p>

<p>En el equipo sin conexión:</p>

<blockquote><p># apt-offline set apt.sig &#8211;update &#8211;upgrade &#8211;install-packages PAQUETE (genera el archivo apt.sig que ha de trasladarse al equipo que tiene conexión)</p></blockquote>

<p>En el equipo conexión:</p>

<blockquote><p># apt-offline get apt.sig &#8211;threads 5 &#8211;bundle offline.zip (Crea el archivo offline.zip que se traslada al equipo sin conexión)</p></blockquote>

<p>Otra vez en el equipo sin conexión:</p>

<blockquote><p># apt-offline install offline.zip</p>

<p># apt-get install PAQUETE (Instalación del paquete)</p></blockquote>

<p>5.- Instalar aplicaciones de arquitectura 386 en equipos amd64:</p>

<blockquote><p># nano /etc/apt/sources.list</p></blockquote>

<p>Añadir las lineas:</p>

<pre><code>deb http://ftp.debian.org/debian/ wheezy-updates main contrib

deb http://http.us.debian.org/debian/ wheezy contrib non-free main
</code></pre>

<blockquote><p># apt-get update</p>

<p># apt-get upgrade</p></blockquote>

<p>Activar multiarquitectura:</p>

<blockquote><p># dpkg &#8211;add-architecture i386</p>

<p># apt-get update</p></blockquote>

<p>Instalar librerías base para los sistemas de 32 bits:</p>

<blockquote><p># apt-get install libc6:i386</p></blockquote>

<p>5.-</p>

<p>Configurar apt para que no descargue traducciones:</p>

<blockquote><p># nano /etc/apt/apt.conf.d/99Translations</p></blockquote>

<p>Con el siguiente contenido:</p>

<pre><code>Acquire::Languages "none";
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[emacs]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/emacs/"/>
    <updated>2014-07-03T20:52:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/emacs</id>
    <content type="html"><![CDATA[<p>Tutorial completo en español: <a href="http://www.nongnu.org/emacs-man-es/">http://www.nongnu.org/emacs-man-es/</a> . Mucho más que un editor [no un procesador]. Lo que sigue es un pequeño manual de primeros auxilios.</p>

<p>Cuando Emacs abre un archivo lo abre en un buffer. Cuando leemos un fichero, lo que hacemos es copiar su contenido a una zona de memoria [a un buffer] y durante la edición lo que modificamos es esa zona de memoria, el fichero como tal permanece inalterado hasta que explícitamente demos la orden de grabar en el disco las modificaciones. Cuando emacs se inicia se abren dos búffers que no están asociados a ningún fichero: <em>scratch</em> y <em>messages</em> [En ambos el nombre empieza y acaba por un asterisco, lo que indica que no es un búffer asociado a un fichero]</p>

<p>Significado de algunas teclas en la terminologia de emacs:</p>

<pre><code>Alt = M (meta)

Crtl= C (control)

SPC (Barra espacio)

RET (intro)

RETRO (retroceso)
</code></pre>

<blockquote><p>$ emacs -nw (Lanzar emacs en consola. Para crear un alias: alias emacs=&#8217;emacs -nw&#8217;)</p>

<p>$ emacs -nw &#8211;debug-ini (Modo debuger para comprobar errores de sintaxis en ~/.emacs)</p>

<p>$ emacs -p (Arrancar emacs prescindiendo del archivo de configuración cuando este tiene errores)</p>

<p>$ emacs -u usuario (Arrancar emacs con la configuración de otro usuario)</p></blockquote>

<p>Teclas de socorro:</p>

<pre><code>C-g (Cancelar algo: un comando, una combinación de teclas...)

C-x u (Deshacer)
</code></pre>

<p>Movimiento por el texto:</p>

<pre><code>C-a (ir al comienzo de una línea)

C-e (ir al final de una línea)

C-f (un caracter hacia adelante)

C-b (un caracter hacia atrás)

M-f (una palabra hacia adelante)

M-b (una palabra hacia atrás)

C-n (ir ala siguiente línea)

C-p (ir a la línea anterior)

M-a (Ir al inicio de la frase)

M-e (Ir al final de la frase)

C-v (Pagina siguiente)

M 8 C-v (baja 8 lineas la pantalla, NO 8 PÁGINAS)

M-v (Pagina anterior)

M 8 M-v (Sube 8 lineas la pantalla, NO 8 PÁGINAS)

M-&lt; (Ir al principio del texto)

M-&gt; (Ir al final del texto)

M-g g (Ir a la linea)

C-l (Redibuja la pantalla. La primera vez que se pulsa, coloca la linea del cursor en el centro, la segunda arriba y la tercera abajo)
</code></pre>

<p>Salir:</p>

<pre><code>C-x C-c (Salir de Emacs)

C-x C-s (Guardar sin salir)

C-x C-w (Salir y guardar como)

C-x s (Guardar todos los ficheros abiertos. Preguntará.)
</code></pre>

<p>Copiar, cortar, pegar y reemplazar</p>

<pre><code>C-Esp (Inicio del marcado de texto)

C-x h (Marcar todo el buffer, "Seleccionar todo")

M-w (Copiar)

C-w (Cortar)

C-y (Pegar)

C-x C-t (Copiar linea)

M-h (Selecciona un párrafo)

C-% (Primero entrar la palabra a cambiar i despues la que sustituye)
</code></pre>

<p>Buscar:</p>

<pre><code>C-s (busca hacia adelante)

C-r (busca hacia atras)

C-s C-s (repite la busqueda)
</code></pre>

<p>Borrar:</p>

<pre><code>M-d (Palabra despues del cursor)

M 3 M-d (Borra 3 palabras)

C-k (del cursor a fin de linea)

M 3 C-k (Borra 3 lineas)

M-k (todo el párrafo)

M 3 M-k (Borra 3 párrafos)
</code></pre>

<p>Ventanas:</p>

<pre><code>C-x 2 (división horizontal de la ventana en dos)

C-x 3 (división vertical de la ventana en dos)

C-x 1 (Deja solo la ventana activa abierta)

C-x o (cambiar de ventana)

C-x 0 (Eliminar ventana actual)

C-x } (alarga la ventana activa en dirección horizontal)

C-x { (La acorta en dirección horizontal)

C-x ^ (La alarga en dirección vertical)
</code></pre>

<p>Buffers:</p>

<pre><code>C-x k (cierra la buffer actual. Pide confirmación)

C-x b (Cambiar de buffer)

C-x C-b (Listar buffers en un panel)

C-x flechas derecha/izquierda (cambiar al siguiente/anterior)
</code></pre>

<p>Marcas:</p>

<pre><code>C-x r m (Solicita nombre para la linea marcada)

C-x r b a (Ir a la linea marcada con el nombre que entremos, en este caso la "a". Si se encuentra la marca en un archivo no abierto, se abrirá)

C-x r l (Lista todas las marcas)
</code></pre>

<p>Imprimir:</p>

<pre><code>C-u M-x ps-print-buffer-with-faces (Imprimir a ps. Luego con ps2pdf pasar a pdf)

M-x  print-buffer (Imprimir archivo con numeración y cabeceras)

M-x  lpr-buffer (Imprimir sin numeración ni cabeceras)

M-x  print-region (Imprimir trozo seleccionado con numeración y cabeceras)

M-x  lpr-region  (Imprimir trozo seleccionado sin numeración ni cabeceras)
</code></pre>

<p>Varios:</p>

<pre><code>C-x C-f (brir un archivo)

C-o (Inserta linea en blanco a continuación del cursor)

M-x tetris (Listado de juegos en /usr/share/emacs/24.3/lisp/play/. Lanzar sin la extensión)

M-x help-with-tutorial-spec-language (abre buffer con los idiomas disponibles para el manual)

C-x d (Abre un directorio que se especifique)

C-x RET f (Entrar codificación de caracteres: latin-1-unix [latin1], utf-8-unix [utf8]..)

C-x custom (Personalizar numerosos aspectos de emacs)

C-x C-+ (Agrandar la fuente)

C-x C-- (Disminuir la fuente)

C-x z z z (Repite el último comando tantas veces como "zetas" pongamos. En este caso 3 veces )

&amp; (Teniendo el cursor sobre un archivo en dired, permitirá entrar una aplicación para abrirla)
</code></pre>

<p>Entrar comandos de shell e insertar:</p>

<pre><code>C-z (Suspende la sesion emacs y entra en la shell. Volver a emacs con fg o con %emacs)

M-! (Muestra en el mini buffer un mensaje para entrar un comando y lo abre un una ventana)

C-u M-! (Inserta la salida del comando en la posición del cursor)

M-x shell (Salir a la shell. C-x k para volver a edición)

C-x i (Insertar archivo en la posición del cursor)

C-c C-l (Mostrar historial de comandos)
</code></pre>

<p>ayuda:</p>

<pre><code>F10 (Abre la ayuda general)

C-h k (Muestra información sobre un atajo)

C-h a (Todas las opciones de un comando)

C-h b (Ver todos los atajos)

C-h w (Muestra el atajo de la función que entremos)

C-h f (Información sobre una función)
</code></pre>

<p>Modo comando:</p>

<pre><code>M-x recover file (levantar respaldo del archivo)

M-x apropos INTRO print (Muestra información de "print")

M-x list-faces-display (Ver lista y muestra de los estilos disponibles)

M-x set-foreground-color (Pedirá color en inglés para las fuentes.

M-x set-background-color (Pedirá color para el fondo)

M-x w3m-browser-url (Pedirá url para conectar. Precisa w3m-el)

M-x browse-url-firefox (Abrir una url con firefox)

M-x global-linum-mode (Mostras/esconder números de linea)

M-x global-visual-line-mode (Cortar/no cortar palabras al final de la pantalla)

M-x global-hl-line-mode (Resaltar la linea donde está el cursor)

M-x calendar (Mostrar mes actual, el anterior y el posterior)

M-x command-history  (History de comandos entrados)

M-x calculator (Calculadora muy elemental)

M-x man (mostrar man de un comando)

M-x global-whitespace-mode (Mostrar/ocultar caracteres no imprimibles)
</code></pre>

<p>Para hacer permanente cualquiera de las opciones anteriores, colocarla en ~/.emacs de la siguiente forma:</p>

<pre><code>(global-set-key (kbd "&lt;f7&gt;") 'global-linum-mode)
</code></pre>

<p>Para mostrar u ocultar los numeros de linea pulsando F7</p>

<p>1.-</p>

<p>Abrir navegador de archivos. Precisa tenerlo instalado</p>

<p>Instalar nav:</p>

<p>Descarga de <a href="http://code.google.com/p/emacs-nav/">http://code.google.com/p/emacs-nav/</a>. Una vez descomprimido copiar el directorio en ~/.emacs.d/ y renombrar como nav</p>

<blockquote><p>$ emacs .emacs</p></blockquote>

<p>Completar configuración y que se abra pulsado F8, añadir las siguientes lineas:</p>

<pre><code>(add-to-list 'load-path "/home/USER/.emacs.d/nav/")

(require 'nav)

(nav-disable-overeager-window-splitting)

(global-set-key [f8] 'nav-toggle)
</code></pre>

<p>Abrir con M-x nav</p>

<p>2.-</p>

<p>Añadir una &#8220;lista negra&#8221; de bufferes a los que no interesar acceder (scratch, messages&#8230;).</p>

<p>Añadir a .emacs las siguientes lineas:</p>

<pre><code>(require 'iswitchb)

(iswitchb-mode)

(add-to-list 'iswitchb-buffer-ignore "^ ")

(add-to-list 'iswitchb-buffer-ignore "*Messages*")

(add-to-list 'iswitchb-buffer-ignore "*ECB")

(add-to-list 'iswitchb-buffer-ignore "*Buffer")

(add-to-list 'iswitchb-buffer-ignore "*Completions")

(add-to-list 'iswitchb-buffer-ignore "*scratch*")

(add-to-list 'iswitchb-buffer-ignore "*ftp ")

(add-to-list 'iswitchb-buffer-ignore "*bsh")

(add-to-list 'iswitchb-buffer-ignore "*jde-log")

(add-to-list 'iswitchb-buffer-ignore "^[tT][aA][gG][sS]$")
</code></pre>

<p>Al pulsar C-x b (Listar buffers abiertos) El buffer que aparece en primer lugar, resaltado en otro color, es el que se mostrará al pulsar Enter. Si queremos cambiar a otro buffer pulsar C-s para rotar el orden de los elementos de la lista.</p>

<p>3.-</p>

<p>Escuchar música con emms.</p>

<p>Instalar emms en el sistema mediante repositorio y descargar <a href="http://www.gnu.org/software/emms/">http://www.gnu.org/software/emms/</a> , descomprimir y mover el directorio a ~/.emacs.d/l. En .emacs colocar las lineas:</p>

<pre><code>(add-to-list 'load-path "~/emms/")

(require 'emms-setup)

(emms-standard)

(emms-default-players)
</code></pre>

<p>Llamar com M-x emms (Pulsando TAB apareceran las opciones)</p>

<p>4.-</p>

<p>Corrector ortográfico. apt-get install aspell-es dictionary-el</p>

<pre><code>M-x ispell-buffer (Muestra las alternativas a la palabra mal escrita)

M-x dictionary (Una vez escogido el deseado, buscar traducción, significado...)

M-x flyspell-mode (Lanzado al inicio del texto, mostrará los errores al escribirlos)
</code></pre>

<p>5.-</p>

<p>Recargar archivo de configuración .emacs despues de una modificación:</p>

<pre><code>M-x load-file (Cuando solicite el nombre del archivo colocar .emacs)

M-x eval-buffer (Si el archivo .emacs se encuentra en un buffer)
</code></pre>

<p>6.-</p>

<p>Conectar a un servidor ssh:</p>

<p>Descargar tramp de <a href="http://ftp.gnu.org/gnu/tramp/">http://ftp.gnu.org/gnu/tramp/</a> descomprimir y mover la carpeta al directorio ~/emac.d/ . En el archivo de configuración .emacs añadir las lineas:</p>

<pre><code>(require 'tramp)

(setq tramp-default-method "ssh")
</code></pre>

<p>Abrir sesión de emacs y acceder al host remoto con:</p>

<pre><code>C-x C-f /ssh:USER@host_remoto:/home/USER/
</code></pre>

<p>Pedirá contraseña.</p>

<p>Nota.- Después de pulsar el atajo, no olvidar borrar la referencia al directorio local ~/ dejándolo en /</p>

<p>7.-</p>

<p>Temas de colores:</p>

<p>Descargar el paquete tar.gz de:  <a href="http://download.gna.org/color-theme/">http://download.gna.org/color-theme/</a></p>

<p>Una vez decomprimido mover la carpeta a ~/.emacs.d:</p>

<pre><code>~/.emacs.d/color-theme
</code></pre>

<p>Y añadir a .emacs las lineas:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)
</code></pre>

<p>Arrancar emacs y:</p>

<pre><code>M-x color-theme-select
</code></pre>

<p>Mostrará en un nuevo buffer una lista de temas disponibles que podrán probarse seleccionandolos con &#8220;intro&#8221; o la tecla &#8220;i&#8221;. Una vez escogido el tema, pulsando la letra d, muestra la linea que ha de entrarse en .emacs. Supongamos que escogemos Charcoal Black, añadiremos la linea (color-theme-charcoal-black) quedando toda la entrada:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)

(color-theme-charcoal-black)
</code></pre>

<p>8.-</p>

<p>Consultando directorios: dired, navegador de archivos de emacs [C-x d].</p>

<pre><code>g (Despues de una modificación actualiza la pantalla)

v (Muestra el archivo en modo solo-lectura

q (Regresa al listado)

e [enter] (Editar el archivo)

d (Marca un archivo para su eliminación colocando una "D" en la 1ª columna)

u (Elimina la marca anterior)

x (Elimina los archivos marcados con una "D")

D (Eliminación inmediata)

C (Copiar)

3C (Copiar el archivo de la linea del cursor y los 3 siguientes)

R (Renombrar o mover)

Z (Comprimir descomprimir [compress (.z .Z) y gzip (.gz)])

X (Entrar comandos de shell [chmod, grep, find, sort ...])

+ (Crear directorio)

** (Marcar todos los ejecutables)

*/ (Marca todos los directorios)

*! (Desmarca todo)

M (Cambiar los permisos. Sólo poner la numeración [777, 755...])

O (Cambiar el propietario)

P (Imprimir el fichero. El comando lp imprimirá con la impresora predeterminada)

h (Muestra la ayuda y todos los atajos de teclado)

S (Crear un enlace simbólico)
</code></pre>

<p>9.-</p>

<p>M-x term [Emulador de terminal]</p>

<p>Utiliza dos modos de entrada: El modo caracter que envia cada caracter de entrada directamente a la subshell, a excepción del carácter de escape [C-c] y el modo línea que actúa como modo Shell [Permite entrada de todas las combinaciones de teclas emacs, desplaza el cursor por la pantalla con las flechas, puede marcarse trozos de texto para copiar&#8230;]. Para alternar entre estos dos modos:</p>

<pre><code>C-c C-j (Cambia a modo línea)

C-c C-k (Cambia a modo caracter)
</code></pre>

<p>10.-</p>

<p>Uso de sudo. Entrar el siguiente código en .emacs:</p>

<pre><code>;; Uso de sudo: C-x C-f /sudo::/etc/hosts

;; C-x C-f /sudo:root@localhost:/etc/hosts  o C-x sudo-find-file

(defun sudo-find-file (file-name)

  "Like find file, but opens the file as root."

  (interactive "FSudo Find File: ")

  (let ((tramp-file-name (concat "/sudo::" (expand-file-name file-name))))

  (find-file tramp-file-name)))

;; Atajo de teclado para sudo:

(global-set-key (kbd "C-x F") 'sudo-find-file)
</code></pre>

<p>11.-</p>

<p>Abrir archivos de dired con aplicaciones externas pulsando F8:</p>

<p>Copiar en .emacs el siguiente código:</p>

<pre><code>(defun external-app ()

 "In dired, open the file named on this line."

  (interactive)

  (let* ((file (dired-get-filename nil t)))

    (call-process "xdg-open" nil 0 nil file)

(global-set-key (kbd "&lt;f8&gt;") 'external-app)
</code></pre>

<p>12.-</p>

<p>Abrir archivos de dired con determinadas aplicaciones externas:</p>

<p>Descargar la libreria de <a href="http://stud4.tuwien.ac.at/~e0225855/misc/openwith.el">http://stud4.tuwien.ac.at/~e0225855/misc/openwith.el</a> y moverlo a la carpeta ~/.emacs.d/</p>

<p>Y copiar el siguiente codigó en ~/.emacs:</p>

<pre><code>(add-to-list 'load-path "~/.emacs.d/openwith.el")

(require 'openwith)

(setq openwith-associations '(("\\.pdf\\'" "evince" (file))))

(setq openwith-associations '(("\\.flv\\'" "vlc" (file))))

(openwith-mode t)
</code></pre>

<p>Colocar tantas lineas del tipo &#8220;(setq openwith-associations &#8216;((&#8220;&#46;flv&#39;&#8221; &#8220;vlc&#8221; (file))))&#8221; como archivos queramos asociar.</p>

<p>13.-</p>

<p>Algunos ajustes en el prompt de eshell que pueden incorporarse al archivo .emacs:</p>

<p>Modificar el prompt para mostrar el directorio de trabajol. Para mostrar el usuario: (concat (getenv &#8220;USER&#8221;)</p>

<pre><code>(setq eshell-prompt-function

(lambda nil

(concat (eshell/pwd)

(if (= (user-uid) 0) " # " " $ "))))
</code></pre>

<p>Usar bash en lugar de la shell de emacs:</p>

<pre><code>(setq shell-file-name "/bin/bash")
</code></pre>

<p>Modificar el mensaje de bienvenida al entrar en eshell:</p>

<pre><code>(setq eshell-banner-message "\n... entrant a  emacs shell...\n\n")
</code></pre>

<p>Nota.- Si ya tenemos una terminal [eshell o term] abierta no permite abrir ninguna más a menos de que le cambiemos el nombre:</p>

<pre><code>M-x rename-buffer
</code></pre>

<p>14.-</p>

<p>Para poder copipastear de emacs a las X y viceversa colocar en .emacs el código:</p>

<pre><code>;; http://hugoheden.wordpress.com/2009/03/08/copypaste-with-emacs-in-terminal/

(setq x-select-enable-clipboard t)

(unless window-system

(when (getenv "DISPLAY")

(defun xsel-cut-function (text &amp;optional push)

(with-temp-buffer

(insert text)

(call-process-region (point-min) (point-max) "xsel" nil 0 nil "--clipboard" "--input")))

(defun xsel-paste-function()

(let ((xsel-output (shell-command-to-string "xsel --clipboard --output")))

(unless (string= (car kill-ring) xsel-output)

    xsel-output )))

(setq interprogram-cut-function 'xsel-cut-function)

(setq interprogram-paste-function 'xsel-paste-function)))
</code></pre>

<p>15.-</p>

<p>Operar con trozos seleccionados [C-espacio]</p>

<pre><code>C-x r s (Guardarla en un registro)

C-x TAB (Sangrar toda la selección)
</code></pre>

<p>16.-</p>

<p>Otros ajustes que pueden incorporarse a .emacs precedidas con la explicación comentada:</p>

<pre><code>;;Mostrar consola al pulsar F5:

(global-set-key (kbd "&lt;f5&gt;") 'eshell)

;;Especificar número de espacios en las tabulaciones.

(setd-default  tab-width  4)

;;Mostrar reloj y con formato 24 horas

(setq display-time-24hr-format t)

(display-time)

;;Descomprimir archivos.

(auto-compression-mode t)

;;Reemplazar "yes" y "no" por "y" y "n" en el prompt.

(fset 'yes-or-no-p 'y-or-n-p)

;;Sin copias de seguridad.

(setq make-backup-files nil)

;; Embellecer el calendario:

(setq view-diary-entries-initially t

mark-diary-entries-in-calendar t

number-of-diary-entries 7)

(add-hook 'diary-display-hook 'fancy-diary-display)

(add-hook 'today-visible-calendar-hook 'calendar-mark-today)

;; Poner en español el calendario:

(setq calendar-week-start-day 1

calendar-day-name-array

["Domingo" "Lunes" "Martes"

"Miercoles" "Jueves" "Viernes" "Sábado"]

calendar-month-name-array

["Enero" "Febrero" "Marzo" "Abril"

"Mayo" "Junio" "Julio" "Agosto" "Septiembre"

"Octubre" "Noviembre" "Diciembre"])

;; Suprimir espacios al final de la linea y lineas en blanco del final:

(add-hook 'before-save-hook 'delete-trailing-whitespace)

;; Lenguage y codificación:

(set-terminal-coding-system 'utf-8)

(set-keyboard-coding-system 'utf-8)

(prefer-coding-system 'utf-8)

(set-language-environment "Spanish")

;; Guardar la sessión al cerrar emacs y restaurarla al arrancar nuevamente:

;; Colocar a cero [0] para desactivar:

(desktop-save-mode 1)

;; Ocultar caracteres al pedir un password:

(add-hook 'comint-output-filter-functions 'comint-watch-for-password-prompt)

;; Colocar el tipo de sistema

(defun insert-system-type()

(interactive)

(insert (format "%s" system-type)))

;; Colocar el nombre del sistema

(defun insert-system-name()

(interactive)

(insert (format "%s" system-name)))
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[git]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/git/"/>
    <updated>2014-06-28T07:19:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/git</id>
    <content type="html"><![CDATA[<p>[git-core]. Manual completo en español: <a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/es/book.html#_hosting_git_gratuito">http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/es/book.html#_hosting_git_gratuito</a></p>

<p>Software de control de versiones. Una vez registrados en Github [<a href="http://github.com">http://github.com</a>], crear un nuevo repositorio con el nombre escogido y github nos facilitará los datos de acceso [Al estilo: https://github.com/templix/tractatus.git].</p>

<p>Crear el repositorio local de un proyecto alojado en github:</p>

<pre><code>$ mkdir tractatus (Crear el directorio local)

$ cd tractatus (Entrar en él)

$ git init (Inicializar git)

$ git config --global user.name "nombre_usuario" (Entrar datos del usuario)

$ git config --global user.mail mail@direccion.com   (Entrar mail)

$ mv /home/usuario/tractatus.txt . (Mover el archivo al repositorio)

$ git add tractatus.txt (Añadir el fichero a git)

$ git commit -a -m 'Inicio del proyecto' (Realizar el primer commit [comentario con los cambios en el proyecto])

$ git remote add origin https://github.com/templix/tractatus.git (Decirle a nuestra copia local el repositorio remoto donde se alojará)

$ git push origin master (Enviar los cambios al servidor remoto)
</code></pre>

<p>Otros comandos:</p>

<blockquote><p>$ git clone git@github.com:templix/tractatus.git (Clonar un repositorio por protocolo git)</p>

<p>$ git clone https://github.com/templix/tractatus.git (Clonar un repositorio por protocolo https)</p>

<p>$ git clone ssh://usuario@host.com/home/templix/repositorio repositorio (Clonar por ssh un directorio remoto en local)</p>

<p>$ git config -l (Comprobar los datos del usuario)</p>

<p>$ git config remote.origin.url (Ver cual es el repositorio remoto)</p>

<p>$ git log (Ver historial de commits)</p>

<p>$ git status (Comprobar si se han efectuado cambios)</p>

<p>$ git config &#8211;global credential.helper cache (guarda la contraseña en caché durante 15 min)</p>

<p>$ git config &#8211;global credential.helper &#8216;cache &#8211;timeout=3600&#8217; (guarda la contraseña durante una hora)</p>

<p>$ git rm archivo (Eliminar archivo)</p>

<p>$ git fetch origin (este comando junto con el siguiente elimina todos los cambios locales y pone la versión del servidor)</p>

<p>$ git reset &#8211;hard origin/master</p>

<p>$ git diff &#8211;color-words archivo1 archivo2  (Mostrar las diferencias en color)</p>

<p>$ git instaweb &#8211;httpd=webrick (Abre el proyecto con navegador en localhost:1234)</p>

<p>$ git instaweb &#8211;httpd=webrick &#8211;stop (Cierra la visualización del proyecto con el navegador)</p>

<p>$ git config &#8211;help (Mostrar ayuda de un comando)</p>

<p>$ git log &#8211;pretty=oneline (Mostrar listado de push a uno por linea)</p></blockquote>

<p>1.-</p>

<p>Indicar a git archivos o directorios que quedemos excluir del control de versiones.</p>

<blockquote><p>$ touch .gitignore (Crear el fichero en el directorio raiz del proyecto)</p></blockquote>

<p>Con el contenido que queremos excluir [Algunos ejemplos]:</p>

<pre><code>*~

tmp/*

*.so

*.zip

Thumbs.db
</code></pre>

<p>Si el archivo .gitignore lo colocamos en el directorio $HOME afectará a todos los proyectos de git. Para ello lanzar:</p>

<blockquote><p>$ git config &#8211;global core.excludesfile ~/.gitignore</p></blockquote>

<p>2.-</p>

<p>Descartar modificaciones.</p>

<p>Si una vez realizadas modificaciones en un archivo, antes de lanzar el commit, queremos verlas y descartarlas:</p>

<blockquote><p>$ git status</p>

<p>$ git diff</p>

<p>$ git checkout &#8211; archivo</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[aspell]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/aspell/"/>
    <updated>2014-06-27T21:39:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/aspell</id>
    <content type="html"><![CDATA[<p>[aspell-ca aspell-es]. Diccionarios para aplicaciones</p>

<blockquote><p># aspell-autobuildhash (Informar a aspell nuevas entradas de diccionarios)</p>

<p># aspell dicts (listar los diccionarios instalados)</p>

<p>$ aspell &#8211;lang=ca dump master > lista.txt  (crea una lista de palabras del idioma especificado)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[wget]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/wget/"/>
    <updated>2014-06-22T19:05:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/wget</id>
    <content type="html"><![CDATA[<p>Realizar descargas de una web. Soporta protocolo http, https y ftp.</p>

<blockquote><p>$ wget http://www.ubuntu.org/ubuntu.iso  (descarga básica)</p>

<p>$ wget http://www.tuxapuntes.com (descargar página incial del sitio web)</p>

<p>$ wget http://www.ubuntu.org/ubuntu.iso ftp://www.debian.org/debian5.iso (varias descargas)</p>

<p>$ wget -i archivo.txt  (Realizar las descargas enumeradas en archivo.txt)</p>

<p>$ wget &#8211;limit-rate=60k ftp://ftp.ubuntu.org/hardy.iso (limitar ancho banda)</p>

<p>$ wget -p http://www.tuxapuntes.com (todos los elementos extras)</p>

<p>$ wget -c http://direccion_de_la_descarga.com (reiniciar descarga interrumpida)</p>

<p>$ wget &#8211;spider  &#8211;no-parent -r -o log.txt http://web.com (lista enlaces rotos)</p>

<p>$ wget -m -p -k -P archivo http://www.tuxapuntes.com (descargar todo un sitio recursivamente [-m], todo tipo de recursos, css, imágenes y demás para que se vea localmente [-p] y convierte los enlaces a accesibles de forma local [-k])</p>

<p>$ wget &#8211;wait=20 &#8211;limit-rate=20K -r -p -U Mozilla http://url.com (lo mismo pero haciendo pausas entre páginas y simulando ser un navegador)</p>

<p>$ wget -O - -q http://checkip.dyndns.org/ | cut -d&#8217;:&#8217; -f2 | cut -d&#8217;&lt;&#8217; -f1| cut -c2- (Conocer la ip publica)</p>

<p>$ wget -O - -q http://whatismyip.org/ (Lo mismo)</p>

<p>$ wget –http-user=usuario –http-password=contraseña URL (Descargar con usuario y contraseña)</p>

<p>$ wget –ftp-user=usuario –ftp-password=contraseña URL (Lo mismo con protocolo ftp)</p></blockquote>

<p>1.-</p>

<p>Muestra para la descarga de una web completa:</p>

<blockquote><p>$ wget http://www.server.com/login.php &#8211;post-data &#8220;user=Usuario&amp;password=Contraseña&#8221; &#8211;save-cookies website.cookie &#8211;no-check-certificate -O - > /dev/null</p></blockquote>

<p>Los argumentos:</p>

<pre><code>post-data (Especificamos los parámetros a pasarle al script para que nos autentique, en este caso "user" y "password" pero esto varia según la web)

save-cookies (Indicamos donde guardar el archivo con la cookie, esta cookie será necesaria después para descargar la web con nuestra sesión iniciada)

no-check-certificate (No comprobar el certificado del servidor con las entidades emisoras de certificados)

-O - (No generar un archivo de salida ya que solo cogeremos la cookie)
</code></pre>

<p>Una vez obtenido el cookie:</p>

<blockquote><p>$ wget -rkcp  -e robots=off -U Mozilla &#8211;limit-rate=80K &#8211;random-wait &#8211;load-cookies website.cookie &#8211;domains server.com &#8211;html-extension http://www.server.com</p></blockquote>

<p>Los argumentos:</p>

<pre><code>-r (indica que descarge toda la web recursivamente)

-c (En caso de que queramos retomar la descarga después o si fallase, este parámetro le indica que retome la descarga por donde se interrumpió)

-e robots=off (Ignorar el archivo robots.txt, si existe en el servidor)

-U Mozilla (Especifica el User-Agent de Mozilla Firefox en las cabeceras HTTP, útil para ciertas webs que bloquean algunos User-Agents)

--random-wait (Espera un tiempo aleatorio entre una petición y otra para evitar un posible colapso en la web o ser detectados por algún sistema de seguridad)

--load-cookies (Carga la cookie de sesión previamente descargada)

--domains server.com (Indica que solo descarge el contenido de la web especificada y que no siga las urls externas encontradas)

--html-extension (Guarda todos los documentos en formato HTML)
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[wetboobs]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/wetboobs/"/>
    <updated>2014-06-15T10:28:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/wetboobs</id>
    <content type="html"><![CDATA[<p>[weboob (Ver)]. Previsión del tiempo. Precisa activar el módulo weather (Ver weboob).</p>

<blockquote><p>$ wetboobs (Entra en el prompt)</p></blockquote>

<p>wetboobs> cities girona (Muestra todas las opciones geograficas de &#8220;girona&#8221;)</p>

<p>wetboobs> current 1 (Muestra la previsión para el dia actual de la opción 1 del listado anterior)</p>

<p>wetboobs> forecast 3 (Muestra la previsión de varios dias de la opción 1)</p>

<p>wetboobs> quit (Salir del prompt)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[videoob]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/videoob/"/>
    <updated>2014-06-15T10:12:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/videoob</id>
    <content type="html"><![CDATA[<p>[webood (ver)]. Visualización y descarga de videos. Para activar nuevos módulos (youtube, vimeo&#8230;) ver weboob.</p>

<blockquote><p>$ videoob (Entrar en el prompt)</p></blockquote>

<p>videoob> search porn (Buscar videos ralacionados con &#8220;porn&#8221;)</p>

<p>videoob> info 3 (Información sobre el marcado con el número 3 en el listado anterior)</p>

<p>videoob> play 3 (Reproduce el número 3)</p>

<p>videoob> download 3 (Descarga el número 3 en el directorio actual)</p>

<p>videoob> quit (Salir del prompt)</p>

<p>videoob> download 3 video.mp4 (Descarga el número 3 en el directorio actual renombrandolo video.mp4)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[geolooc]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/geolooc/"/>
    <updated>2014-06-15T10:12:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/geolooc</id>
    <content type="html"><![CDATA[<p>[weboob (Ver)]. Geolocalizar direcciones ip. Precisa módulo ipinfodb activado (ver weboob)</p>

<blockquote><p>$ geolooc 8.8.8.8</p></blockquote>

<pre><code>id: 8.8.8.8@ipinfodb

city: MOUNTAIN VIEW

region: CALIFORNIA

zipcode: NA

country: US 

lt: 37.405992

lg: -122.078515

host: google-public-dns-a.google.com

tld: com
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[weboorrents]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/weboorrents/"/>
    <updated>2014-06-15T08:16:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/weboorrents</id>
    <content type="html"><![CDATA[<p>[webood (Ver)]. Descarga de torrents.</p>

<blockquote><p>$ weboorrents (Entrar en el prompt)</p></blockquote>

<p>weboorrents> search kali (Mostrar salida para &#8220;kali&#8221;)</p>

<p>weboorrents> info 7 (Informaciónj sobre la salida &#8220;7&#8221; dels listado anterior)</p>

<p>weboorrents> getfile 7 (descargar el torrent o magnet &#8220;7&#8221;)</p>

<p>weboorrents> quit (Salir del prompt)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[webood]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/webood/"/>
    <updated>2014-06-15T08:16:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/webood</id>
    <content type="html"><![CDATA[<p>[mplayer python-weboob-core] Colección de aplicaciones capaces de interactuar con los sitios web sin necesidad de que el usuario abra un navegador. Varias de las aplicaciones que lo integran son especificas para usuarios franceses. En el tractatus se han desarrolado sólo (Ver): geolooc (geolocalizar direcciones IP), videoob (búsqueda de vídeo), weboorrents (búsqueda de torrents) y wetboobs (pronóstico del tiempo). La instalación a partir de los repositorios (Debian) producía ciertos errores en la salida de algunos comandos. La solución pasa por descargar el zip de github:</p>

<pre><code>$ wget https://github.com/frankrousseau/weboob/archive/master.zip

$ unzip master.zip

$ cd weboob-master

# python setup.py install
</code></pre>

<blockquote><p>$ weboob-config update (Actualizar)</p>

<p>$ weboob-config disable geolocip (Desactivar un módulo. Este concretamente da errores. &#8220;enable&#8221; para activarlo)</p>

<p>$ weboob-config list (Listar los módulos)</p>

<p>$ weboob-config add youporn (Añadir un módulo)</p>

<p>$ weboob-config info btmon (Información sobre un módulo)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[pyradio]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/pyradio/"/>
    <updated>2014-06-08T19:26:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/pyradio</id>
    <content type="html"><![CDATA[<p>[mplayer python-pip] Emisoras de radio por consola.Descarga, descomprimir e instalar:</p>

<pre><code>$ wget https://github.com/coderholic/pyradio/archive/master.zip

$ unzip master.zip

$ cd pyradio-master

# pip install pyradio
</code></pre>

<blockquote><p>$ pyradio -l (Ver listado de emisoras)</p></blockquote>

<p>Añadir una emisora:</p>

<pre><code># pyradio -a

Enter the name: "Música Classica Uruguay"

Enter the url: "http://radio.sodreuruguay.com:9090/listen.pls"
</code></pre>

<blockquote><p>$ pyradio (Arrancar la aplicación)</p></blockquote>
]]></content>
  </entry>
  
</feed>
