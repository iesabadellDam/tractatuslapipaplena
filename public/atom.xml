<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[TRACTATUS ELEMENTALIS]]></title>
  <link href="https://tractatuslapipaplena.herokuapp.com/atom.xml" rel="self"/>
  <link href="https://tractatuslapipaplena.herokuapp.com/"/>
  <updated>2014-08-09T21:57:09+02:00</updated>
  <id>https://tractatuslapipaplena.herokuapp.com/</id>
  <author>
    <name><![CDATA[templix]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[emacs]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/emacs/"/>
    <updated>2014-08-09T21:57:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/emacs</id>
    <content type="html"><![CDATA[<p>Tutorial completo en español: <a href="http://www.nongnu.org/emacs-man-es/">http://www.nongnu.org/emacs-man-es/</a> . Mucho más que un editor [no un procesador]. Lo que sigue es un pequeño manual de primeros auxilios.</p>

<p>Cuando Emacs abre un archivo lo abre en un buffer. Cuando leemos un fichero, lo que hacemos es copiar su contenido a una zona de memoria [a un buffer] y durante la edición lo que modificamos es esa zona de memoria, el fichero como tal permanece inalterado hasta que explícitamente demos la orden de grabar en el disco las modificaciones. Cuando emacs se inicia se abren dos búffers que no están asociados a ningún fichero: <em>scratch</em> y <em>messages</em> [En ambos el nombre empieza y acaba por un asterisco, lo que indica que no es un búffer asociado a un fichero]</p>

<blockquote><p>$ emacs -q (Arrancar emacs prescindiendo del archivo de configuracion)</p>

<p>$ emacs &#8211;daemon (Iniciar emacs como demonio y a continuacion con emacsclient conectar con el servidor)</p>

<p>$ emacsclient -c (Conectar con el servidor)</p></blockquote>

<p>Significado de algunas teclas en la terminologia de emacs:</p>

<pre><code>Alt = M (meta)

Crtl= C (control)

spc (Barra espacio)

RET (intro)

RETRO (retroceso)
</code></pre>

<blockquote><p>$ emacs -nw (Lanzar emacs en consola. Para crear un alias: alias emacs=&#8217;emacs -nw&#8217;)</p>

<p>$ emacs -nw &#8211;debug-ini (Modo debuger para comprobar errores de sintaxis en ~/.emacs)</p>

<p>$ emacs -p (Arrancar emacs prescindiendo del archivo de configuración cuando este tiene errores)</p>

<p>$ emacs -u usuario (Arrancar emacs con la configuración de otro usuario)</p></blockquote>

<p>Teclas de socorro:</p>

<pre><code>C-g (Cancelar algo: un comando, una combinación de teclas...)

C-x u (Deshacer)
</code></pre>

<p>Movimiento por el texto:</p>

<pre><code>C-a (ir al comienzo de una línea)

C-e (ir al final de una línea)

C-f (un caracter hacia adelante)

C-b (un caracter hacia atrás)

M-f (una palabra hacia adelante)

M-b (una palabra hacia atrás)

C-n (ir ala siguiente línea)

C-p (ir a la línea anterior)

M-a (Ir al inicio de la frase)

M-e (Ir al final de la frase)

C-v (Pagina siguiente)

M 8 C-v (baja 8 lineas la pantalla, NO 8 PÁGINAS)

M-v (Pagina anterior)

M 8 M-v (Sube 8 lineas la pantalla, NO 8 PÁGINAS)

M-&lt; (Ir al principio del texto)

M-&gt; (Ir al final del texto)

M-g g (Ir a la linea)

C-l (Redibuja la pantalla. La primera vez que se pulsa, coloca la linea del cursor en el centro, la segunda arriba y la tercera abajo)
</code></pre>

<p>Salir:</p>

<pre><code>C-x C-c (Salir de Emacs)

C-x C-s (Guardar sin salir)

C-x C-w (Salir y guardar como)

C-x s (Guardar todos los ficheros abiertos. Preguntará.)
</code></pre>

<p>Copiar, cortar, pegar y reemplazar</p>

<pre><code>C-Esp (Inicio del marcado de texto)

C-x h (Marcar todo el buffer, "Seleccionar todo")

M-w (Copiar)

C-w (Cortar)

C-y (Pegar)

C-x C-t (Copiar linea)

M-h (Selecciona un párrafo)

C-% (Primero entrar la palabra a cambiar i despues la que sustituye)
</code></pre>

<p>Buscar:</p>

<pre><code>C-s (busca hacia adelante)

C-r (busca hacia atras)

C-s C-s (repite la busqueda)
</code></pre>

<p>Borrar:</p>

<pre><code>M-d (Palabra despues del cursor)

M 3 M-d (Borra 3 palabras)

C-k (del cursor a fin de linea)

M 3 C-k (Borra 3 lineas)

M-k (todo el párrafo)

M 3 M-k (Borra 3 párrafos)
</code></pre>

<p>Ventanas:</p>

<pre><code>C-x 2 (división horizontal de la ventana en dos)

C-x 3 (división vertical de la ventana en dos)

C-x 1 (Deja solo la ventana activa abierta)

C-x o (cambiar de ventana)

C-x 0 (Eliminar ventana actual)

C-x } (alarga la ventana activa en dirección horizontal)

C-x { (La acorta en dirección horizontal)

C-x ^ (La alarga en dirección vertical)
</code></pre>

<p>Buffers:</p>

<pre><code>C-x k (cierra la buffer actual. Pide confirmación)

C-x b (Cambiar de buffer)

C-x C-b (Listar buffers en un panel)

C-x flechas derecha/izquierda (cambiar al siguiente/anterior)
</code></pre>

<p>Marcas:</p>

<pre><code>C-x r m (Solicita nombre para la linea marcada)

C-x r b a (Ir a la linea marcada con el nombre que entremos, en este caso la "a". Si se encuentra la marca en un archivo no abierto, se abrirá)

C-x r l (Lista todas las marcas)

C-x bookmark-delete (Eliminar una marca que entremos)

C-spc C-spc (marca el punto del cursor en el texto)

C-u C-spc (Va a la marca realizada con C-spc C-spc)

C-x C-spc (Va a la penultima marca realizada con C-spc C-spc)
</code></pre>

<p>Imprimir:</p>

<pre><code>C-u M-x ps-print-buffer-with-faces (Imprimir a ps. Luego con ps2pdf pasar a pdf)

M-x  print-buffer (Imprimir archivo con numeración y cabeceras)

M-x  lpr-buffer (Imprimir sin numeración ni cabeceras)

M-x  print-region (Imprimir trozo seleccionado con numeración y cabeceras)

M-x  lpr-region  (Imprimir trozo seleccionado sin numeración ni cabeceras)
</code></pre>

<p>Varios:</p>

<pre><code>C-x C-f (brir un archivo)

C-o (Inserta linea en blanco a continuación del cursor)

M-x tetris (Listado de juegos en /usr/share/emacs/24.3/lisp/play/. Lanzar sin la extensión)

M-x help-with-tutorial-spec-language (abre buffer con los idiomas disponibles para el manual)

C-x d (Abre un directorio que se especifique)

C-x RET f (Entrar codificación de caracteres: iso-8859-1, utf-8..)

C-x custom (Personalizar numerosos aspectos de emacs)

C-x C-+ (Agrandar la fuente)

C-x C-- (Disminuir la fuente)

C-x z z z (Repite el último comando tantas veces como "zetas" pongamos. En este caso 3 veces )

&amp; (Teniendo el cursor sobre un archivo en dired, permitirá entrar una aplicación para abrirla)

C-o (Inserta lineas en blanco)

C-x C-o (Sólo deja una linea en blanco)

C-x C-+ (Aumentar el tamaño de la letra)

C-x C-- (Disminuir el tamaño de la letra)
</code></pre>

<p>Entrar comandos de shell e insertar:</p>

<pre><code>C-z (Suspende la sesion emacs y entra en la shell. Volver a emacs con fg o con %emacs)

M-! (Muestra en el mini buffer un mensaje para entrar un comando y lo abre un una ventana)

C-u M-! (Inserta la salida del comando en la posición del cursor)

M-x shell (Salir a la shell. C-x k para volver a edición)

C-x i (Insertar archivo en la posición del cursor)

C-c C-l (Mostrar historial de comandos)

C-u M-x eshell (Lanzar otra eshell cuando ya existe una)
</code></pre>

<p>ayuda:</p>

<pre><code>F10 (Abre la ayuda general)

C-h k (Muestra información sobre un atajo)

C-h a (Todas las opciones de un comando)

C-h b (Ver todos los atajos)

C-h w (Muestra el atajo de la función que entremos)

C-h f (Información sobre una función)

C-h C RET (Muestra las codificaciones)
</code></pre>

<p>Modo comando:</p>

<pre><code>M-x recover file (levantar respaldo del archivo)

M-x apropos INTRO print (Muestra información de "print")

M-x list-faces-display (Ver lista y muestra de los estilos disponibles)

M-x set-foreground-color (Pedirá color en inglés para las fuentes.

M-x set-background-color (Pedirá color para el fondo)

M-x w3m-browser-url (Pedirá url para conectar. Precisa w3m-el)

M-x browse-url-firefox (Abrir una url con firefox)

M-x global-linum-mode (Mostras/esconder números de linea)

M-x global-visual-line-mode (Cortar/no cortar palabras al final de la pantalla)

M-x global-hl-line-mode (Resaltar la linea donde está el cursor)

M-x calendar (Mostrar mes actual, el anterior y el posterior)

M-x command-history  (History de comandos entrados)

M-x calculator (Calculadora muy elemental)

M-x man (mostrar man de un comando)

M-x global-whitespace-mode (Mostrar/ocultar caracteres no imprimibles)
</code></pre>

<p>Para hacer permanente cualquiera de las opciones anteriores, colocarla en ~/.emacs de la siguiente forma:</p>

<pre><code>(global-set-key (kbd "&lt;f7&gt;") 'global-linum-mode)
</code></pre>

<p>Para mostrar u ocultar los numeros de linea pulsando F7</p>

<p>1.-</p>

<p>Abrir navegador de archivos. Precisa tenerlo instalado</p>

<p>Instalar nav:</p>

<p>Descarga de <a href="http://code.google.com/p/emacs-nav/">http://code.google.com/p/emacs-nav/</a>. Una vez descomprimido copiar el directorio en ~/.emacs.d/ y renombrar como nav</p>

<blockquote><p>$ emacs .emacs</p></blockquote>

<p>Completar configuración y que se abra pulsado F8, añadir las siguientes lineas:</p>

<pre><code>(add-to-list 'load-path "/home/USER/.emacs.d/nav/")

(require 'nav)

(nav-disable-overeager-window-splitting)

(global-set-key [f8] 'nav-toggle)
</code></pre>

<p>Abrir con M-x nav</p>

<p>2.-</p>

<p>Añadir una &#8220;lista negra&#8221; de bufferes a los que no interesar acceder (scratch, messages&#8230;).</p>

<p>Añadir a .emacs las siguientes lineas:</p>

<pre><code>(require 'iswitchb)

(iswitchb-mode)

(add-to-list 'iswitchb-buffer-ignore "^ ")

(add-to-list 'iswitchb-buffer-ignore "*Messages*")

(add-to-list 'iswitchb-buffer-ignore "*ECB")

(add-to-list 'iswitchb-buffer-ignore "*Buffer")

(add-to-list 'iswitchb-buffer-ignore "*Completions")

(add-to-list 'iswitchb-buffer-ignore "*scratch*")

(add-to-list 'iswitchb-buffer-ignore "*ftp ")

(add-to-list 'iswitchb-buffer-ignore "*bsh")

(add-to-list 'iswitchb-buffer-ignore "*jde-log")

(add-to-list 'iswitchb-buffer-ignore "^[tT][aA][gG][sS]$")
</code></pre>

<p>Al pulsar C-x b (Listar buffers abiertos) El buffer que aparece en primer lugar, resaltado en otro color, es el que se mostrará al pulsar Enter. Si queremos cambiar a otro buffer pulsar C-s para rotar el orden de los elementos de la lista.</p>

<p>3.-</p>

<p>Escuchar música con emms.</p>

<p>Instalar emms en el sistema mediante repositorio y descargar <a href="http://www.gnu.org/software/emms/">http://www.gnu.org/software/emms/</a> , descomprimir y mover el directorio a ~/.emacs.d/l. En .emacs colocar las lineas:</p>

<pre><code>(add-to-list 'load-path "~/emms/")

(require 'emms-setup)

(emms-standard)

(emms-default-players)
</code></pre>

<p>Llamar com M-x emms (Pulsando TAB apareceran las opciones)</p>

<p>4.-</p>

<p>Corrector ortográfico. apt-get install aspell-es dictionary-el</p>

<pre><code>M-x ispell-buffer (Muestra las alternativas a la palabra mal escrita)

M-x dictionary (Una vez escogido el deseado, buscar traducción, significado...)

M-x flyspell-mode (Lanzado al inicio del texto, mostrará los errores al escribirlos)
</code></pre>

<p>5.-</p>

<p>Recargar archivo de configuración .emacs despues de una modificación:</p>

<pre><code>M-x load-file (Cuando solicite el nombre del archivo colocar .emacs)

M-x eval-buffer (Si el archivo .emacs se encuentra en un buffer)
</code></pre>

<p>6.-</p>

<p>Conectar a un servidor ssh:</p>

<p>Descargar tramp de <a href="http://ftp.gnu.org/gnu/tramp/">http://ftp.gnu.org/gnu/tramp/</a> descomprimir y mover la carpeta al directorio ~/emac.d/ . En el archivo de configuración .emacs añadir las lineas:</p>

<pre><code>(require 'tramp)

(setq tramp-default-method "ssh")
</code></pre>

<p>Y si queremos activar variables para debuggear problemas añadir:</p>

<pre><code>(setq tramp-debug-buffer t)

(setq tramp-verbose 10)
</code></pre>

<p>Abrir sesión de emacs y acceder al host remoto empleando alguno de los siguientes metodos según nuestro /etc/hosts:</p>

<pre><code>C-x C-f /ssh:USER@host_remoto:/home/USER/

C-x C-f /USER@host_remoto:/home/USER

C-x C-f /host_remoto:/home/USER
</code></pre>

<p>Y si el puerto es distinto del 22, añadiendo a las opciones anteriores #puerto al estilo:</p>

<pre><code>C-x C-f /ssh:USER@host-remoto#2222:/home/USER
</code></pre>

<p>Pedirá contraseña.</p>

<p>Nota.- Después de pulsar el atajo, no olvidar borrar la referencia al directorio local ~/ dejándolo en /</p>

<p>7.-</p>

<p>Temas de colores:</p>

<p>Descargar el paquete tar.gz de:  <a href="http://download.gna.org/color-theme/">http://download.gna.org/color-theme/</a></p>

<p>Una vez decomprimido mover la carpeta a ~/.emacs.d:</p>

<pre><code>~/.emacs.d/color-theme
</code></pre>

<p>Y añadir a .emacs las lineas:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)
</code></pre>

<p>Arrancar emacs y:</p>

<pre><code>M-x color-theme-select
</code></pre>

<p>Mostrará en un nuevo buffer una lista de temas disponibles que podrán probarse seleccionandolos con &#8220;intro&#8221; o la tecla &#8220;i&#8221;. Una vez escogido el tema, pulsando la letra d, muestra la linea que ha de entrarse en .emacs. Supongamos que escogemos Charcoal Black, añadiremos la linea (color-theme-charcoal-black) quedando toda la entrada:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/color-theme/"))

(require 'color-theme)

(color-theme-initialize)

(color-theme-charcoal-black)
</code></pre>

<p>8.-</p>

<p>Consultando directorios: dired, navegador de archivos de emacs [C-x d].</p>

<pre><code>g (Despues de una modificación actualiza la pantalla)

v (Muestra el archivo en modo solo-lectura

q (Regresa al listado)

e [enter] (Editar el archivo)

d (Marca un archivo para su eliminación colocando una "D" en la 1ª columna)

u (Elimina la marca anterior)

x (Elimina los archivos marcados con una "D")

D (Eliminación inmediata)

C (Copiar)

3C (Copiar el archivo de la linea del cursor y los 3 siguientes)

R (Renombrar o mover)

Z (Comprimir descomprimir [compress (.z .Z) y gzip (.gz)])

X (Entrar comandos de shell [chmod, grep, find, sort ...])

+ (Crear directorio)

** (Marcar todos los ejecutables)

*/ (Marca todos los directorios)

*! (Desmarca todo)

M (Cambiar los permisos. Sólo poner la numeración [777, 755...])

O (Cambiar el propietario)

P (Imprimir el fichero. El comando lp imprimirá con la impresora predeterminada)

h (Muestra la ayuda y todos los atajos de teclado)

S (Crear un enlace simbólico)
</code></pre>

<p>9.-</p>

<p>M-x term [Emulador de terminal]</p>

<p>Utiliza dos modos de entrada: El modo caracter que envia cada caracter de entrada directamente a la subshell, a excepción del carácter de escape [C-c] y el modo línea que actúa como modo Shell [Permite entrada de todas las combinaciones de teclas emacs, desplaza el cursor por la pantalla con las flechas, puede marcarse trozos de texto para copiar&#8230;]. Para alternar entre estos dos modos:</p>

<pre><code>C-c C-j (Cambia a modo línea)

C-c C-k (Cambia a modo caracter)
</code></pre>

<p>10.-</p>

<p>Uso de sudo. Los mismos ejemplos sirven para su. Precisa tramp [ver ssh]. Entrar el siguiente código en .emacs autoexplicativo:</p>

<pre><code>;; Uso de sudo: C-x C-f /sudo::/etc/hosts

;; C-x C-f /sudo:root@localhost:/etc/hosts  o C-x sudo-find-file

(defun sudo-find-file (file-name)

  "Like find file, but opens the file as root."

  (interactive "FSudo Find File: ")

  (let ((tramp-file-name (concat "/sudo::" (expand-file-name file-name))))

  (find-file tramp-file-name)))

;; Atajo de teclado para sudo:

(global-set-key (kbd "C-x F") 'sudo-find-file)
</code></pre>

<p>11.-</p>

<p>Abrir archivos de dired con aplicaciones externas pulsando F8:</p>

<p>Copiar en .emacs el siguiente código:</p>

<pre><code>(defun external-app ()

 "In dired, open the file named on this line."

  (interactive)

  (let* ((file (dired-get-filename nil t)))

    (call-process "xdg-open" nil 0 nil file)

(global-set-key (kbd "&lt;f8&gt;") 'external-app)
</code></pre>

<p>12.-</p>

<p>Abrir archivos de dired con determinadas aplicaciones externas:</p>

<p>Descargar la libreria de <a href="http://stud4.tuwien.ac.at/~e0225855/misc/openwith.el">http://stud4.tuwien.ac.at/~e0225855/misc/openwith.el</a> y moverlo a la carpeta ~/.emacs.d/</p>

<p>Y copiar el siguiente codigó en ~/.emacs:</p>

<pre><code>(add-to-list 'load-path "~/.emacs.d/openwith.el")

(require 'openwith)

(setq openwith-associations '(("\\.pdf\\'" "evince" (file))))

(setq openwith-associations '(("\\.flv\\'" "vlc" (file))))

(openwith-mode t)
</code></pre>

<p>Colocar tantas lineas del tipo &#8220;(setq openwith-associations &#8216;((&#8220;&#46;flv&#39;&#8221; &#8220;vlc&#8221; (file))))&#8221; como archivos queramos asociar.</p>

<p>13.-</p>

<p>Algunos ajustes en el prompt de eshell que pueden incorporarse al archivo .emacs:</p>

<p>Modificar el prompt para mostrar el directorio de trabajol. Para mostrar el usuario: (concat (getenv &#8220;USER&#8221;)</p>

<pre><code>(setq eshell-prompt-function

(lambda nil

(concat (eshell/pwd)

(if (= (user-uid) 0) " # " " $ "))))
</code></pre>

<p>Usar bash en lugar de la shell de emacs:</p>

<pre><code>(setq shell-file-name "/bin/bash")
</code></pre>

<p>Modificar el mensaje de bienvenida al entrar en eshell:</p>

<pre><code>(setq eshell-banner-message "\n... entrant a  emacs shell...\n\n")
</code></pre>

<p>Nota.- Si ya tenemos una terminal [eshell o term] abierta no permite abrir ninguna más a menos de que le cambiemos el nombre:</p>

<pre><code>M-x rename-buffer
</code></pre>

<p>14.-</p>

<p>Para poder copipastear de emacs a las X y viceversa colocar en .emacs el código:</p>

<pre><code>;; http://hugoheden.wordpress.com/2009/03/08/copypaste-with-emacs-in-terminal/

(setq x-select-enable-clipboard t)

(unless window-system

(when (getenv "DISPLAY")

(defun xsel-cut-function (text &amp;optional push)

(with-temp-buffer

(insert text)

(call-process-region (point-min) (point-max) "xsel" nil 0 nil "--clipboard" "--input")))

(defun xsel-paste-function()

(let ((xsel-output (shell-command-to-string "xsel --clipboard --output")))

(unless (string= (car kill-ring) xsel-output)

    xsel-output )))

(setq interprogram-cut-function 'xsel-cut-function)

(setq interprogram-paste-function 'xsel-paste-function)))
</code></pre>

<p>15.-</p>

<p>Operar con trozos seleccionados [C-espacio]</p>

<pre><code>C-x r s (Guardarla en un registro)

C-x TAB (Sangrar toda la selección)
</code></pre>

<p>16.-</p>

<p>Disponer de un bloc de notas (M-x remember) en emacs que se lance con C-c &amp;</p>

<blockquote><p>$ cd ~/.emacs.d</p>

<p>$ git clone git://repo.or.cz/remember-el.git remember</p></blockquote>

<p>Colocar en la configuración:</p>

<blockquote><p>$ nano .emacs</p></blockquote>

<p>Añadir las lineas:</p>

<pre><code>(add-to-list 'load-path "~/.emacs.d/remember")

(require 'remember)

(global-set-key (kbd "C-x &amp;") 'remember)
</code></pre>

<p>Una vez entrado el texto pulsar C-c C-c para poner la fecha. Se guardan todas las notas en el fichero ~/.notes</p>

<p>17.-</p>

<p>Reemplazar texto:</p>

<p>M-x query-replace (Busca y pregunta antes de substituir)</p>

<p>Algunas opciones del comando:</p>

<pre><code>y (Reemplazar la coincidencia actual)

n (No reemplazar la coincidencia actual)

q (Reemplazar la coincidencia actual y salir)

C-r (Ir al editor recursivo)

! (Reemplazar todo)

^ (Ir al anterior reemplazo)

E (Editar la norma de reemplazo
</code></pre>

<p>M-x replace-string (Busca y reemplazar sin preguntar)</p>

<p>18.-</p>

<p>Instalar extensiones de emacs a partir de repositorios. Descargar el archivo package.el:</p>

<pre><code>&lt;http://repo.or.cz/w/emacs.git/blob_plain/1a0a666f941c99882093d7bd08ced15033bc3f0c:/lisp/emacs-lisp/package.el&gt;
</code></pre>

<p>Y copiarlo en .emacs.d/</p>

<p>Colocar en .emacs las lineas:</p>

<pre><code>(add-to-list 'load-path (expand-file-name "~/.emacs.d/package.el"))

(require 'package)

(package-initialize)

(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")

                         ("marmalade" . "http://marmalade-repo.org/packages/")

                         ("melpa" . "http://melpa.milkbox.net/packages/")))
</code></pre>

<p>Teclas de control:</p>

<pre><code>M-x describe-mode (Listado de teclas de control)

M-x package-list-package (Recargar la lista de paquetes)

M-x package-menu-mode (Entrar en modo package)
</code></pre>

<p>Una vez entrado en el modo package:</p>

<pre><code>enter (muest4ra ukna descripción del paquete)

i (Marcar para instalar)

u (Desmarcar)

d (Marcar para eliminar)

x (Instalar o desinstalar un paquete)

r (Resfrescar el listado)
</code></pre>

<p>19.-</p>

<p>Otros ajustes que pueden incorporarse a .emacs precedidas con la explicación comentada:</p>

<pre><code>;;Mostrar consola al pulsar F5:

(global-set-key (kbd "&lt;f5&gt;") 'eshell)

;;Especificar número de espacios en las tabulaciones.

(setd-default  tab-width  4)

;;Mostrar reloj y con formato 24 horas

(setq display-time-24hr-format t)

(display-time)

;;Descomprimir archivos.

(auto-compression-mode t)

;;Reemplazar "yes" y "no" por "y" y "n" en el prompt.

(fset 'yes-or-no-p 'y-or-n-p)

;;Sin copias de seguridad.

(setq make-backup-files nil)

;; Embellecer el calendario:

(setq view-diary-entries-initially t

mark-diary-entries-in-calendar t

number-of-diary-entries 7)

(add-hook 'diary-display-hook 'fancy-diary-display)

(add-hook 'today-visible-calendar-hook 'calendar-mark-today)

;; Poner en español el calendario:

(setq calendar-week-start-day 1

calendar-day-name-array

["Domingo" "Lunes" "Martes"

"Miercoles" "Jueves" "Viernes" "Sábado"]

calendar-month-name-array

["Enero" "Febrero" "Marzo" "Abril"

"Mayo" "Junio" "Julio" "Agosto" "Septiembre"

"Octubre" "Noviembre" "Diciembre"])

;; Suprimir espacios al final de la linea y lineas en blanco del final:

(add-hook 'before-save-hook 'delete-trailing-whitespace)

;; Guardar la sessión al cerrar emacs y restaurarla al arrancar nuevamente:

;; Colocar a cero [0] para desactivar:

(desktop-save-mode 1)

;; Ocultar caracteres al pedir un password:

(add-hook 'comint-output-filter-functions 'comint-watch-for-password-prompt)

;; Colocar el tipo de sistema

(defun insert-system-type()

(interactive)

(insert (format "%s" system-type)))

;; Colocar el nombre del sistema

(defun insert-system-name()

(interactive)

(insert (format "%s" system-name)))
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[terminator]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/terminator/"/>
    <updated>2014-08-09T07:04:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/terminator</id>
    <content type="html"><![CDATA[<p>Terminal que puede dividirse horizontalmente y verticalmente.</p>

<blockquote><p>$ terminal -T linux –geometry 1150x250 (Especificando un titulo y medidas)</p></blockquote>

<p>Algunos atajos:</p>

<pre><code>Ctrl + Mayus + o (División horizontal)

Ctrl + Mayus + e (División vertical)

Ctrl + Mayus + w (Cerrar ventana)

Ctrl + Mayus + cursores (Redimensionar ventana)

Alt + cursores (Moverse por las ventanas)

Ctrl + Mayus + t (Abrir nueva pestaña)

Ctrl + RePag / AvPag (Moverse entre pestañas)

Ctrl + Mayus + q (Cerrar terminator)
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[curl]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/curl/"/>
    <updated>2014-08-02T02:12:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/curl</id>
    <content type="html"><![CDATA[<p>Herramienta para la transferencia de datos desde o hacia un servidor. Permite los protocolos ftp, https, sftp, scp, tftp &#8230;</p>

<blockquote><p>$ curl ftp://host (Sin ninguna opción obtiene la páquina principal del host [http, ftp&#8230;)</p>

<p>$ curl ftp://host/ http://host/ (Descargar dos host simultaneos)</p>

<p>$ curl -o destino http://host (Guarda el host en destino)</p>

<p>$ curl -i URL (información sobre una URL)</p>

<p>$ curl -o portada.png http://www.lapipaplena.net/wp-content/uploads/2012/08/meditate1.png (descargar una imagen y guardarla)</p>

<p>$ curl -u usuario:contraseña http://localhost/restringido/ (Acceder a una zona que requiera autentificación)</p>

<p>$ curl ftp://usuario:contraseña@host:puerto/home/usuario/archivo (Otra forma de autentificación)</p>

<p>$ curl -T archivo_local ftp://host/carpeta (Subir un archivo local a un host remoto)</p>

<p>$ curl -T archivo_local -a ftp://host/ (Subir un archivo local a un host remoto con el parámetro -a)</p>

<p>$ curl -x proxy:8889 ftp://host (Obtener un host utilizando un proxy)</p>

<p>$ curl -u usuario:contraseña -x proxy:8888 http://host (Usando proxy y con autentificación)</p>

<p>$ curl -U usuario:contraseña -x proxy:8888 http://host (Cuando el proxy requiere autentificación especial)</p>

<p>$ curl -r 0-99 http://host (Obtener los primeros 100 bytes del documento)</p>

<p>$ curl -r -500 http://host (Obtener los últimos 500 bytes del documento)</p>

<p>$ curl &#8211;proxytunnel -x proxy:8888 -T archivo_local ftp ftp://host (Usando un tunel)</p>

<p>$ curl -v ftp://host (Ver información que se envia y recibe pero no los datos reales)</p>

<p>$ curl &#8211;trace trace.txt host (Obtener más información y guardar en trace.txt)</p>

<p>$ curl &#8211;dump-header headers.txt host (Guardar las cabeceras [cookies] en headers.txt)</p>

<p>$ curl -b headers.txt www.example.com (Pasar las cabeceras obtenidas a un host)</p>

<p>$ curl -e www.bueno.com http://host/ (Intentar engañar un site con una dirección falsa)</p>

<p>$ curl -A &#8216;Mozilla/3.0 (Win95; I)&#8217; http://host (Intentar engañar un site especificando otro navegador)</p>

<p>$ curl &#8211;limit-rate 10K host (Limitar la velocidad de transferencia a 10 kilobytes)</p>

<p>$ curl -P 192.168.0.10 ftp host (Acceder a un host a partir de una ip a la que si tenemos acceso)</p>

<p>$ curl -C - -o descarga hots (Proseguir una descarga interrumpida)</p>

<p>$ curl -z local.html hots/remote.html (Sólo se efectuará la descarga si remote.html es más reciente que local.html)</p></blockquote>

<p>Otras opciones:</p>

<pre><code>$ curl -Is google.com | grep Date (Conocer la fecha via web)

$ curl ipinfo.io/183.61.164.202 (Conocer datos de una ip)

$ curl ip.appspot.com (Conocer la IP externa)

$ curl icanhazip.com (lo mismo)

$ curl ifconfig.me (lo mismo)

$ curl whatismyip.org (Otra)

$ curl -u usuario:clave --silent "https://mail.google.com/mail/feed/atom" | perl -ne 'print "\t" if /&lt;name&gt;/; print "$2\n" if /&lt;(title|name)&gt;(.*)&lt;\/\1&gt;/;' (visualizar todos los mensajes no leidos de gmail)

$ curl -s 'http://geoiplookup.wikimedia.org/' | sed 's/^.*=\s*//' | python3 -mjson.tool (muestra la situación geográfica)

$ curl -s http://geoiplookup.wikimedia.org/ | python3 -c 'import sys, json, string, webbrowser; webbrowser.open(string.Template("http://maps.google.com/maps?q=$lat,$lon").substitute(json.loads(sys.stdin.read().split("=")[-1])))' (Lo mismo pero abriendo una pestaña en el navegador)

$ curl -s http://www.census.gov/popclock/data/population/world | awk -F'[:,]' '{print $7}' (Muestra el número de habitantes de la tierra)

$ curl -s https://help.github.com/articles/generating-ssh-keys | grep -Po  --color=never "RSA key fingerprint is (:?[A-z0-9]\:?){32}" (Imprime la clave RSA de github.com)
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[cheat]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/cheat/"/>
    <updated>2014-08-02T02:06:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/cheat</id>
    <content type="html"><![CDATA[<p>[python-pip git] Muestra chuletas de algunos comandos. Permite construir nuestras propias chuletas colocandolas en el directorio que muestra la opcion -d. Descarga e instalacion:</p>

<pre><code># Pip install docopt pygments

$ git clone https://github.com/chrisallenlane/cheat.git

$ cd cheat

# python setup.py install

$ wget https://github.com/chrisallenlane/cheat/raw/master/cheat/autocompletion/cheat.bash

# cp cheat.bash /etc/bash_completion.d/
</code></pre>

<blockquote><p>$ cheat -l (Listado de los comandos)</p>

<p>$ cheat ifconfig (Muestra la chuleta de ifconfig)</p>

<p>$ cheat -d (Muestra el directorio de las chuletas)</p>

<p>$ cheat -e ifconfig (Pregunta si queremos crear una copia de la chuleta ifconfig en nuestro $HOME para modificarla. Tendra prioridad sobre la del sistema)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[slim]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/slim/"/>
    <updated>2014-07-27T05:49:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/slim</id>
    <content type="html"><![CDATA[<p>Gestor de sesiones ligero. La configuración en el archivo /etc/slim.conf</p>

<blockquote><p>$ slim -p /usr/share/slim/themes/tema_a_probar</p></blockquote>

<p>Una vez escogido el tema lo colocamos en /etc/slim.conf substituyéndolo por el &#8220;default&#8221;:</p>

<pre><code>current_theme          default
</code></pre>

<p>1.-</p>

<p>Si al usar systemd el sistema no para ni reinicia, modificar las lineas existentes por las siguientes:</p>

<p>halt_cmd /usr/bin/systemctl halt</p>

<p>reboot_cmd /usr/bin/systemctl reboot</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[xfce4]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/xfce4/"/>
    <updated>2014-07-25T20:47:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/xfce4</id>
    <content type="html"><![CDATA[<p>Escritorio ligero. Para la confección de los atajos de teclado, tener en cuenta lo que lanzan algunas de las aplicaciones:</p>

<blockquote><p>$ xfce4-accesibility-settings (Configurar ratón y teclado)</p>

<p>$ xfce4-appearance-settings (Estilo de ventana, iconos tipo de letra..)</p>

<p>$ xfce4-appfinder (Buscar aplicaciones)</p>

<p>$ xfce4-display-settings (resolución de pantalla)</p>

<p>$ xfce4-keyboard-settings (Atajos de teclado, comportamiento&#8230;)</p>

<p>$ xfce4-notes (Notas rápidas)</p>

<p>$ xfce4-popup-applicationsmenu (Menu general)</p>

<p>$ xfce4-screenshooter (Captura de pantalla)</p>

<p>$ xfce4-session-logout (Menú salir, reiniciar&#8230;)</p>

<p>$ xfce4-settings-manager (Parámetros de escritorio)</p>

<p>$ xfce4-terminal (Terminal)</p></blockquote>

<p>1.-</p>

<p>Instalar applet de brillo de pantalla (backligth):</p>

<blockquote><p># apt-get install xfce4-power-manager-plugins</p></blockquote>

<p>Despues agregar el applet al panel</p>

<p>2.-</p>

<p>Restaurar / Reparar escritorio XFCE</p>

<p>rm -Rv ~/.cache/sessions/</p>

<p>xfwm4</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sysctl]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/sysctl/"/>
    <updated>2014-07-25T20:47:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/sysctl</id>
    <content type="html"><![CDATA[<p>Muestra la configuración de los parámetros del kernel</p>

<blockquote><p># sysctl -a | more (Muestra todas las [muchisimas] variables)</p>

<p># sysctl fs.file-max     (máximo de ficheros que pueden abrirse en el sistema)</p>

<p># sysctl fs.file-max=256000   (modificarlo a 256000)</p>

<p># sysctl -w vm.swappiness=10 (usar más memoria RAM y menos SWAP)</p>

<p># sysctl kernel.panic=5 (forzar reinicio a los 5 segundos despues de un kernel panic)</p></blockquote>

<p>Para hacer los cambios permanentes añadir las lineas al archivo /etc/sysctl.conf:</p>

<blockquote><p># echo &#8220;kernel.panic=5&#8221; >> /etc/sysctl.conf</p>

<p># echo &#8220;vm.swappiness=10&#8221; >> /etc/sysctl.conf</p></blockquote>

<p>1.-</p>

<p>Liberar memoria ram:</p>

<blockquote><p># watch -n 1 free -m (Comprobar el estado actual)</p>

<p># sync &amp;&amp; sysctl -w vm.drop_caches=3</p>

<p># watch -n 1 free -m (Volver a lanzar el primer comando para ver la diferencia)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[php]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/php/"/>
    <updated>2014-07-24T17:50:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/php</id>
    <content type="html"><![CDATA[<p>Lenguaje de programación diseñado originalmente para la creación de páginas web.</p>

<blockquote><p>$ php -v (Conocer la versión)</p>

<p>$ php -m (Muestra módulos instalados)</p>

<p>$ php -i (Información general de php)</p>

<p>$ php -s archivo.php > archivo.html (Crea un archivo html de un php)</p>

<p>$ php -l script.php (Comprobar la sintaxis de un script.php)</p>

<p>$ php &#8211;ini (Informa donde esta el archivo php.ini)</p></blockquote>

<p>1.-</p>

<p>Configuración de php de forma segura (php.ini)</p>

<pre><code># nano /etc/php5/apache2/php.ini

expose_php Off (Ocultar la versión de php)

session.use_trans_sid = Off (Que las URL no muestren los ID de sesiones)

allow_url_fopen = Off (Desactivar acceso a URL remotas en funciones de manejo de ficheros)

display_errors = Off (Evitar que los errores se muestren por pantalla)
</code></pre>

<p>2.-</p>

<p>Arreglar el error: PHP Deprecated:  Comments starting with &#8216;#&#8217; are deprecated in /etc/php5/cli/conf.d/ming.ini on line 1 in Unknown on line 0</p>

<pre><code># nano /etc/php5/cli/conf.d/ming.ini

Y cambiar el “#” de los comentarios por un “;”
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[latex]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/latex/"/>
    <updated>2014-07-23T18:36:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/latex</id>
    <content type="html"><![CDATA[<p>[texlive texlive-lang-spanish]. Sistema de composición de textos, orientado especialmente a la creación de libros, documentos científicos y técnicos que contengan fórmulas matemáticas. La elaboración del documento requiere normalmente de dos etapas: en la primera hay que crear mediante cualquier editor de texto llano un fichero fuente que, con las órdenes y comandos adecuados, contenga el texto que queramos imprimir. La segunda consiste en procesar este fichero; el procesador de textos interpreta las órdenes escritas en él y compila el documento, dejándolo preparado para que pueda ser enviado a la salida correspondiente. LaTeX ofrece siempre la misma salida, con independencia del dispositivo (impresora, pantalla, etc.) o el sistema operativo (MS Windows, MacOS, Unix, GNU/Linux, etc.) y puede ser exportado a partir de una misma fuente a numerosos formatos [Ps, PDF, SGML, HTML, RTF, etc.]. Otra ventaja de LaTeX es que calcula la cantidad óptima de caracteres por línea para optimizar la lectura, 66 por defecto. Existen miles de instrucciones. Aquí una pequeña muestra para no morir en el intento.</p>

<p>A continuación una estructura elemental de un documento:</p>

<p>Los comentarios van precedidos por el signo de porcentaje [%]</p>

<p>La primera linea puede especificar el papel [A4], tamaño de la letra [10pt, 11pt, 12pt], tipo de texto [article, report, book, letter, slides&#8230;], cantidad de columnas [twocolumn]:</p>

<pre><code>\documentclass[a4paper, 12pt]{article}

\documentclass[12pt,twocolumn]{report}
</code></pre>

<p>Activar el soporte Unicode [para  dieresis, eñes&#8230;]</p>

<pre><code>\usepackage[utf8]{inputenc}

\usepackage[spanish]{babel}
</code></pre>

<p>Especificar título, autor, fecha. &#8220;date&#8221;, si no se especifica, pone la fecha actual:</p>

<pre><code>\title{Lorem Ipsum}

\author{La Pipa Plena}

\date{ }
</code></pre>

<p>El cuerpo del documento se inicia con \maketitle</p>

<p>Inicio y final de texto. Entre párrafos ha de dejarse una linea en blanco. El primer párrafo de una subsección, sección o capítulo no está sangrado, pero los restantes sí.:</p>

<pre><code>\begin{document}

Est et quia non voluptatum. Aspernatur facilis excepturi aut. Voluptatem perspiciatis id cum ab nostrum. Qui rerum nisi vitae quae. Quam consequatur eaque minima ipsum distinctio. Est dolorem tempore perspiciatis quisquam accusantium exercitationem consequatur.

\end{document}
</code></pre>

<p>Secciones y subsecciones del texto:</p>

<pre><code>\section{Introducción}

\section{Historia}

\subsection{Historia inicios}

\subsection{Historia continuación}
</code></pre>

<p>Formatos de texto:</p>

<pre><code>\textbf{texto en negrita}

\emph{destaca el texto}

\textit{texto en cursiva}

\underline{texto subrayado}

\textsc{texto en versalita}
</code></pre>

<p>Tamaño de la letra. Estos comandos afectan a todo el texto que les sigue mientras no se modifique nuevamente y sin necesidad de encerrarlo entre llaves. De más pequeña a más grande: \tiny, \scriptsize, \footnotesize, \small, \normalsize (la normal), \large, \Large, \LARGE, \huge, \Huge</p>

<pre><code>\normalsize Ipsam \tiny iusto odio commodi \scriptsize inventore rem. \footnotesize Qui maiores minima \small dignissimos aut mollitia et. \normalsize Voluptates \large magnam autem similique quas. \LARGE nihil aspernatur nisi blanditiis. \huge Ad repudiandae fuga blanditiis. \Huge Est voluptate in ipsam sint \ normalsize optio.
</code></pre>

<p>Centrar un párrafo:</p>

<pre><code>\begin{center}

Est et quia non voluptatum. Aspernatur facilis excepturi aut. Voluptatem perspiciatis id cum ab nostrum. Qui rerum nisi vitae quae. Quam consequatur eaque minima ipsum distinctio. Est dolorem tempore perspiciatis quisquam accusantium exercitationem consequatur.

\end{center}
</code></pre>

<p>alinear texto:</p>

<pre><code>\centering {Texto a centrar}

\raggedleft {Texto a la derecha}

\raggedright {Texto a la izquierda}
</code></pre>

<p>Para confeccionar un documento en latex puede usarse cualquier editor [vim, nano, gedit&#8230;] y para convertirlo a pdf compilarlo con:</p>

<blockquote><p>$ pdflatex texto.tex</p></blockquote>

<p>Tambien podemos visualizar directamente el .dvi con la aplicación evince o usar gummi que, al tener la pantalla dividida en dos partes, permite crear el documento y visualizarlo en tiempo real.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[nslookup]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/nslookup/"/>
    <updated>2014-07-14T18:50:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/nslookup</id>
    <content type="html"><![CDATA[<p>saber si las DNS resuelven correctamente los nombres y las IP</p>

<blockquote><p>$ nslookup ip_o_nombre_host</p>

<p>$ nslookup <code>curl ifconfig.me</code> (conocer la IP pública)</p></blockquote>

<p>1.-</p>

<p>Conocer las DNS del equipo:</p>

<pre><code>$ nslookup (Darle enter y al entrar en el prompt colocar "server")

&gt; server

Default server: 80.58.61.250

Address: 80.58.61.250#53

Default server: 80.58.61.254

Address: 80.58.61.254#53
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iconv]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/iconv/"/>
    <updated>2014-07-13T21:38:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/iconv</id>
    <content type="html"><![CDATA[<p>Modificar la codificación de un archivo. Para saber la codificación de un archivo $ file &#8211;mime-encoding archivo.txt</p>

<blockquote><p>$ iconv -l   (Muestra todas las opciones posibles)</p>

<p>$ iconv -f ISO85591 -t UTF8 viejo.txt -o nuevo.txt (Pasar viejo.txt de codificación ISO-8559-1 a UTF-8 en el nuevo.txt)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[dhcping]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/dhcping/"/>
    <updated>2014-07-13T20:22:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/dhcping</id>
    <content type="html"><![CDATA[<p>Enviar una solicitud DHCP a un servidor DHCP para ver si está activo.</p>

<blockquote><p># dhcping -v -h 00:23:54:57:FC:78 -s 192.168.1.10 -c 192.168.1.15 (Mostrando la máxima información [v], la MAC del servidor DHCP [h] y su ip [s] y nuestra máquina [c])</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[sox]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/sox/"/>
    <updated>2014-07-13T19:11:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/sox</id>
    <content type="html"><![CDATA[<p>[soxmix]. Unir ficheros de audio en uno. Soporta mp3, wav, ogg&#8230;</p>

<blockquote><p>$ soxmix 1.mp3 2.mp3 mezcla.mp3</p>

<p>$ sox file.mp3 file2.mp3 trim 0 5 (corta los primeros 5 segundos de file.mp3 y los guarda en file2.mp3)</p>

<p>$ sox file.mp3 file.wav (pasar de mp3a wav)</p>

<p>$ sox 2.wav 3.wav speed 0.5 (3.wav irá a la mitad de velocitad que 2.wav)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[stumpwm]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/stumpwm/"/>
    <updated>2014-07-13T17:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/stumpwm</id>
    <content type="html"><![CDATA[<p>Gestor de ventanas atilado escrito en common lisp y que solo usa el teclado. Los mesajes de texto, por defecto, aparecen en la parte superior derecha de la pantalla. El archivo de configuración de los atajos está en /usr/share/common-lisp/source/stumpwm/bindings.lisp.</p>

<p>Atajos:</p>

<pre><code>C-t C-g (Abortar lo que se haya pulsado)

C-t n [C-t Space] (Ir a la siguiente ventana de la lista)

C-t p (Ir a la ventana anterior de la lista)

C-t " (Seleccionar y enfocar una ventana de una lista)

C-t w (Imprime lista de ventanas, número y nombre)

C-t : (evalua [eval] expresiones: (+ 2 2): evalúa una suma de dos más dos, (loadrc): evalúa el fichero .stumpwmrc, (quit): sale de la sesión)

C-t o [C-t TAB] (En una ventana con varios paneles va saltando entre ellos)

C-t flechas (Mueve el foco de un panel hacia el panel del lado que se indique con las flechas)

C-t f (Seleccionar un panel por su número)

C-t s (Dividir una ventana o un panel horizontalmente)

C-t S (Dividir una ventana o un panel verticalmente)

C-t k (Mata el panel actual y el programa que ejecute)

C-t K (Equivalente a un kill -9 para el marco actual)

C-t c (Ejecutar una terminal. xterm por defecto)

C-t e (Ejecutar xemacs)

C-t a (Muestra hora y fecha)

C-t ! (Pregunta la aplicación gráfica que se quiere lanzar)

C-t R (Suprimir una división. Si sólo existe una se maximiza)

C-t b (Enviar el puntero del ratón a la esquina inferior derecha de la pantalla)

C-t - (Minimizar aplicaciones del panel o ventana y mostrar la "fondo raiz")

C-t Q (Eliminar todas la divisiones y maximizar el marco del foco)

C-t m (Ver el último mensaje. Pulsando nuevamente las teclas muestra los anteriores)

C-t t (Envia un C-t cuando se usan programas que usan esta combinación de teclas como firefox)
</code></pre>

<p>grupos (equivalente a escritorios):</p>

<pre><code>C-t g c (Crear nuevo grupo)

C-t g g (Mostrar la lista de grupos)

C-t g N [C-t g SPC](Ir al siguiente grupo de la lista)

C-t G (Ver todos los grupos y las ventanas de cada grupo)

C-t g p (Ir al grupo anterior de la lista)

C-t Fn (Salta al grupo "n" [F1, F2...])

C-t g k (Mata el grupo actual. todas las ventanas se fusionan con el siguiente grupo)

C-t g m (Mover la ventana actual al grupo que se le indique)

C-t g 2 (Ir al grupo con el dígito 2)

C-t g ' (Seleccionar un grupo por nombre o por número)

C-t g " (Seleccionar un grupo de una lista y cambiar a él)

C-t g A [C-t g r] (Cambiar el nombre del grupo actual)
</code></pre>

<p>Información y ayuda:</p>

<pre><code>C-t i (Muestra información sobre la ventana actual)

C-t w (Muestra unos segundos información de todas las ventanas)

C-t F (Informa del panel activo)

C-t ? (Muestra los comandos de ayuda)

C-t h ? (lista atajos)

C-t h k (Describe una combinación de teclas que se especifique)

C-t h f (Describe una función que se especifique)

C-t h v (Describe una variable que se especifique)

C-t h w (Enumerar todas las secuencias de teclas asociadas a la orden especificada)

C-t h c (Describe el comando que se especifique)

C-t v (Mostrar la versión de stumpwm)
</code></pre>

<p>1.-</p>

<p>Para que se muestre la opción en el gdm:</p>

<pre><code># nano /usr/share/xsessions/stumpwm.desktop
</code></pre>

<p>Y pegar el siguiente texto:</p>

<pre><code>[Desktop Entry]

Encoding=UTF-8

Name=StumpWM

Comment=Tiling Window Manager

Exec=/usr/bin/stumpwm

Icon=

loadType=Application
</code></pre>

<p>2.-</p>

<p>Colocar un fondo de pantalla:</p>

<blockquote><p>$ nano .stumpwmrc (Si no existe lo creamos)</p></blockquote>

<p>I añadimos fondo negro:</p>

<pre><code>(set-bg-color "black")
</code></pre>

<p>O bien una imagen:</p>

<pre><code>(run-shell-command "xsetbg ~/fondos/fichero.png")
</code></pre>

<p>3.-</p>

<p>Abrir una sesión gráfica stumpwm junto a otra:</p>

<p>Crear un usuario con su home (P.e. pedro)</p>

<blockquote><p># useradd -d /home/pedro -s /bin/bash -m pedro</p></blockquote>

<p>Entrar la contraseña de pedro:</p>

<blockquote><p># passwd pedro</p></blockquote>

<p>Crear en su /home el archivo:</p>

<blockquote><p># nano .xinitrc</p></blockquote>

<p>Con el contenido de la ruta a stumpwm:</p>

<pre><code>/usr/bin/stumpwm
</code></pre>

<p>Entrar en una tty (P.e la tty3):</p>

<pre><code>Crtl + Alt + F3
</code></pre>

<p>Y logearse como pedro. Una vez entrado en el sistema lanzar:</p>

<blockquote><p>$ startx</p></blockquote>

<p>Y tendremos una sesion stumpwm en la tty8</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[portsentry]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/portsentry/"/>
    <updated>2014-07-13T17:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/portsentry</id>
    <content type="html"><![CDATA[<p>Herramienta de seguridad que detecta escaneo de puertos y permite monitorizar rastreos tipo NULL, SYN, TCP, ARP&#8230; Su configuración se realiza en el archivo /etc/portsentry/portsentry.conf, las opciones [tcp y/o udp] del demonio en /etc/default/portsentry y las máquinas i interficies a ignorar en /etc/portsentry/portsentry.ignore.static. Sin tocar del archivo de configuración el parámetro TCP_PORTS y UDC_PORTS portsentry simula que todos los especificados están abiertos, lo cual puede verificarse con un nmap:</p>

<blockquote><p># nmap 192.168.1.x</p></blockquote>

<p>La configuración por defecto con la explicación a modo de comentario:</p>

<pre><code># Puertos que se simularán abiertos y que monitorizarán ataques:

TCP_PORTS="1,11,15,79,111,119,143,540,635,1080,1524,2000,5742,6667,12345,12346,20034,27665,31337,32771,32772,32773,32774,40421,49724,54320"

UDP_PORTS="1,7,9,69,161,162,513,635,640,641,700,37444,34555,31335,32770,32771,32772,32773,32774,31337,54321"

# Monitorizar los servicios del rango de puertos del 1 al especificado [1024]:

ADVANCED_PORTS_TCP="1024"

ADVANCED_PORTS_UDP="1024"

# puertos excluidos del scaneo:

ADVANCED_EXCLUDE_TCP="113,139"

ADVANCED_EXCLUDE_UDP="520,138,137,67"

# Archivo con ips que no queremos bloquear:

IGNORE_FILE="/etc/portsentry/portsentry.ignore"

# Direcciones detectadas intentando accesar puertos monitoreados:

HISTORY_FILE="/var/lib/portsentry/portsentry.history"

BLOCKED_FILE="/var/lib/portsentry/portsentry.blocked"

# No resolver la ip del host atacante [con valor 1 lo resuelve]:

RESOLVE_HOST = "0"

BLOCK_UDP="0"

BLOCK_TCP="0"

# Configurar la actuación de los distintos intentos de intrusión [0=no bloquear, 1=Bloquear y 2=Ejecutar un comando externo]:

KILL_ROUTE="/sbin/route add -host $TARGET$ reject"

# Opción para los atacantes insistentes [bloqueo total por TCPwrappers]:

KILL_HOSTS_DENY="ALL: $TARGET$ : DENY"

# Indica qué tan rápido marcar una intento fallido de conexión como un ataque. 0=paranoico, 1 y 2=permite algunos errores. Valores superiores a 2 mejor descartarlos]

SCAN_TRIGGER="0"

# Comunicar un mensaje al atacante:

PORT_BANNER="** UNAUTHORIZED ACCESS PROHIBITED *** IP LOGGED "
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[exim]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/exim/"/>
    <updated>2014-07-13T17:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/exim</id>
    <content type="html"><![CDATA[<p>Agente de transporte de correo.</p>

<blockquote><p>$ exim -bp (Lista los correos en cola)</p>

<p>$ exim -bpc (Muestra la cantidad de correos en cola)</p>

<p>$ exim -bp | exiqsumm (Muestra resumen de los correos en cola)</p>

<p>$ exim -Mrm 1X62E1-0006CU-61 (Eliminar un correo concreto por su ID)</p>

<p>$ exim -Mf 1X62E1-0006CU-61 (Congelar un correo)</p>

<p>$ exim -M 1X62E1-0006CU-61 (Procesar un correo)</p>

<p>$ exiqgrep -z -i | xargs exim -Mrm (Eliminar todos los correos congelados)</p>

<p>$ exiwhat (Mostrar qué está haciendo exim en este momento)</p>

<p>$ exim -bt 1X62E1-0006CU-61 (Hacer un traceroute a una dirección de correo)</p>

<p>$ exim -Mvh 1X62E1-0006CU-61 (Ver cabeceras de un correo)</p>

<p>$ exim -Mvb 1X62E1-0006CU-61 (Ver el cuerpo de un correo)</p>

<p>$ exim -Mvl 1X62E1-0006CU-61 (Ver los logs de un correo)</p>

<p>$ exim -qff (Forzar cola de correo)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[dtrx]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/dtrx/"/>
    <updated>2014-07-13T17:41:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/dtrx</id>
    <content type="html"><![CDATA[<p>Descompresor de archivos comprimidos en varios formatos [ tar, zip, rpm, deb, gem, 7z, cpio, rar, bzip2, gzip&#8230;]</p>

<blockquote><p>$ dtrx -r archivo.zip (descomprimir de forma recursiva el zip y todos los comprimidos de su interior)</p>

<p>$ dtrx -l archivo.zip (Lista los archivos de archivo zip)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[systemctl]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/systemctl/"/>
    <updated>2014-07-13T17:33:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/systemctl</id>
    <content type="html"><![CDATA[<p>[systemd-sysv]. Systemd es un administrador del sistema y gestor de servicios compatible con SysV al que reemplaza.</p>

<blockquote><p># systemctl reboot (Reiniciar el pc)</p>

<p># systemctl poweroff (Parar el sistema)</p>

<p># systemctl suspend (Suspender el sistema)</p>

<p># systemctl hibernate (Poner el sistema en hivernación)</p>

<p># systemctl (Listado de unidades activas)</p>

<p># systemctl list-units (Listado de unidades activas)</p>

<p># systemctl &#8211;failed (Listado de unidades que han tenido problemas)</p>

<p># systemctl list-unit-files (Listado de unidades instaladas)</p>

<p># systemctl start slim.service (Activa slim de inmediato)</p>

<p># systemctl stop sshd.service (Parar ssh de inmediato)</p>

<p># systemctl restart dhcpcd@eth0.service (Reiniciar conexión por dhcp)</p>

<p># systemctl reload wicd.service (Recargar la configuración de wicd)</p>

<p># systemctl status cronie.service (Muestra el estado de cron)</p>

<p># systemctl is-enabled vsftpd.service (Comprueba si vsftpd está habilitada o no)</p>

<p># systemctl enable NetworkManager.service (Activa el inicio automático de network-manager en el arranque)</p>

<p># systemctl disable smbd.service (Desactiva el inicio automático de samba en el arranque)</p>

<p># systemctl daemon-reload (Recarga systemd, escaneando en busca de unidades nuevas o modificadas)</p>

<p># systemctl isolate multi-user.target (Arrancar en runlevel 3)</p>

<p># systemctl isolate graphical.target (Arrancar en runlevel 5)</p></blockquote>

<p>1.-</p>

<p>Para incorporar el arranque a grub2, modificar del archivo:</p>

<blockquote><p># nano /etc/default/grub</p></blockquote>

<p>La linea:</p>

<pre><code>GRUB_CMDLINE_LINUX_DEFAULT="quiet init=/bin/systemd"
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[lilo]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/lilo/"/>
    <updated>2014-07-13T17:33:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/lilo</id>
    <content type="html"><![CDATA[<p>Gestor de arranque. La configuración en:</p>

<blockquote><p># nano /etc/lilo.conf</p></blockquote>

<p>Algunos parametros a especificar:</p>

<blockquote><p># Indica que se instale en determinado disco:</p></blockquote>

<p>boot = /dev/sda</p>

<blockquote><p># El sistema que arrancará por defecto [el especificado en la etiqueta [label]]</p></blockquote>

<p>default = Linux</p>

<blockquote><p># Que muestre cualquier cosa que sea referenciado en la línea message:</p></blockquote>

<p>prompt</p>

<blockquote><p># Una imagen. Medidas 640x480:</p></blockquote>

<p>bitmap = /boot/slack.bmp</p>

<blockquote><p># un mensaje de inicio:</p></blockquote>

<p>message = /boot/boot_message.txt</p>

<blockquote><p># tiempo de espera para arrancar la partición por defecto [en segundos]:</p></blockquote>

<p>timeout = 50</p>

<blockquote><p># Una partición linux</p></blockquote>

<p>image = /boot/vmlinuz</p>

<pre><code>root = /dev/sda2

label = Linux

read only
</code></pre>

<blockquote><p># nota: read-only Indica que el sistema de ficheros raíz se montará en modo solo-lectura.</p>

<p># Por norma general, el proceso de arranque lo remonta luego en modo lectura-escritura.</p>

<p># Una partición windows:</p></blockquote>

<p>other = /dev/hda1</p>

<pre><code>label = Windows

table = /dev/sda1
</code></pre>

<p>Si queremos una contraseña para entrar en alguno de los sistemas colocamos en su entrada:</p>

<pre><code>password = 12345
</code></pre>

<p>Cualquier modificación en este archivo para guardar los cambios, implica lanzar:</p>

<blockquote><p># lilo</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[journalctl]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/journalctl/"/>
    <updated>2014-07-13T17:33:00+02:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/journalctl</id>
    <content type="html"><![CDATA[<p>Sistema de registro [log] propio de systemd.</p>

<blockquote><p># journalctl (Leer el registro)</p>

<p># journalctl -b (Mostrar todos los mesajes de arranque)</p>

<p># journalctl -b -0 (Muestra los mensajes del arranque actual)</p>

<p># journalctl -b -1 (Muestra los mensajes del arranque anterior)</p>

<p># journalctl -b -2 (Muestra los mensajes desde los dos últimos arranques)</p>

<p># journalctl -f (Seguir los mensajes nuevos)</p>

<p># journalctl _PID=1 (Mostrar mensajes por su PID)</p>

<p># journalctl -u netcfg (Mostrar mensajes de una unidad especifica)</p></blockquote>

<p>1.-</p>

<p>Hacer que el demonio syslog funcione con journal</p>

<blockquote><p># systemctl enable syslog-ng</p></blockquote>
]]></content>
  </entry>
  
</feed>
