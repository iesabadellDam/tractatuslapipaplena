<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[TRACTATUS ELEMENTALIS]]></title>
  <link href="https://tractatuslapipaplena.herokuapp.com/atom.xml" rel="self"/>
  <link href="https://tractatuslapipaplena.herokuapp.com/"/>
  <updated>2013-12-10T21:52:39+01:00</updated>
  <id>https://tractatuslapipaplena.herokuapp.com/</id>
  <author>
    <name><![CDATA[templix]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[tmux]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/tmux/"/>
    <updated>2013-12-10T19:53:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/tmux</id>
    <content type="html"><![CDATA[<p>Terminal multiplexor</p>

<blockquote><p>$ tmux (Lanzar la aplicación)</p>

<p>$ tmux ls (Listar las sesiones tmux abiertas)</p>

<p>$ tmux attach -t 0 (Sincronizarse con la sesión 0 [attach] en local o en remoto via ssh)</p>

<p>$ tmux rename-session -t 0 tty1 (Renombrar la sesion 0 a tty1)</p>

<p>$ tmux kill-window -t 2 (Matar la sesión tmux número 2)</p>

<p>$ tmux new-session -s hack_wifi (Abrir sesión con un nombre)</p>

<p>$ tmux list-commands (Listar la sintaxis de todos los comandos soportados)</p>

<p>$ tmux list-keys (Listado de todas las teclas de control)</p>

<p>$ tmux new-session -d &#8216;vi /etc/apt/sources.list&#8217; \; split-window -d &#8216;newsbeuter&#8217; \; attach (Arrancar una sesión tmux con el sources.list en el panel superior y con el lector RSS newsbeuter en el inferior)</p>

<p>$ tmux new-session \; split-window \; split-window -h \; split-window -v \; attach (Arrancar la aplicación con varios panels horizontales y verticales)</p></blockquote>

<p>Un completo tutorial en: <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1">http://www.openbsd.org/cgi-bin/man.cgi?query=tmux&amp;sektion=1</a></p>

<p>Atajos:</p>

<pre><code>Ctrl+b c (Crear una nueva ventana)

Ctrl+b d (Salir de tmux actual (detach) sin cerrar sesión)

Ctrl+b n (Ir a la ventana siguiente)

Ctrl+b p (Ir a la ventana anterior)

Ctrl+b &amp; (Matar la ventana actual, incluye todos los paneles)

Ctrl+b x (Matar panel actual)

Ctrl+b , (cambiar el nombre de la ventana actual )

Ctrl+b % (Dividir verticalmente la ventana actual en dos paneles)

Ctrl+b " (Dividir horizontalmente la ventana actual en dos paneles)

Ctrl+b q (Mostrar brevemente los números de cada panel)

Ctrl+b o (Cambiar al siguiente panel)

Ctrl+b ? (Lista todas las combinaciones de teclas de control)

Ctrl+b w (Lista todas las ventanas)

Ctrl+b núm (Moverse a la ventana seleccionada (0-9). No al panel)

Ctrl+b up (Ir al panel de encima)

Ctrl+b down (Ir al panel de abajo)

Ctrl+b left (Ir al panel de la izquierda)

Ctrl+b right (Ir al panel de la derecha)

Ctrl+b t (Muestra en el panel un reloj digital)

Ctrl+b s (Elegir sesión)

Ctrl+b [ (Entra en modo scroll con la teclas del cursor. Termina pulsando q)
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[rkhunter]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/rkhunter/"/>
    <updated>2013-12-08T18:54:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/rkhunter</id>
    <content type="html"><![CDATA[<p>Buscador de rootkits instalados en el sistema</p>

<blockquote><p># rkhunter &#8211;update  (Recargar la base de datos)</p>

<p># rkhunter -c  (iniciar la aplicación)</p>

<p># rkhunter -c -sk (iniciar la aplicación sin pedir confirmación para proseguir)</p>

<p># rkhunter -c -sk &#8211;propupd (Lanzar con la opción &#8220;propupd&#8221; si se ha modificado la función Hash o para reconstruir la base de datos y evitar &#8220;Warnings&#8221; tipo: Warning: The file properties have changed)</p>

<p># rkhunter &#8211;list (Ver las opciones)</p>

<p># rkhunter &#8211;enable group_accounts,system_commands  (Solo chequear estas dos opciones)</p>

<p># rkhunter &#8211;disable shared_libs  (Descartar esta opción del chequeo)</p>

<p># cat /var/log/rkhunter.log | grep Warning (Visualizar los &#8220;Warnings&#8221;)</p></blockquote>

<p>1.-</p>

<p>Para solucionar el error: Warning: Hidden directory found: /etc/.java</p>

<blockquote><p># nano /etc/rkhunter.conf</p></blockquote>

<p>Y descomentar la linea:</p>

<p>ALLOWHIDDENDIR=&#8221;/etc/.java&#8221;</p>

<p>Nota.- para errores similares con archivos ocultos [/dev/.udev, /dev/.initramfs&#8230; ], descomentar la linea correspondiente.</p>

<p>2.-</p>

<p>Para errores de versión de ciertas aplicaciones [Warning: Application &#8216;gpg&#8217;, version &#8230;.]</p>

<blockquote><p># nano /etc/rkhunter.conf</p></blockquote>

<p>Añadir apps a la linea:</p>

<p>DISABLE_TESTS=&#8221;suspscan hidden_procs deleted_files packet_cap_apps apps&#8221;</p>

<p>3.-</p>

<p>Para suprimir falsa advertencias sobre posibles interfaces promiscuos [P.ejemplo de un servidor virtual], añadir &#8220;promisc&#8221; a la opción DISABLE_TESTS:</p>

<p>DISABLE_TESTS=&#8221;suspscan hidden_procs deleted_files packet_cap_apps apps promisc&#8221;</p>

<p>4.-</p>

<p>Para que los valores se obtengan del gestor de paquetes correspondiente:</p>

<blockquote><p># nano /etc/rkhunter.conf</p></blockquote>

<p>Y descomentar y modificar la linea PKGMGR:</p>

<p>PKGMGR=DPKG</p>

<p>Nota.- Otras opciones para distros no debian o para desactivar la opción: RPM, BSD,SOLARIS y NONE</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ssconvert]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/ssconvert/"/>
    <updated>2013-12-07T06:26:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/ssconvert</id>
    <content type="html"><![CDATA[<p>[gnumeric]</p>

<p>Conversor de formatos de hoja de cálculo por línea de comandos.</p>

<blockquote><p>$ ssconvert &#8211;list-exporters (Listado de conversiones de salida)</p>

<p>$ ssconvert &#8211;list-importers (Litado de conversiones de entrada)</p>

<p>$ ssconvert entrada.xls salida.csv (De formato excel a csv)</p>

<p>$ ssconvert -E utf-8 entrada.xls salida.csv (Especificando una codificación para la salida)</p>

<p>$ ssconvert &#8211;export-type=Gnumeric_stf:stf_assistant -O &#8216;separator=| format=preserve charset=unicode&#8217; entrada.xls salida.csv (Especificando opcionalmente un exportador [&#8211;export-type] que permite exportar a txt, especificando un separador de campos que no sea el por defecto [el espacio] sinó la barra vertical [|], preservando el formato de las celdas del original [format], otras opciones de format son &#8220;automatic&#8221; [por defecto] y &#8220;raw&#8221; [sin formato] y con codificación de salida en unicode [por defecto UTF-8])</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[while]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/while/"/>
    <updated>2013-12-07T06:00:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/while</id>
    <content type="html"><![CDATA[<p>Ejecuta una seria de comandos mientras que una determinada condicion sea cumpla. Algunos scripts ilustrativos:</p>

<p>1.-</p>

<pre><code>#!/bin/bash

RESPUESTA=s

while [ $RESPUESTA = s ]

do

    echo "Introducir nombre: "

    read NOMBRE

    echo "Hola $NOMBRE"

    echo

    echo "¿Desea continuar? (s/n)"

    read RESPUESTA

done
</code></pre>

<p>2.-</p>

<pre><code>#!/bin/bash

while [ "$OPCION" != 5 ]

do

    echo

    echo "[1] Listar directorio"

    echo "[2] Directorio donde te encuentras"

    echo "[3] fecha de hoy"

    echo "[4] Usuarios conectados"

    echo "[5] Salir"

    echo

    read -p "Ingrese una opción: " OPCION

    echo

    case $OPCION in

        1) ls;;

        2) pwd;;

        3) date +%D ;;

        4) who;;

        5);;

        *) echo "Opción ingresada no valida, intentelo de nuevo";;

    esac

done

exit 0
</code></pre>

<p>3.-</p>

<pre><code>#!/bin/bash

# imprimir números del 1 al 10

LIMITE=10

a=1

while [ "$a" -le $LIMITE ]

do

  echo "$a "

  let "a+=1"

done
</code></pre>

<p>4.-</p>

<p>Leer un archivo linea a linea:</p>

<pre><code>#!/bin/bash

while read linea

do

   echo "---&gt; $linea "

done &lt; archivo.txt
</code></pre>

<p>5.-</p>

<p>Especificando un separador [:]</p>

<pre><code>#!/bin/bash

while IFS=: read user pass uid gid full home shell

do

echo -e "$full :\n\

        Pseudo : $user\n\

        UID :\t $uid\n\

        GID :\t $gid\n\

        Home :\t $home\n\

        Shell :\t $shell\n\n"

done &lt; /etc/passwd
</code></pre>

<p>6.-</p>

<p>Leer un archivo pasado como parámetro, descartar las lineas en blanco y colorear alternativamente las siguientes en amarillo y rojo.</p>

<pre><code>#!/bin/bash

COLOR=1

while read linia

do

    if [ -z "${linia}" ] 

    then

        continue

    fi

    if [ $COLOR -eq 0 ]

    then

        echo -e "\e[1;30;41m$linia\033[0m" #VERMELL - 0

        COLOR=1

    else

        echo -e "\e[1;30;43m$linia\033[0m" #GROC - 1

        COLOR=0

    fi

done &lt; $1
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[unoconv]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/unoconv/"/>
    <updated>2013-12-07T06:00:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/unoconv</id>
    <content type="html"><![CDATA[<p>Exporta todos los formatos soportados por openoffice/libreoffice a otros formatos como pdf, txt&#8230; creando un archivo con el mismo nombre de origen pero con la nueva extensión. Para una lista detallada consultar este enlace: <a href="http://dag.wieers.com/home-made/unoconv/">http://dag.wieers.com/home-made/unoconv/</a></p>

<blockquote><p>$ unoconv &#8211;show  (Visualizar formatos  soportados)</p>

<p>$ unoconv -f xls archivo.csv (convertir un csv a xls)</p>

<p>$ unoconv -f pdf <em>.odp </em>.odt (Convierte todos los .odt y .odp a pdfs)</p>

<p>$ unoconv &#8211;format=txt document1.odt (convierte el documento a texto plano)</p>

<p>$ unoconv &#8211;format=txt &#8211;stdout document1.odt > salida.txt (envia la salida al STDOUT para redireccionarla a un fichero cualquiera)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[hash-identifier]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/hash-identifier/"/>
    <updated>2013-12-07T06:00:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/hash-identifier</id>
    <content type="html"><![CDATA[<p>Identifica la encriptación de un hash. Descarga: <a href="https://code.google.com/p/hash-identifier/">https://code.google.com/p/hash-identifier/</a></p>

<blockquote><p>$ python Hash_ID_v1.1.py</p></blockquote>

<p>Cuando sale el promt pastear el hash:</p>

<p>HASH: caf90169eefa5f807d577486b9f795ab86ae2983c5c20806cff959117e90af18</p>

<pre><code>Possible Hashs:

[+]  SHA-256

[+]  Haval-256

Least Possible Hashs:

[+]  GOST R 34.11-94

[+]  RipeMD-256

[+]  SNEFRU-256

[+]  SHA-256(HMAC)

[+]  Haval-256(HMAC)

[+]  RipeMD-256(HMAC)

[+]  SNEFRU-256(HMAC)

[+]  SHA-256(md5($pass))

[+]  SHA-256(sha1($pass))
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[cmus]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/cmus/"/>
    <updated>2013-12-01T07:02:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/cmus</id>
    <content type="html"><![CDATA[<p>Reproductor de música.</p>

<blockquote><p>$ cmus &#8211;plugins (Listado de plugins disponibles)</p>

<p>$ cmus</p></blockquote>

<p>Algunas teclas de control:</p>

<pre><code>1 (Muestra la biblioteca)

2 (Muestra la biblioteca ordenada según los criterios del usuario)

4 (Muestra la cola de pistas que se reproducirá)

5 (Navegar por los directorios)

7 (Muestra todas las teclas de control)

+ (Sube el volumen un 10%)

- (Baja el volumen un 10%)

a (Añadir canción al listado)

b (siguiente canción)

c (Pausar la reproducción

i (Estando con la opción 5, muestra los directorios ocultos)

r (Repetir canción)

q (salir)
</code></pre>

<p>Listado de temas de colores disponibles en /usr/share/cmus. Para modificar el el esquema de colores:</p>

<pre><code>: colorscheme cyan
</code></pre>

<p>Para que el cambio sea permanente:</p>

<blockquote><p>$ nano .cmus/rc</p></blockquote>

<p>Y colocar la linea:</p>

<p>colorscheme cyan</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[cansina]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/cansina/"/>
    <updated>2013-12-01T05:53:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/cansina</id>
    <content type="html"><![CDATA[<p>Trata de descubrir directorios ocultos en los que poder encontrar información útil. Descarga:</p>

<blockquote><p>$ git clone https://github.com/deibit/cansina</p>

<p># python cansina.py -h (Ayuda)</p>

<p># python cansina.py -u URL -p fuzzdb/attack-payloads/all-attacks/all-attacks-unix.txt (Los parámetros mínimos son la URL y el peyload a usar)</p></blockquote>

<p>Una vez lanzado el fuzzer, crea un archivo .sqlite en el directorio data que puede convertirse en .html con:</p>

<blockquote><p>$ python viewer.py -p data/URL.sqlite</p></blockquote>

<p>Y visualizarse en cualquier navegador.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[tcptrack]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/tcptrack/"/>
    <updated>2013-11-29T21:43:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/tcptrack</id>
    <content type="html"><![CDATA[<p>aplicación que muestra el consumo de la conexión.</p>

<blockquote><p># tcptrack -i eth1 port 22 -f (Especificando conexión, puerto y habilitar el algoritmo de velocidad media rápida [-f])</p>

<p># tcptrack -i eth1 port 21 or 80 (Especificando dos puertos)</p>

<p># tcptrack -i eth0 &#8220;dst port 80&#8221; (Sólo mostrar las conexiones destinadas al puerto 80)</p>

<p># tcptrack -i eth1 -r 10 -d (Mostrar las conexiones 10 segundos más de cuando se cierren, por defecto son 2 segundo [r] y sin rastrear las conexiones existentes [d])</p>

<p># tcptrack -T network.pcap > network.txt (Mandando el resultado a un archivo [-T])</p></blockquote>

<p>Algunas teclas de control:</p>

<p>p (Pausar)</p>

<p>q (salir)</p>

<p>s (Cada vez que se pulsa la letra cambia a alguna de las 3 opciones de ordenación: sin ordenar (por defecto), por categoría y por bytes)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ipband]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/ipband/"/>
    <updated>2013-11-29T21:43:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/ipband</id>
    <content type="html"><![CDATA[<p>Mostrar datos de la conexión. Copiar el arxivo de configuración:</p>

<blockquote><p># cp /usr/share/doc/ipband/examples/ipband.conf-simple /etc/ipband.conf</p></blockquote>

<p>Y descomentar o modificar los siguientes parámetros:</p>

<pre><code>debug 0

interface eth1

fork yes

htmlfile /srv/www/htdocs/ipbandwidth/index.html

htmltitle Consumo de banda

average 10

accumulate no

maskbits 32

localrange 192.168.1.0/24
</code></pre>

<p>Reiniciar el servicio:</p>

<blockquote><p># /etc/init.d/ipband restart</p></blockquote>

<p>Arrancar la aplicación:</p>

<blockquote><p># ipband</p></blockquote>

<p>Los informes se muestran poniendo en la barra del navegador: http://localhost/html/ipbandwidth/index.html</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[hashtag]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/hashtag/"/>
    <updated>2013-11-28T15:08:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/hashtag</id>
    <content type="html"><![CDATA[<p>Analiza e identifica varios hashes de contraseñas en función de su tipo. Descarga de <a href="https://github.com/SmeegeSec/HashTag">https://github.com/SmeegeSec/HashTag</a></p>

<blockquote><p># hashtag -sh $1$MtCReiOj$zvOdxVzPtrQ.PXNW3hTHI0 (Analizar uno sólo)</p>

<p># hashtag -f archivo (Analizar todos los hash contenidos en un archivo)</p>

<p># hashtag -d dir -o archivo (recorrer un directorio y todos los subdirectorios intentando identificar todos los hash potenciales y mandando el resultado a un archivo. Si no se especifica, la salida es HashTag_Output_File.txt)</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ifs]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/ifs/"/>
    <updated>2013-11-27T21:21:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/ifs</id>
    <content type="html"><![CDATA[<p>Internal Field Separator (separador de campos internos) sirve para indicar cual es el valor que se usa como separador. Si no se especifica ninguno es el espacio.</p>

<p>Algunos ejemplos:</p>

<p>1.-</p>

<pre><code>#!/bin/bash

# dividir una IP en 4 variables

# Guardar el separador de campos original

OLDIFS=$IFS

read -p "Dime la ip: " IP

# Establecemos el separador de campos en el punto

IFS=.

read IP1 IP2 IP3 IP4 &lt;&lt;&lt; "$IP"

echo "$IP1 $IP2 $IP3 $IP4"

# Restablecemos el separador original (El espacio)

IFS=$OLDIFS
</code></pre>

<p>2.-</p>

<pre><code>#!/bin/bash

#Almacenamos el valor original de la variable IFS

OLDIFS=$IFS

#Cambiamos el valor del IFS a final de linea [\n]

IFS=$'\n'

for line in $(cat file.txt)

do

    echo $line

done

#Restauramos el IFS

IFS=$OLDIFS
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[chmod]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/chmod/"/>
    <updated>2013-11-25T21:10:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/chmod</id>
    <content type="html"><![CDATA[<p>Gestión de permisos de los ficheros y directorios.</p>

<blockquote><p>$ chmod ugo+rwx -R /home/usuario/directorio  (todos los permisos a todos los usuarios sobre el directorio y subdirectorios)</p>

<p>$ chmod 777 -R /home/usuario/directorio (Equivalente en octal)</p>

<p>$ chmod a+w archivo (permiso de escritura para todos)</p>

<p>$ chmod 222 -R /home/usuario/directorio (Equivalente en octal)</p>

<p>$ chmod -w archivo (Quitar permiso de escritura a un archivo)</p>

<p>$ chmod +x archivo (Dar permiso de ejecución)</p>

<p>$ chmod 744 archivo (Lectura, ecritura y ejecución para el usuario y sólo lectura para grupo y otros)</p>

<p>$ chmod u=rwx go=rw archivo (Equivalente en alfabético)</p>

<p>$ chmod &#8211;reference=file1 file2 (Otorgar los mismos permisos de file1 a file2)</p></blockquote>

<p>Código numérico (octal):</p>

<pre><code>1 = ejecución [x]

2 = escritura [w]

3 (1+2) = escritura y ejecución [xw]

4 = lectura [r]

5 (4+1) = lectura y ejecución [rx]

6 (4+2) = lectura y escritura [rw]

7 (4+2+1) = lectura, escritura y ejecución [wxr]
</code></pre>

<p>Código alfabético:</p>

<p>r (lectura), w (escritura), x (ejecución)</p>

<p>u (usuario), g (grupo), o (otros), a (para todos)</p>

<p>Nota.- Cuando un directorio está marcado como ejecutable [x] significa que se puede mirar dentro [ls] o entrar en él [cd]</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[aide]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/aide/"/>
    <updated>2013-11-24T16:44:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/aide</id>
    <content type="html"><![CDATA[<p>Sistema de detección de intrusos. No evita la intrusión, sólo informa que esta se ha producido y qué archivos fueron modificados. La primera vez que se ejecuta, crea una base de datos con los atributos, usuarios, permisos&#8230; de los archivos especificados aplicándoles una o varias funciones hash por lo que el mejor momento para instalar esta aplicación es con un sistema recien instalado.</p>

<blockquote><p># aide -i (Crear la base de datos)</p>

<p># aide -u (Actualizar la base de datos)</p>

<p># aide -c (Hacer un chequeo del sistema para comprobar modificaciones)</p></blockquote>

<p>Nota.- Los archivos de configuración: /etc/aide/aide.conf.d/, /etc/aide/aide.conf y /etc/default/aide</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[miniflux]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/miniflux/"/>
    <updated>2013-11-24T15:42:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/miniflux</id>
    <content type="html"><![CDATA[<p>Lector RSS instalado en local o en un servidor. Simplemente se descarga la aplicación de <a href="http://miniflux.net/">http://miniflux.net/</a> y, una vez descomprimida, se copia al directorio web (generalmente /var/www). Se accede colocando en la barra de direcciones: http://localhost/miniflux (Por defecto el nombre de usuario y contraseña son admin:admin)</p>

<p>Atajos de teclado:</p>

<p>gu (Ir a leídas)</p>

<p>gb (Ir a marcadores)</p>

<p>gh (Ir al historial)</p>

<p>gs (Ir a suscripciones)</p>

<p>gp (Ir a preferencias)</p>

<p>s (Descargar contenido)</p>

<p>p (Noticia anterior)</p>

<p>n (Noticia siguiente)</p>

<p>m (Marcar como leido)</p>

<p>v (Abrir la noticia original)</p>

<p>o (Desplegar la noticia)</p>

<p>f (Añadir a favoritos)</p>

<p>h (Ir a página precedente)</p>

<p>l (Ir a página anterior)</p>

<p>? (Abrir la ayuda de los atajos de teclado)</p>

<p>q (Cerrar la ayuda)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[noip2]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/noip2/"/>
    <updated>2013-11-22T17:15:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/noip2</id>
    <content type="html"><![CDATA[<p>Servicio de redireccionamiento de ip dinamica a fija. Requiere registro en www.no-ip.com</p>

<blockquote><p># noip2 -C    (Inicio de la configuración del servicio)</p></blockquote>

<pre><code>Please enter the login/email string for no-ip.com (usuario registro no-ip.com) 

Please enter the password for user ‘usuario@email.com’ (Contraseña no-ip) 

Please enter an update interval:[30] (Intervalo de tiempo para actualización) 

Do you wish to run something at successful update?[N] (y/N)  (intro) 

New configuration file ‘/etc/no-ip2.conf’ created.
</code></pre>

<blockquote><p># ps aux | grep noip (Comprobar si está corriendo el servicio)</p>

<p># noip2 -S (Muestra información sobre el proceso activo)</p>

<p># noip2 -K 1234 (Mata el proceso de noip con el número que le indiquemos)</p>

<p># noip2 -M (permite multiple instancias de noip2)</p>

<p># noip2 -i 192.168.1.2 (Forzar a que noip2 actualice los dominios con la IP suministrada)</p>

<p># noip2 -I eth1 (Forzar que noip2 se conecte a internet con la tarjeta de red especificada)</p></blockquote>

<p>Nota.- En algunas distros, para iniciar el servicio al inicio:</p>

<blockquote><p># nano /etc/rc.local</p></blockquote>

<p>Y colocar, según donde se encuentre el ejecutable, la linea:</p>

<p>/usr/local/bin/noip2 &amp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[speaker]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/speaker/"/>
    <updated>2013-11-21T21:34:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/speaker</id>
    <content type="html"><![CDATA[<p>[ver aoss espeak]</p>

<p>Pruebas de sonido.</p>

<blockquote><p># speaker-test -c 6 -t wav (probar altavoces usando voz [t])</p></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[monit]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/monit/"/>
    <updated>2013-11-21T17:03:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/monit</id>
    <content type="html"><![CDATA[<p>Monitorizador de procesos en ejecución, servicios, demonios, espacios de disco, PIDs, checksums, archivos&#8230;.</p>

<blockquote><p># monit status (Acceder a los informes)</p>

<p># monit -t (Comprobar errores de configuración [Control file syntax OK])</p>

<p># monit -h (Listado de comandos disponibles)</p>

<p># monit quit (Salir)</p>

<p># monit start all (Arrancar todos los monitoreos)</p>

<p># monit sotp ssh (Parar un monitoreo de un servicio)</p>

<p># monit restart all (Reiniciar todos los monitoreos)</p>

<p># monit summary (Mostrar resumen)</p></blockquote>

<p>Configuración:</p>

<pre><code># nano /etc/monitrc 
</code></pre>

<p>Las entradas globales empiezan por “set” y los servicios concretos por “check”</p>

<p>Tiempo de actualización de datos, por defecto:</p>

<pre><code>set daemon  60 
</code></pre>

<p>Especificar el archivo de eventos (logs)</p>

<pre><code>set logfile /var/log/monit.log 
</code></pre>

<p>Configurar para el envio de notificaciones:</p>

<pre><code>set mailserver localhost 

set alert usuario@localhost.localdomain 

set mail-format { 

from: monit@$HOST 

subject: $SERVICE $EVENT 

message: $ACTION $SERVICE at $DATE on $HOST: $DESCRIPTION. 

} 

set mailserver mail@mail.com (servidor smtp que envia los correos [localhost para notificación local]). 

set alert user@hots.com  (cuenta donde enviar los mensajes de alerta). Ejemplo para enviar notificaciones a correo gmail (en negrita los datos a modificar): 

set mailserver smtp.gmail.com port 587 

username usuario@gmail.com password Tfer7¿-6j 

using tlsv1 

with timeout 30 seconds 

set alert usuario@gmail.com 

Cambiar usuario y contraseña (por defecto: admin/monit) 

allow usuario:contraseña 
</code></pre>

<p>Especificar desde donde accederemos. Sólo acceso local [localhost:2812]:</p>

<p>set httpd port 2812 and use address localhost</p>

<p>allow localhost</p>

<p>o si queremos acceso remoto [http://ip_o_host:2812] modificar por:</p>

<pre><code>set httpd port 2812 

     allow localhost 
</code></pre>

<p>Tambien podemos especificar: ips, rangos, hosts concretos o usuarios para solo lectura:</p>

<pre><code>allow 192.168.1.14 

allow 192.168.1.1/24 

allow host.com 

allow usuario:contraseña read-only
</code></pre>

<p>Modificar el nombre del equipo [tiene que estar en /etc/hosts] y adaptar los porcentajes de consumo de carga del sistema [loadvg] y cpu para que al superar ciertos índices o porcentajes, envie una alerta:</p>

<p>check system tux</p>

<pre><code>if loadavg (1min) &gt; 4 then alert 

if memory usage &gt; 75% then alert 

if swap usage &gt; 85% then alert 

if cpu usage (user) &gt; 70% then alert 

if cpu usage (system) &gt; 70% then alert 

if cpu usage (wait) &gt; 70% then alert 
</code></pre>

<p>Configurar el monitoreo de apache (Las rutas a los ficheros pertenecen a una distro arch):</p>

<p>check process apache with pidfile /run/httpd/httpd.pid</p>

<pre><code>start program = "/etc/rc.d/httpd start" with timeout 60 seconds 

stop program  = "/etc/rc.d/httpd stop" 

if cpu &gt; 80% for 5 cycles then restart 

if totalmem &gt; 1500.0 MB for 5 cycles then restart 

if children &gt; 250 then restart 

if cpu usage &gt; 95% for 3 cycles then restart 

if failed port 80 protocol http then restart 
</code></pre>

<p>Configurar monitoreo de ssh</p>

<p>check process ssh with pidfile /run/sshd.pid</p>

<pre><code>start program = "/etc/rc.d/sshd start" with timeout 60 seconds 

stop program  = "/etc/rc.d/sshd stop" 

if cpu &gt; 80% for 5 cycles then restart 

if totalmem &gt; 1500.0 MB for 5 cycles then restart 

if children &gt; 250 then restart 

if cpu usage &gt; 95% for 3 cycles then restart 

if failed port 22 protocol ssh then restart 
</code></pre>

<p>Chequear determinados puertos:</p>

<p>check host localhost with address localhost</p>

<pre><code>  if failed icmp type echo count 10 with timeout 15 seconds 

     then alert 

  if failed port 22 proto ssh then alert 

  if failed port 25 proto smtp then alert 

  if failed port 80 proto http then alert 
</code></pre>

<p>Monitorear ciertos archivos de configuración [de apache y ssh] para que alerte si modifica el checksum:</p>

<pre><code>check file httpd.conf with path /etc/httpd/conf/httpd.conf 

if changed checksum then alert 

check file ssh_config with path /etc/ssh/ssh_config 

if changed checksum then alert 
</code></pre>

<p>Monitorizar directorios para que envie una alerta en caso de modificación:</p>

<pre><code>        check directory sbin with path /sbin 

    if changed timestamp then alert 
</code></pre>

<p>Monitorizar dispositivos /dev/ [discos duros, usb&#8230;] para que avise en caso de sobrepasar determinado espacio en disco o lo desmonte al llegar a cierto porcentaje:</p>

<pre><code>check device sda5 with path /dev/sda5 

start = “/bin/mount /dev/sda5” 

stop = “/bin/umount /dev/sda5” 

if space usage &gt; 90% then alert 

if space usage &gt; 98% then stop 
</code></pre>

<p>Si, al pasar algún evento queremos lanzar un script algunos ejemplos para hacerlo son:</p>

<p>1.- Cuando la carga del sistema sobrepasa el indice 5 alertará y si supera el 20 ejecutará el script:</p>

<p>check system dominio.com</p>

<pre><code>if loadavg (1min) &gt; 5 then alert 

if loadavg (1min) &gt; 20 then exec "/bin/bash /root/script.sh" 
</code></pre>

<p>2.- Si falla el servidor ftp [puerto 21], al pasar 20 segundos alertará  y ejecutará el script</p>

<p>if failed port 21 protocol ftp with 20 seconds then alert and exec “/ftp/script.sh”</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[lightdm]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/lightdm/"/>
    <updated>2013-11-21T17:03:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/lightdm</id>
    <content type="html"><![CDATA[<p>Gestor de sesiones.</p>

<p>1.-</p>

<p>Suprimir la cuenta de invitado:</p>

<blockquote><p># nano /etc/lightdm/lightdm.conf</p></blockquote>

<p>Añadir la linea:</p>

<p>allow-guest=false</p>

<blockquote><p># restart lightdm (Reiniciar servicio)</p></blockquote>

<p>2.-</p>

<p>Entrar de forma automática:</p>

<blockquote><p># nano /etc/lightdm/lightdm.conf</p></blockquote>

<p>autologin-user=USUARIO</p>

<p>autologin-user-timeout=0</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[grub2]]></title>
    <link href="https://tractatuslapipaplena.herokuapp.com/blog/grub2/"/>
    <updated>2013-11-21T17:03:00+01:00</updated>
    <id>https://tractatuslapipaplena.herokuapp.com/blog/grub2</id>
    <content type="html"><![CDATA[<p>Gestor de arranque. Los dispositivos empiezan por 0 y las particiones empiezan con 1. “sda1” es “hd0,1” y no “hd0,0” como en el antiguo grub.</p>

<p>1.-</p>

<p>Modificación de parámetros generales:</p>

<blockquote><p># gedit /etc/default/grub</p></blockquote>

<pre><code>GRUB_DEFAULT= 0/saved (0 selecciona primera entrada, 1 la segunda... "saved" selecciona la última entrada  ejecutada.) 

GRUB_TIMEOUT=10 (tiempo de espera antes de arrancar) 

GRUB_HIDDEN_TIMEOUT=0  (esconder el menú de entradas. Si hay varios sistemas comentarlo) 

GRUB_HIDDEN_MENU_QUIET=true (oculta la cuenta atrás. "false" la muestra) 

GRUB_DISTRIBUTOR=lsb_release -i -s 2&gt; /dev/null || echo Debian (determina el nombre del sistema) 

GRUB_CMDLINE_LINUX="acpi_osi=Linux" (opciones concretas que pueden pasarse al arranque) 

GRUB_CMDLINE_LINUX_DEFAULT="splash noapic" (otras opciones por defecto) 

GRUB_GFXMODE=1024x768 (activa el grub gráfico) 

GRUB_DISABLE_LINUX_RECOVERY="true" (muestra la opción de recovery mode en el menú. “false lo suprime) 
</code></pre>

<blockquote><p># update-grub2   (hacer efectivos los cambios)</p></blockquote>

<p>2.-</p>

<p>Para que no aparezca memtest en el menú:</p>

<blockquote><p># chmod -x /etc/grub.d/20_memtest86+</p></blockquote>

<p>El mismo comando con “+x” lo restituye.</p>

<blockquote><p># update-grub2</p></blockquote>

<p>3.-</p>

<p>Quitar lineas que hacen referencia a kernels antiguos:</p>

<blockquote><p># dpkg &#8211;get-selections | grep linux-image  (averiguar los instalados)</p>

<p># apt-get remove &#8211;purge linux-image-2.6.xx-xx-generic</p></blockquote>

<p>El update-grub2 se hará de forma automática.</p>

<p>4.-</p>

<p>Cambiar la imagen de fondo [apt-get install grub2-splashimages]. Si se quieren hacer con gimp, estas han de tener un tamaño de  640×480 pixeles y extensión .tga</p>

<blockquote><p>$ ls /usr/share/images/grub   (directorio de la imágenes)</p>

<p># gedit /etc/grub.d/05_debian_theme</p></blockquote>

<p>Y modificamos en la linea:</p>

<p>WALLPAPER=&#8221;/usr/share/images/grub/Lake_mapourika_NZ.tga&#8221;</p>

<blockquote><p># update-grub2</p></blockquote>

<p>5.-</p>

<p>Reinstalar grub2 desde un live-cd o desde otra partición.</p>

<blockquote><p># fdisk -l   (para saber la partición del grub que queremos instalar)</p>

<p># mount /dev/sda2 /media/sda2  (motar la partición)</p>

<p># mount -o bind /dev/ /media/sda2/dev/  (montar los sistemas de ficheros)</p>

<p># mount -o bind /sys/ /media/sda2/sys/</p>

<p># mount -o bind /proc/ /media/sda2/proc/</p>

<p># chroot /media/sda2    (Chorootear la partición que alberga el grub que vamos a instalar)</p>

<p># grub-install /dev/sda   (instalar grub en el disco)</p></blockquote>

<p>6.-</p>

<p>Para solucionar el problema de que al arrancar un sistema operativo la pantalla no muestra nada, editar el archivo:</p>

<blockquote><p># nano /etc/default/grub</p></blockquote>

<p>Y en la linea:</p>

<p>GRUB_CMDLINE_LINUX_DEFAULT=&#8221;quiet&#8221;</p>

<p>Añadir el chipset de vuestra gráfica:</p>

<pre><code>General (para cualquier gráfica): nomodeset 

ATI (driver libre ati o radeon): radeon.modeset=0 

ATI (driver privativo): nomodeset 

nVidia: xforcevesa o nomodeset 

Nvidia con driver libre (nouveau): nouveau.modeset=0 

Intel: i915.modeset=0 
</code></pre>

<p>Quedando la entrada, por ejemplo para una Intel; como sigue:</p>

<pre><code>GRUB_CMDLINE_LINUX_DEFAULT="quiet i915.modeset=0"
</code></pre>

<p>7.-</p>

<p>Modificar los colores de las fuentes para adaptarlas a las imágenes mostradas.</p>

<blockquote><p># gedit /etc/grub.d/05_debian_theme</p></blockquote>

<p>y modificar las líneas</p>

<p>set menu_color_normal=white/black</p>

<p>set menu_color_highlight=black/light-gray</p>

<p>color_normal (los que se utilizan por defecto)</p>

<p>color_highlight (los que se utilizan para la entrada seleccionada).</p>

<p>El primero de los 2 colores de cada uno de estos campos se refiere al color de la fuente, y el segundo, al color de fondo.</p>

<p>Colores permitidos:</p>

<pre><code>red (rojo)

green (verde) 

blue (azul)

yellow (amarillo)

cyan (cian)

magenta (magenta)

white (blanco)

black (negro) 

light-gray (gris claro)
</code></pre>

<p>8.-</p>

<p>Colocar contraseña a grub2 para dos usuarios:</p>

<blockquote><p># nano /etc/grub.d/00_header</p></blockquote>

<p>Colocar al final:</p>

<p>cat &lt;&lt; EOF</p>

<p>set superusers=”usuario1”</p>

<p>password usuario1 la_contraseña</p>

<p>password usuario2 otra_contraseña</p>

<p>EOF</p>

<p>9.-</p>

<p>Para que en el grub2 salga la partición de windows del sistema pero no otras particiones ntfs (de recuperación, HP, ….)</p>

<blockquote><p>$ gedit /boot/grub/grub.cfg</p></blockquote>

<p>Copiar el menuentry perteneciente a la partición windows (no la de recuperación) y pastearla en:</p>

<blockquote><p># gedit /etc/grub.d/40_custom</p></blockquote>

<p>Luego:</p>

<blockquote><p># gedit /etc/default/grub</p></blockquote>

<p>Y añadir al final del archivo la linea:</p>

<p>GRUB_DISABLE_OS_PROBER=true</p>

<p>Recargar grub:</p>

<blockquote><p># update-grub</p></blockquote>

<p>Nota.- Las entradas de 40_custom no se muestran en la salida de la consola pero quedan reflejadas en el grub.cfg</p>

<p>10.-</p>

<p>Poner contraseña a grub2</p>

<blockquote><p># grub-mkpasswd-pbkdf2 (Crear la contraseña encriptada en SHA512)</p>

<p># nano /etc/grub.d/00_header</p></blockquote>

<p>Y colocar al final del archivo:</p>

<p>cat &lt;&lt; EOF</p>

<p>set superusers=&#8221;usuario&#8221;</p>

<p>password_pbkdf2 usuario contraseña_SHA512</p>

<p>EOF</p>

<blockquote><p># nano /etc/grub.d/10_linux</p></blockquote>

<p>Buscar la linea:</p>

<p>printf &#8220;menuentry &#8216;${title}&#8217; ${CLASS} {\n&#8221; &#8220;${os}&#8221; &#8220;${version}&#8221;</p>

<p>Y colocar al usuario al final de {CLASS}:</p>

<p>printf &#8220;menuentry &#8216;${title}&#8217; ${CLASS} &#8211;users usuario {\n&#8221; &#8220;${os}&#8221; &#8220;${version}&#8221;</p>

<blockquote><p># update-grub</p></blockquote>
]]></content>
  </entry>
  
</feed>
